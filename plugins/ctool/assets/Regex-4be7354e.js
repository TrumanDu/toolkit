import{u as U,i as C}from"./action-cd384d03.js";import{g as A,a as H}from"./util-874621ee.js";import{d as R,z as T,r as i,f,c as D,w as s,v as n,j as t,y as F,I as $,D as P,A as j,k as w,B as y,V as z,F as I}from"./tool-4bde39df.js";import"./modulepreload-polyfill-3cfb730f.js";const L=R({__name:"Reference",setup(B){const p=T(()=>[{title:$t("regex_reference_name"),key:"name",width:150},{title:$t("regex_reference_text"),key:"text",html:!0}]);return(x,o)=>{const u=i("Table"),r=i("HeightResize");return f(),D(r,null,{default:s(({height:e})=>[n(u,{columns:p.value,lists:t(A)(),height:e},null,8,["columns","lists","height"])]),_:1})}}}),N={class:"ctool-page-option",style:{"margin-bottom":"5px"}},q=R({__name:"Regex",async setup(B){let p,x;const o=U(([p,x]=F(()=>C({input:"[\\dheo]",content:new Date().getFullYear()+" hello WORLD 你好世界",replace:"",is_global:!0,is_ignore_case:!0,is_delete:!1},{paste:!1})),p=await p,x(),p));let u=$(""),r=$(!1);return P(()=>o.current,e=>{u.value="";try{if(!e.input||!e.content)return u.value;const l=!e.is_delete&&e.replace===""?!1:e.is_delete?"":e.replace;let c=new RegExp(e.input,(e.is_ignore_case?"i":"")+(e.is_global?"g":""));if(l!==!1)u.value=e.content.replace(c,l);else{let d=e.content.match(c),m="";if(d){m+=`${$t("regex_output_count",[d.length])}`;for(let _=0;_<d.length;_++)m+=`
${d[_]}`}else m=$t("regex_output_empty");u.value=m}o.save()}catch(l){u.value=$error(l)}},{immediate:!0,deep:!0}),(e,l)=>{const c=i("Textarea"),d=i("Dropdown"),m=i("Button"),_=i("Align"),V=i("Display"),h=i("Bool"),b=i("Editor"),k=i("HeightResize"),E=i("ExtendPage"),v=j("row");return f(),w(I,null,[y((f(),w("div",N,[n(V,null,{extra:s(()=>[n(_,null,{default:s(()=>[n(d,{size:"small",options:t(H)(),placeholder:e.$t("regex_common"),onSelect:l[1]||(l[1]=a=>t(o).current.input=a)},null,8,["options","placeholder"]),n(m,{size:"small",type:"primary",onClick:l[2]||(l[2]=a=>z(r)?r.value=!t(r):r=!t(r)),text:e.$t("main_ui_reference")},null,8,["text"])]),_:1})]),default:s(()=>[n(c,{height:80,modelValue:t(o).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>t(o).current.input=a),placeholder:e.$t("regex_expression")},null,8,["modelValue","placeholder"])]),_:1}),n(V,null,{extra:s(()=>[n(h,{border:"",size:"small",modelValue:t(o).current.is_delete,"onUpdate:modelValue":l[4]||(l[4]=a=>t(o).current.is_delete=a),label:e.$t("regex_delete")},null,8,["modelValue","label"])]),default:s(()=>[n(c,{disabled:t(o).current.is_delete,height:80,modelValue:t(o).current.replace,"onUpdate:modelValue":l[3]||(l[3]=a=>t(o).current.replace=a),placeholder:e.$t("regex_replace_content")},null,8,["disabled","modelValue","placeholder"])]),_:1})])),[[v,"1-1"]]),y((f(),D(k,{append:[".ctool-page-option"]},{default:s(({height:a})=>[n(V,null,{extra:s(()=>[n(_,null,{default:s(()=>[n(h,{border:"",size:"small",modelValue:t(o).current.is_global,"onUpdate:modelValue":l[6]||(l[6]=g=>t(o).current.is_global=g),label:e.$t("regex_global")},null,8,["modelValue","label"]),n(h,{border:"",size:"small",modelValue:t(o).current.is_ignore_case,"onUpdate:modelValue":l[7]||(l[7]=g=>t(o).current.is_ignore_case=g),label:e.$t("regex_ignore_case")},null,8,["modelValue","label"])]),_:1})]),default:s(()=>[n(b,{height:a,modelValue:t(o).current.content,"onUpdate:modelValue":l[5]||(l[5]=g=>t(o).current.content=g),placeholder:e.$t("regex_input")},null,8,["height","modelValue","placeholder"])]),_:2},1024),n(b,{height:a,"model-value":t(u),placeholder:e.$t("main_ui_output")},null,8,["height","model-value","placeholder"])]),_:1},8,["append"])),[[v,"1-1"]]),n(E,{modelValue:t(r),"onUpdate:modelValue":l[8]||(l[8]=a=>z(r)?r.value=a:r=a)},{default:s(()=>[n(L)]),_:1},8,["modelValue"])],64)}}});export{q as default};
