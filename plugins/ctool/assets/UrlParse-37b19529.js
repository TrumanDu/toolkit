import{u as f,i as S}from"./action-cd384d03.js";import{d as z,y as b,z as w,D as x,r as n,c as V,w as p,f as q,v as a,j as u,s as O,Y as U,X as A,S as c}from"./tool-4bde39df.js";import"./modulepreload-polyfill-3cfb730f.js";const $=z({__name:"UrlParse",async setup(B){let l,m;const t=f(([l,m]=b(()=>S({input:"",querySerializeOption:A("json")},{paste:r=>r.includes("://")})),l=await l,m(),l)),i=w(()=>{if(t.current.input.trim()==="")return{base:"",path:"",query:c.formQueryString(""),hash:""};try{const e=new URL(t.current.input);return{base:e.origin,path:e.pathname,query:c.formQueryString((e.search.startsWith("?")?e.search.substring(1):e.search)||""),hash:e.hash}}catch(e){return{base:$error(e),path:"",query:c.formQueryString(""),hash:""}}});return x(()=>({url:t.current.input}),()=>{try{new URL(t.current.input),t.save()}catch{}},{immediate:!0}),(r,e)=>{const h=n("Textarea"),s=n("Input"),d=n("Align"),_=n("SerializeOutput"),y=n("HeightResize");return q(),V(y,{reduce:5,ignore:""},{default:p(({small:v,large:g})=>[a(d,{direction:"vertical"},{default:p(()=>[a(h,{height:v,placeholder:r.$t("main_ui_input"),modelValue:u(t).current.input,"onUpdate:modelValue":e[0]||(e[0]=o=>u(t).current.input=o)},null,8,["height","placeholder","modelValue"]),O("div",{style:U([{height:`${g}px`},{display:"grid","grid-template-rows":"auto minmax(0,1fr)",gap:"5px"}])},[a(d,{direction:"vertical"},{default:p(()=>[a(s,{label:"Base","model-value":i.value.base},null,8,["model-value"]),a(s,{label:"Path","model-value":i.value.path},null,8,["model-value"]),a(s,{label:"Hash","model-value":i.value.hash},null,8,["model-value"])]),_:1}),a(_,{placeholder:"Query",content:i.value.query,modelValue:u(t).current.querySerializeOption,"onUpdate:modelValue":e[1]||(e[1]=o=>u(t).current.querySerializeOption=o),onSuccess:e[2]||(e[2]=o=>u(t).save())},null,8,["content","modelValue"])],4)]),_:2},1024)]),_:1})}}});export{$ as default};
