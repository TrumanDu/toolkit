import{B as su}from"./base-f0edccdd.js";import{J as Xa,L as uu}from"./tool-4bde39df.js";import{p as ou}from"./standalone-e4535819.js";import{p as cu}from"./parser-babel-9a1c3922.js";import"./modulepreload-polyfill-3cfb730f.js";var Os={};(function(Ri){function na(t){return t.split("")}function rr(t,a){return a.indexOf(t)>=0}function pf(t,a){for(var u=a.length;--u>=0;)if(t(a[u]))return a[u]}function ts(t){Object.defineProperty(t.prototype,"stack",{get:function(){var a=new Error(this.message);a.name=this.name;try{throw a}catch(u){return u.stack}}})}function wa(t,a){this.message=t,this.defs=a}wa.prototype=Object.create(Error.prototype),wa.prototype.constructor=wa,wa.prototype.name="DefaultsError",ts(wa);function Pr(t,a,u){if(u){for(var s in t)if(Ct(t,s)&&!Ct(a,s))throw new wa("`"+s+"` is not a supported option",a)}for(var s in t)Ct(t,s)&&(a[s]=t[s]);return a}function Lt(){}function zn(){return!1}function Qn(){return!0}function Tr(){return this}function ta(){return null}var Dt=function(){function t(s,m){for(var A=[],G=0;G<s.length;G++){var V=m(s[G],G);V!==a&&(V instanceof u?A.push.apply(A,V.v):A.push(V))}return A}t.is_op=function(s){return s===a||s instanceof u},t.splice=function(s){return new u(s)};var a=t.skip={};function u(s){this.v=s}return t}();function zi(t,a){if(t.indexOf(a)<0)return t.push(a)}function Za(t,a){return t.replace(/\{([^{}]+)\}/g,function(u,s){var m=s=="this"?a:a[s];return m instanceof X?m.print_to_string():m instanceof Qa?m.file+":"+m.line+","+m.col:m})}function gf(t,a){var u=t.indexOf(a);u>=0&&t.splice(u,1)}function Ln(t){Array.isArray(t)||(t=t.split(" "));var a=Object.create(null);return t.forEach(function(u){a[u]=!0}),a}function Je(t,a){for(var u=t.length;--u>=0;)if(!a(t[u],u))return!1;return!0}function Gn(){this.values=Object.create(null)}Gn.prototype={set:function(t,a){return t=="__proto__"?this.proto_value=a:this.values[t]=a,this},add:function(t,a){var u=this.get(t);return u?u.push(a):this.set(t,[a]),this},get:function(t){return t=="__proto__"?this.proto_value:this.values[t]},del:function(t){return t=="__proto__"?delete this.proto_value:delete this.values[t],this},has:function(t){return t=="__proto__"?"proto_value"in this:t in this.values},all:function(t){for(var a in this.values)if(!t(this.values[a],a))return!1;return!("proto_value"in this&&!t(this.proto_value,"__proto__"))},each:function(t){for(var a in this.values)t(this.values[a],a);"proto_value"in this&&t(this.proto_value,"__proto__")},size:function(){return Object.keys(this.values).length+("proto_value"in this)},map:function(t){var a=[];for(var u in this.values)a.push(t(this.values[u],u));return"proto_value"in this&&a.push(t(this.proto_value,"__proto__")),a},clone:function(){var t=new Gn;return this.each(function(a,u){t.set(u,a)}),t},toObject:function(){var t={};return this.each(function(a,u){t["$"+u]=a}),t}},Gn.fromObject=function(t){var a=new Gn;for(var u in t)Ct(t,u)&&a.set(u.slice(1),t[u]);return a};function Ct(t,a){return Object.prototype.hasOwnProperty.call(t,a)}function ka(t,a,u){for(var s=t.parent(-1),m=0,A;A=t.parent(m++);s=A){if(qt(A))return a&&A.value===s;if(A instanceof ae){if(A.left===s)continue}else if(A.TYPE=="Call"){if(A.expression===s)continue}else if(A instanceof _n){if(A.condition===s)continue}else{if(A instanceof Ni)return u;if(A instanceof vn){if(A.expression===s)continue}else if(A instanceof Xe){if(A.expressions[0]===s)continue}else{if(A instanceof je)return!0;if(A instanceof It){if(A.tag===s)continue}else if(A instanceof Or&&A.expression===s)continue}}return!1}}function is(t,a){if(a.length>31)throw new Error("Too many properties: "+a.length+`
`+a.join(", "));a.forEach(function(u,s){var m=1<<s;Object.defineProperty(t.prototype,u,{get:function(){return!!(this._bits&m)},set:function(A){A?this._bits|=m:this._bits&=~m}})})}function le(t,a,u,s){typeof s>"u"&&(s=X),a=a?a.split(/\s+/):[];var m=a;s&&s.PROPS&&(a=a.concat(s.PROPS));var A=["return function AST_",t,"(props){","this._bits=0;","if(props){"];a.forEach(function(fe){A.push("this.",fe,"=props.",fe,";")}),A.push("}");var G=Object.create(s&&s.prototype);(u.initialize||G.initialize)&&A.push("this.initialize();"),A.push("};");var V=new Function(A.join(""))();V.prototype=G,V.prototype.CTOR=V,V.prototype.TYPE=V.TYPE=t,s&&(V.BASE=s,s.SUBCLASSES.push(V)),V.DEFMETHOD=function(fe,P){this.prototype[fe]=P},V.PROPS=a,V.SELF_PROPS=m,V.SUBCLASSES=[];for(var He in u)Ct(u,He)&&(/^\$/.test(He)?V[He.substr(1)]=u[He]:V.DEFMETHOD(He,u[He]));return Ri["AST_"+t]=V,V}var Qa=le("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),X=le("Node","start end",{_clone:function(t){if(t){var a=this.clone();return a.transform(new Jt(function(u){if(u!==a)return u.clone(!0)}))}return new this.CTOR(this)},clone:function(t){return this._clone(t)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},equals:function(t){return this.TYPE==t.TYPE&&this._equals(t)},walk:function(t){t.visit(this)},_validate:function(){if(this.TYPE=="Node")throw new Error("should not instantiate AST_Node")},validate:function(){var t=this.CTOR;do t.prototype._validate.call(this);while(t=t.BASE)},validate_ast:function(){var t={};this.walk(new on(function(a){if(a.validate_visited===t)throw new Error(Za("cannot reuse AST_{TYPE} from [{start}]",a));a.validate_visited=t}))}},null);is(X,["_optimized","_squeezed","call_only","collapse_scanning","defined","evaluating","falsy","in_arg","in_bool","is_undefined","inlined","length_read","nested","new","optional","private","pure","redundant","single_use","static","terminal","truthy","uses_eval","uses_with"]),(X.log_function=function(t,a){if(typeof t!="function"){X.info=X.warn=Lt;return}var u=Object.create(null);X.info=a?function(m,A){s("INFO: "+Za(m,A))}:Lt,X.warn=function(m,A){s("WARN: "+Za(m,A))};function s(m){u[m]||(u[m]=!0,t(m))}})();var rs=[];X.enable_validation=function(){X.disable_validation(),function t(a){if(a.SUBCLASSES.forEach(t),!!Ct(a.prototype,"transform")){var u=a.prototype.transform;a.prototype.transform=function(s,m){var A=u.call(this,s,m);if(A instanceof X)A.validate();else if(!(A===null||m&&Dt.is_op(A)))throw new Error("invalid transformed value: "+A);return A},rs.push(function(){a.prototype.transform=u})}}(this)},X.disable_validation=function(){for(var t;t=rs.pop();)t()};function vi(t,a){return t.length==a.length&&Je(t,function(u,s){return u.equals(a[s])})}function zs(t,a){return t.length==a.length&&Je(t,function(u,s){return u==a[s]})}function Rt(t,a){return t===a?!0:t==null?a==null:t instanceof X&&a instanceof X&&t.equals(a)}var $i=le("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if(this.TYPE=="Statement")throw new Error("should not instantiate AST_Statement")}}),xa=le("Debugger",null,{$documentation:"Represents a debugger statement",_equals:Qn},$i),ni=le("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_equals:function(t){return this.value==t.value},_validate:function(){if(this.quote!=null){if(typeof this.quote!="string")throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if(typeof this.value!="string")throw new Error("value must be string")}},$i),nt=le("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_equals:Qn},$i);function ar(t){return t instanceof $i&&!(t instanceof yr)&&!(t instanceof xt)}function as(t,a,u,s,m){if(u=u?"contain":"be",!(t instanceof X))throw new Error(a+" must "+u+" AST_Node");if(t instanceof In)throw new Error(a+" cannot "+u+" AST_DefaultValue");if(t instanceof Rn)throw new Error(a+" cannot "+u+" AST_Destructured");if(t instanceof Gt&&!m)throw new Error(a+" cannot "+u+" AST_Hole");if(t instanceof Cn&&!s)throw new Error(a+" cannot "+u+" AST_Spread");if(ar(t))throw new Error(a+" cannot "+u+" AST_Statement");if(t instanceof yt)throw new Error(a+" cannot "+u+" AST_SymbolDeclaration")}function lt(t,a){as(t[a],a)}var je=le("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_equals:function(t){return this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.body.walk(t)})},_validate:function(){lt(this,"body")}},$i),ti=le("BlockScope","_var_names enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any inner scopes",functions:"[Dictionary/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Dictionary/S] a map of name ---> SymbolDef for all variables/functions defined in this scope"},clone:function(t){var a=this._clone(t);return this.enclosed&&(a.enclosed=this.enclosed.slice()),this.functions&&(a.functions=this.functions.clone()),this.variables&&(a.variables=this.variables.clone()),a},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if(this.TYPE=="BlockScope")throw new Error("should not instantiate AST_BlockScope");if(this.parent_scope!=null){if(!(this.parent_scope instanceof ti))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof sn))throw new Error("must be contained within AST_Scope")}}},$i);function _i(t,a){t.body.forEach(function(u){u.walk(a)})}var Mt=le("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},_equals:function(t){return vi(this.body,t.body)},walk:function(t){var a=this;t.visit(a,function(){_i(a,t)})},_validate:function(){if(this.TYPE=="Block")throw new Error("should not instantiate AST_Block");this.body.forEach(function(t){if(!ar(t))throw new Error("body must contain AST_Statement")})}},ti),Ve=le("BlockStatement",null,{$documentation:"A block statement"},Mt),Ea=le("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if(this.TYPE=="StatementWithBody")throw new Error("should not instantiate AST_StatementWithBody");if(!ar(this.body))throw new Error("body must be AST_Statement")}},ti),Kt=le("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_equals:function(t){return this.label.equals(t.label)&&this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.label.walk(t),a.body.walk(t)})},clone:function(t){var a=this._clone(t);if(t){var u=a.label,s=this.label;a.walk(new on(function(m){if(m instanceof Dr)return!m.label||m.label.thedef!==s?void 0:(m.label.thedef=u,u.references.push(m),!0);if(m instanceof sn)return!0}))}return a},_validate:function(){if(!(this.label instanceof Oa))throw new Error("label must be AST_Label")}},Ea),Ci=le("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if(this.TYPE=="IterationStatement")throw new Error("should not instantiate AST_IterationStatement")}},Ea),ua=le("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_equals:function(t){return this.body.equals(t.body)&&this.condition.equals(t.condition)},_validate:function(){if(this.TYPE=="DWLoop")throw new Error("should not instantiate AST_DWLoop");lt(this,"condition")}},Ci),Fr=le("Do",null,{$documentation:"A `do` statement",walk:function(t){var a=this;t.visit(a,function(){a.body.walk(t),a.condition.walk(t)})}},ua),ia=le("While",null,{$documentation:"A `while` statement",walk:function(t){var a=this;t.visit(a,function(){a.condition.walk(t),a.body.walk(t)})}},ua),Nt=le("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_equals:function(t){return Rt(this.init,t.init)&&Rt(this.condition,t.condition)&&Rt(this.step,t.step)&&this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.init&&a.init.walk(t),a.condition&&a.condition.walk(t),a.step&&a.step.walk(t),a.body.walk(t)})},_validate:function(){if(this.init!=null){if(!(this.init instanceof X))throw new Error("init must be AST_Node");if(ar(this.init)&&!(this.init instanceof gt))throw new Error("init cannot be AST_Statement")}this.condition!=null&&lt(this,"condition"),this.step!=null&&lt(this,"step")}},Ci),Wt=le("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},_equals:function(t){return this.init.equals(t.init)&&this.object.equals(t.object)&&this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.init.walk(t),a.object.walk(t),a.body.walk(t)})},_validate:function(){if(this.TYPE=="ForEnumeration")throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof gt){if(this.init.definitions.length!=1)throw new Error("init must have single declaration")}else dr(this.init,function(t){if(!(t instanceof vn||t instanceof ee))throw new Error("init must be assignable: "+t.TYPE)});lt(this,"object")}},Ci),oa=le("ForIn",null,{$documentation:"A `for ... in` statement"},Wt),Sa=le("ForOf",null,{$documentation:"A `for ... of` statement"},Wt),Ta=le("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},Sa),br=le("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_equals:function(t){return this.expression.equals(t.expression)&&this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t),a.body.walk(t)})},_validate:function(){lt(this,"expression")}},Ea),sn=le("Scope","fn_defs may_call_this uses_eval uses_with",{$documentation:"Base class for all statements introducing a lambda scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:Tr,_validate:function(){if(this.TYPE=="Scope")throw new Error("should not instantiate AST_Scope")}},Mt),kt=le("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Dictionary/S] a map of name ---> SymbolDef for all undeclared names"},wrap:function(t){var a=this.body;return Ia(["(function(exports){'$ORIG';})(typeof ",t,"=='undefined'?(",t,"={}):",t,");"].join(""),{filename:"wrap="+JSON.stringify(t)}).transform(new Jt(function(u){if(u instanceof ni&&u.value=="$ORIG")return Dt.splice(a)}))},enclose:function(t){typeof t!="string"&&(t="");var a=t.indexOf(":");a<0&&(a=t.length);var u=this.body;return Ia(["(function(",t.slice(0,a),'){"$ORIG"})(',t.slice(a+1),")"].join(""),{filename:"enclose="+JSON.stringify(t)}).transform(new Jt(function(s){if(s instanceof ni&&s.value=="$ORIG")return Dt.splice(u)}))}},sn),bf=le("ClassInitBlock",null,{$documentation:"Value for `class` static initialization blocks"},sn),dn=le("Lambda","argnames length_read rest safe_ids uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean|number/S] whether this function accesses the arguments array"},each_argname:function(t){var a=new on(function(u){if(u instanceof In)return u.name.walk(a),!0;if(u instanceof Ft)return u.value.walk(a),!0;u instanceof Pn&&t(u)});this.argnames.forEach(function(u){u.walk(a)}),this.rest&&this.rest.walk(a)},_equals:function(t){return Rt(this.rest,t.rest)&&Rt(this.name,t.name)&&Rt(this.value,t.value)&&vi(this.argnames,t.argnames)&&vi(this.body,t.body)},walk:function(t){var a=this;t.visit(a,function(){a.name&&a.name.walk(t),a.argnames.forEach(function(u){u.walk(t)}),a.rest&&a.rest.walk(t),_i(a,t)})},_validate:function(){if(this.TYPE=="Lambda")throw new Error("should not instantiate AST_Lambda");this.argnames.forEach(function(t){dr(t,function(a){if(!(a instanceof Pn))throw new Error("argnames must be AST_SymbolFunarg[]")},!0)}),this.rest!=null&&dr(this.rest,function(t){if(!(t instanceof Pn))throw new Error("rest must be AST_SymbolFunarg")})}},sn),ji=le("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(this.name!=null)throw new Error("name must be null")}},dn),xt=le("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if(this.TYPE=="LambdaExpression")throw new Error("should not instantiate AST_LambdaExpression")}},dn);function qt(t){return t instanceof Bi||t instanceof fr}function di(t){return t instanceof fr||t instanceof Ir||t instanceof sr||t instanceof Ar||t instanceof Yi}function Hi(t){return t instanceof Ar||t instanceof Yi||t instanceof Vr||t instanceof ur}function Uf(t,a){qt(t)&&t.value?t.value.walk(a):_i(t,a)}var Bi=le("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(t){var a=this;t.visit(a,function(){a.argnames.forEach(function(u){u.walk(t)}),a.rest&&a.rest.walk(t),a.value?a.value.walk(t):_i(a,t)})},_validate:function(){if(this.name!=null)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(this.value!=null&&(lt(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},xt),fr=le("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(t){var a=this;t.visit(a,function(){a.argnames.forEach(function(u){u.walk(t)}),a.rest&&a.rest.walk(t),a.value?a.value.walk(t):_i(a,t)})},_validate:function(){if(this.name!=null)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(this.value!=null&&(lt(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},xt),sr=le("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof gi))throw new Error("name must be AST_SymbolLambda")}},xt),Yi=le("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof gi))throw new Error("name must be AST_SymbolLambda")}},xt),Ot=le("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof gi))throw new Error("name must be AST_SymbolLambda")}},xt),ur=le("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof gi))throw new Error("name must be AST_SymbolLambda")}},xt),dt=le("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(this.TYPE=="LambdaDefinition")throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof lr))throw new Error("name must be AST_SymbolDefun")}},dn),Ir=le("AsyncDefun",null,{$documentation:"An asynchronous function definition"},dt),Ar=le("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},dt),Pi=le("Defun",null,{$documentation:"A function definition"},dt),Vr=le("GeneratorDefun",null,{$documentation:"A generator function definition"},dt),Pt=le("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},_equals:function(t){return Rt(this.name,t.name)&&Rt(this.extends,t.extends)&&vi(this.properties,t.properties)},resolve:function(t){return t?this:this.parent_scope.resolve()},walk:function(t){var a=this;t.visit(a,function(){a.name&&a.name.walk(t),a.extends&&a.extends.walk(t),a.properties.forEach(function(u){u.walk(t)})})},_validate:function(){if(this.TYPE=="Class")throw new Error("should not instantiate AST_Class");this.extends!=null&&lt(this,"extends"),this.properties.forEach(function(t){if(!(t instanceof Mi))throw new Error("properties must contain AST_ClassProperty")})}},ti),mi=le("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},_validate:function(){if(!(this.name instanceof af))throw new Error("name must be AST_SymbolDefClass")}},Pt),yr=le("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof qa))throw new Error("name must be AST_SymbolClass")}},Pt),Mi=le("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node?] property name (AST_Node for computed property, null for initialization block)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},_equals:function(t){return!this.private==!t.private&&!this.static==!t.static&&Rt(this.key,t.key)&&Rt(this.value,t.value)},walk:function(t){var a=this;t.visit(a,function(){a.key instanceof X&&a.key.walk(t),a.value&&a.value.walk(t)})},_validate:function(){if(this.TYPE=="ClassProperty")throw new Error("should not instantiate AST_ClassProperty");if(this instanceof Gr){if(this.key!=null)throw new Error("key must be null")}else if(typeof this.key!="string"){if(!(this.key instanceof X))throw new Error("key must be string or AST_Node");lt(this,"key")}if(this.value!=null&&!(this.value instanceof X))throw new Error("value must be AST_Node")}}),Rr=le("ClassField",null,{$documentation:"A `class` field",_validate:function(){this.value!=null&&lt(this,"value")}},Mi),ef=le("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof ji))throw new Error("value must be AST_Accessor")}},Mi),nf=le("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof ji))throw new Error("value must be AST_Accessor")}},Mi),ca=le("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof xt))throw new Error("value must be AST_LambdaExpression");if(qt(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(this.value.name!=null)throw new Error("name of class method's lambda must be null")}},Mi),Gr=le("ClassInit",null,{$documentation:"A `class` static initialization block",_validate:function(){if(!this.static)throw new Error("static must be true");if(!(this.value instanceof bf))throw new Error("value must be AST_ClassInitBlock")},initialize:function(){this.static=!0}},Mi),tf=le("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if(this.TYPE=="Jump")throw new Error("should not instantiate AST_Jump")}},$i),Vt=le("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_equals:function(t){return Rt(this.value,t.value)},walk:function(t){var a=this;t.visit(a,function(){a.value&&a.value.walk(t)})},_validate:function(){if(this.TYPE=="Exit")throw new Error("should not instantiate AST_Exit")}},tf),tt=le("Return",null,{$documentation:"A `return` statement",_validate:function(){this.value!=null&&lt(this,"value")}},Vt),rf=le("Throw",null,{$documentation:"A `throw` statement",_validate:function(){lt(this,"value")}},Vt),Dr=le("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_equals:function(t){return Rt(this.label,t.label)},walk:function(t){var a=this;t.visit(a,function(){a.label&&a.label.walk(t)})},_validate:function(){if(this.TYPE=="LoopControl")throw new Error("should not instantiate AST_LoopControl");if(this.label!=null&&!(this.label instanceof mf))throw new Error("label must be AST_LabelRef")}},tf),Ki=le("Break",null,{$documentation:"A `break` statement"},Dr),Jr=le("Continue",null,{$documentation:"A `continue` statement"},Dr),Un=le("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_equals:function(t){return this.body.equals(t.body)&&this.condition.equals(t.condition)&&Rt(this.alternative,t.alternative)},walk:function(t){var a=this;t.visit(a,function(){a.condition.walk(t),a.body.walk(t),a.alternative&&a.alternative.walk(t)})},_validate:function(){if(lt(this,"condition"),this.alternative!=null&&!ar(this.alternative))throw new Error("alternative must be AST_Statement")}},Ea),wi=le("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_equals:function(t){return this.expression.equals(t.expression)&&vi(this.body,t.body)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t),_i(a,t)})},_validate:function(){lt(this,"expression"),this.body.forEach(function(t){if(!(t instanceof or))throw new Error("body must be AST_SwitchBranch[]")})}},Mt),or=le("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if(this.TYPE=="SwitchBranch")throw new Error("should not instantiate AST_SwitchBranch")}},Mt),jr=le("Default",null,{$documentation:"A `default` switch branch"},or),Xi=le("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_equals:function(t){return this.expression.equals(t.expression)&&vi(this.body,t.body)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t),_i(a,t)})},_validate:function(){lt(this,"expression")}},or),Xt=le("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_equals:function(t){return vi(this.body,t.body)&&Rt(this.bcatch,t.bcatch)&&Rt(this.bfinally,t.bfinally)},walk:function(t){var a=this;t.visit(a,function(){_i(a,t),a.bcatch&&a.bcatch.walk(t),a.bfinally&&a.bfinally.walk(t)})},_validate:function(){if(this.bcatch!=null&&!(this.bcatch instanceof Li))throw new Error("bcatch must be AST_Catch");if(this.bfinally!=null&&!(this.bfinally instanceof ra))throw new Error("bfinally must be AST_Finally")}},Mt),Li=le("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},_equals:function(t){return Rt(this.argname,t.argname)&&vi(this.body,t.body)},walk:function(t){var a=this;t.visit(a,function(){a.argname&&a.argname.walk(t),_i(a,t)})},_validate:function(){this.argname!=null&&dr(this.argname,function(t){if(!(t instanceof Ui))throw new Error("argname must be AST_SymbolCatch")})}},Mt),ra=le("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},Mt),gt=le("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_equals:function(t){return vi(this.definitions,t.definitions)},walk:function(t){var a=this;t.visit(a,function(){a.definitions.forEach(function(u){u.walk(t)})})},_validate:function(){if(this.TYPE=="Definitions")throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},$i),qr=le("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(t){if(!(t instanceof Jn))throw new Error("definitions must be AST_VarDef[]");dr(t.name,function(a){if(!(a instanceof pi))throw new Error("name must be AST_SymbolConst")})})}},gt),cr=le("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(t){if(!(t instanceof Jn))throw new Error("definitions must be AST_VarDef[]");dr(t.name,function(a){if(!(a instanceof zr))throw new Error("name must be AST_SymbolLet")})})}},gt),bt=le("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(t){if(!(t instanceof Jn))throw new Error("definitions must be AST_VarDef[]");dr(t.name,function(a){if(!(a instanceof ri))throw new Error("name must be AST_SymbolVar")})})}},gt),Jn=le("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_equals:function(t){return this.name.equals(t.name)&&Rt(this.value,t.value)},walk:function(t){var a=this;t.visit(a,function(){a.name.walk(t),a.value&&a.value.walk(t)})},_validate:function(){this.value!=null&&lt(this,"value")}}),ki=le("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},_equals:function(t){return this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.body.walk(t)})},_validate:function(){if(!(this.body instanceof mi||this.body instanceof gt||this.body instanceof dt))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},$i),Ni=le("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},_equals:function(t){return this.body.equals(t.body)},walk:function(t){var a=this;t.visit(a,function(){a.body.walk(t)})},_validate:function(){this.body instanceof mi||this.body instanceof dt||lt(this,"body")}},$i),Aa=le("ExportForeign","aliases keys path",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[AST_String*] array of aliases to export",keys:"[AST_String*] array of keys to import",path:"[AST_String] the path to import module"},_equals:function(t){return this.path.equals(t.path)&&vi(this.aliases,t.aliases)&&vi(this.keys,t.keys)},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach(function(t){if(!(t instanceof On))throw new Error("aliases must contain AST_String")}),this.keys.forEach(function(t){if(!(t instanceof On))throw new Error("keys must contain AST_String")}),!(this.path instanceof On))throw new Error("path must be AST_String")}},$i),la=le("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},_equals:function(t){return vi(this.properties,t.properties)},walk:function(t){var a=this;t.visit(a,function(){a.properties.forEach(function(u){u.walk(t)})})},_validate:function(){this.properties.forEach(function(t){if(!(t instanceof za))throw new Error("properties must contain AST_SymbolExport")})}},$i),Da=le("Import","all default path properties",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[AST_String] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified"},_equals:function(t){return this.path.equals(t.path)&&Rt(this.all,t.all)&&Rt(this.default,t.default)&&!this.properties==!t.properties&&(!this.properties||vi(this.properties,t.properties))},walk:function(t){var a=this;t.visit(a,function(){a.all&&a.all.walk(t),a.default&&a.default.walk(t),a.properties&&a.properties.forEach(function(u){u.walk(t)})})},_validate:function(){if(this.all!=null){if(!(this.all instanceof Zi))throw new Error("all must be AST_SymbolImport");if(this.properties!=null)throw new Error("cannot import both * and {} in the same statement")}if(this.default!=null){if(!(this.default instanceof Zi))throw new Error("default must be AST_SymbolImport");if(this.default.key.value!=="")throw new Error("invalid default key: "+this.default.key.value)}if(!(this.path instanceof On))throw new Error("path must be AST_String");this.properties!=null&&this.properties.forEach(function(t){if(!(t instanceof Zi))throw new Error("properties must contain AST_SymbolImport")})}},$i),In=le("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},_equals:function(t){return this.name.equals(t.name)&&this.value.equals(t.value)},walk:function(t){var a=this;t.visit(a,function(){a.name.walk(t),a.value.walk(t)})},_validate:function(){lt(this,"value")}});function yf(t,a,u,s){t[a].forEach(function(m){as(m,a,!0,u,s)})}var hn=le("Call","args expression optional pure terminal",{$documentation:"A function call expression",$propdoc:{args:"[AST_Node*] array of arguments",expression:"[AST_Node] expression to invoke as function",optional:"[boolean] whether the expression is optional chaining",pure:"[boolean/S] marker for side-effect-free call expression",terminal:"[boolean] whether the chain has ended"},_equals:function(t){return!this.optional==!t.optional&&this.expression.equals(t.expression)&&vi(this.args,t.args)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t),a.args.forEach(function(u){u.walk(t)})})},_validate:function(){lt(this,"expression"),yf(this,"args",!0)}}),Ai=le("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties",_validate:function(){if(this.optional)throw new Error("optional must be false");if(this.terminal)throw new Error("terminal must be false")}},hn),Xe=le("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_equals:function(t){return vi(this.expressions,t.expressions)},walk:function(t){var a=this;t.visit(a,function(){a.expressions.forEach(function(u){u.walk(t)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");yf(this,"expressions")}});function df(t){for(;t instanceof vn;)t=t.expression;return t}var vn=le("PropAccess","expression optional property terminal",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",optional:"[boolean] whether the expression is optional chaining",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",terminal:"[boolean] whether the chain has ended"},_equals:function(t){return!this.optional==!t.optional&&Rt(this.property,t.property)&&this.expression.equals(t.expression)},get_property:function(){var t=this.property;if(t instanceof ut)return t.value;if(!(t instanceof Ue&&t.operator=="void"&&t.expression instanceof ut))return t},_validate:function(){if(this.TYPE=="PropAccess")throw new Error("should not instantiate AST_PropAccess");lt(this,"expression")}}),et=le("Dot","quoted",{$documentation:"A dotted property access expression",$propdoc:{quoted:"[boolean] whether property is transformed from a quoted string"},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t)})},_validate:function(){if(typeof this.property!="string")throw new Error("property must be string")}},vn),at=le("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t),a.property.walk(t)})},_validate:function(){lt(this,"property")}},vn),Cn=le("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},_equals:function(t){return this.expression.equals(t.expression)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t)})},_validate:function(){lt(this,"expression")}}),ft=le("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_equals:function(t){return this.operator==t.operator&&this.expression.equals(t.expression)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t)})},_validate:function(){if(this.TYPE=="Unary")throw new Error("should not instantiate AST_Unary");if(typeof this.operator!="string")throw new Error("operator must be string");lt(this,"expression")}}),Ue=le("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},ft),Or=le("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},ft),ae=le("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_equals:function(t){return this.operator==t.operator&&this.left.equals(t.left)&&this.right.equals(t.right)},walk:function(t){var a=this;t.visit(a,function(){a.left.walk(t),a.right.walk(t)})},_validate:function(){if(this instanceof Ce||lt(this,"left"),typeof this.operator!="string")throw new Error("operator must be string");lt(this,"right")}}),_n=le("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_equals:function(t){return this.condition.equals(t.condition)&&this.consequent.equals(t.consequent)&&this.alternative.equals(t.alternative)},walk:function(t){var a=this;t.visit(a,function(){a.condition.walk(t),a.consequent.walk(t),a.alternative.walk(t)})},_validate:function(){lt(this,"condition"),lt(this,"consequent"),lt(this,"alternative")}}),Ce=le("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof Rn){if(this.operator!="=")throw new Error("invalid destructuring operator: "+this.operator);dr(this.left,function(t){if(!(t instanceof vn||t instanceof ee))throw new Error("left must be assignable: "+t.TYPE)})}else if(!(this.left instanceof Hr||this.left instanceof Ca||this.left instanceof vn&&!this.left.optional||this.left instanceof ee||this.left instanceof _t))throw new Error("left must be assignable")}},ae),mt=le("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},_equals:function(t){return this.expression.equals(t.expression)},walk:function(t){var a=this;t.visit(a,function(){a.expression.walk(t)})},_validate:function(){lt(this,"expression")}}),xi=le("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},_equals:function(t){return!this.nested==!t.nested&&Rt(this.expression,t.expression)},walk:function(t){var a=this;t.visit(a,function(){a.expression&&a.expression.walk(t)})},_validate:function(){if(this.expression!=null)lt(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),Dn=le("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_equals:function(t){return vi(this.elements,t.elements)},walk:function(t){var a=this;t.visit(a,function(){a.elements.forEach(function(u){u.walk(t)})})},_validate:function(){yf(this,"elements",!0,!0)}}),Rn=le("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if(this.TYPE=="Destructured")throw new Error("should not instantiate AST_Destructured")}});function dr(t,a,u){if(t instanceof In&&u)return dr(t.name,a);if(t instanceof Rn){if(t.rest!=null&&dr(t.rest,a),t instanceof Et)return t.elements.forEach(function(s){s instanceof Gt||dr(s,a,!0)});if(t instanceof ii)return t.properties.forEach(function(s){dr(s.value,a,!0)})}a(t)}var Et=le("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},_equals:function(t){return Rt(this.rest,t.rest)&&vi(this.elements,t.elements)},walk:function(t){var a=this;t.visit(a,function(){a.elements.forEach(function(u){u.walk(t)}),a.rest&&a.rest.walk(t)})}},Rn),Ft=le("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},_equals:function(t){return Rt(this.key,t.key)&&this.value.equals(t.value)},walk:function(t){var a=this;t.visit(a,function(){a.key instanceof X&&a.key.walk(t),a.value.walk(t)})},_validate:function(){if(typeof this.key!="string"){if(!(this.key instanceof X))throw new Error("key must be string or AST_Node");lt(this,"key")}if(!(this.value instanceof X))throw new Error("value must be AST_Node")}}),ii=le("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},_equals:function(t){return Rt(this.rest,t.rest)&&vi(this.properties,t.properties)},walk:function(t){var a=this;t.visit(a,function(){a.properties.forEach(function(u){u.walk(t)}),a.rest&&a.rest.walk(t)})},_validate:function(){this.properties.forEach(function(t){if(!(t instanceof Ft))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},Rn),st=le("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},_equals:function(t){return vi(this.properties,t.properties)},walk:function(t){var a=this;t.visit(a,function(){a.properties.forEach(function(u){u.walk(t)})})},_validate:function(){this.properties.forEach(function(t){if(!(t instanceof Di||t instanceof Cn))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),Di=le("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},_equals:function(t){return Rt(this.key,t.key)&&this.value.equals(t.value)},walk:function(t){var a=this;t.visit(a,function(){a.key instanceof X&&a.key.walk(t),a.value.walk(t)})},_validate:function(){if(this.TYPE=="ObjectProperty")throw new Error("should not instantiate AST_ObjectProperty");if(typeof this.key!="string"){if(!(this.key instanceof X))throw new Error("key must be string or AST_Node");lt(this,"key")}if(!(this.value instanceof X))throw new Error("value must be AST_Node")}}),Zt=le("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){lt(this,"value")}},Di),Mr=le("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof xt))throw new Error("value must be AST_LambdaExpression");if(qt(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(this.value.name!=null)throw new Error("name of object method's lambda must be null")}},Zt),Kr=le("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof ji))throw new Error("value must be AST_Accessor")}},Di),aa=le("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof ji))throw new Error("value must be AST_Accessor")}},Di),jt=le("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_equals:function(t){return this.thedef?this.thedef===t.thedef:this.name==t.name},_validate:function(){if(this.TYPE=="Symbol")throw new Error("should not instantiate AST_Symbol");if(typeof this.name!="string")throw new Error("name must be string")}}),yt=le("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},jt),pi=le("SymbolConst",null,{$documentation:"Symbol defining a constant"},yt),Zi=le("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[AST_String] the original `export` name"},_equals:function(t){return this.name==t.name&&this.key.equals(t.key)},_validate:function(){if(!(this.key instanceof On))throw new Error("key must be AST_String")}},pi),zr=le("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},yt),ri=le("SymbolVar",null,{$documentation:"Symbol defining a variable"},yt),Pn=le("SymbolFunarg","unused",{$documentation:"Symbol naming a function argument"},ri),lr=le("SymbolDefun",null,{$documentation:"Symbol defining a function"},yt),gi=le("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},yt),af=le("SymbolDefClass",null,{$documentation:"Symbol defining a class"},pi),qa=le("SymbolClass",null,{$documentation:"Symbol naming a class expression"},pi),Ui=le("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},yt),Oa=le("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},jt),ee=le("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},jt),za=le("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[AST_String] the `export` alias"},_equals:function(t){return this.name==t.name&&this.alias.equals(t.alias)},_validate:function(){if(!(this.alias instanceof On))throw new Error("alias must be AST_String")}},ee),mf=le("LabelRef",null,{$documentation:"Reference to a label symbol"},jt),Wi=le("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_equals:Qn,_validate:function(){if(this.TYPE=="ObjectIdentity")throw new Error("should not instantiate AST_ObjectIdentity")}},jt),ha=le("Super",null,{$documentation:"The `super` symbol",_validate:function(){if(this.name!=="super")throw new Error('name must be "super"')}},Wi),$a=le("This",null,{$documentation:"The `this` symbol",_validate:function(){if(this.TYPE=="This"&&this.name!=="this")throw new Error('name must be "this"')}},Wi),ff=le("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if(this.name!=="new.target")throw new Error('name must be "new.target": '+this.name)}},$a),It=le("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node?] tag function, or null if absent"},_equals:function(t){return Rt(this.tag,t.tag)&&zs(this.strings,t.strings)&&vi(this.expressions,t.expressions)},walk:function(t){var a=this;t.visit(a,function(){a.tag&&a.tag.walk(t),a.expressions.forEach(function(u){u.walk(t)})})},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");yf(this,"expressions"),this.strings.forEach(function(t){if(typeof t!="string")throw new Error("strings must contain string")}),this.tag!=null&&lt(this,"tag")}}),ut=le("Constant",null,{$documentation:"Base class for all constants",_equals:function(t){return this.value===t.value},_validate:function(){if(this.TYPE=="Constant")throw new Error("should not instantiate AST_Constant")}}),On=le("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(this.quote!=null){if(typeof this.quote!="string")throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if(typeof this.value!="string")throw new Error("value must be string")}},ut),mn=le("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if(typeof this.value!="number")throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},ut),wf=le("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if(typeof this.value!="string")throw new Error("value must be string");if(this.value[0]=="-")throw new Error("value cannot be negative")}},ut),Vi=le("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_equals:function(t){return""+this.value==""+t.value},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},ut),fa=le("Atom",null,{$documentation:"Base class for atoms",_equals:Qn,_validate:function(){if(this.TYPE=="Atom")throw new Error("should not instantiate AST_Atom")}},ut),$r=le("Null",null,{$documentation:"The `null` atom",value:null},fa),Ca=le("NaN",null,{$documentation:"The impossible value",value:0/0},fa),_t=le("Undefined",null,{$documentation:"The `undefined` value",value:function(){}()},fa),Gt=le("Hole",null,{$documentation:"A hole in an array",value:function(){}()},fa),Hr=le("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},fa),Na=le("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if(this.TYPE=="Boolean")throw new Error("should not instantiate AST_Boolean")}},fa),Cr=le("False",null,{$documentation:"The `false` atom",value:!1},Na),Br=le("True",null,{$documentation:"The `true` atom",value:!0},Na);function on(t){this.callback=t,this.directives=Object.create(null),this.stack=[]}on.prototype={visit:function(t,a){this.push(t);var u=this.callback(t,a||Lt);!u&&a&&a(),this.pop()},parent:function(t){return this.stack[this.stack.length-2-(t||0)]},push:function(t){var a;t instanceof Pt?(this.directives=Object.create(this.directives),a="use strict"):t instanceof ni?a=t.value:t instanceof dn&&(this.directives=Object.create(this.directives)),a&&!this.directives[a]&&(this.directives[a]=t),this.stack.push(t)},pop:function(){var t=this.stack.pop();(t instanceof Pt||t instanceof dn)&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(t){for(var a=this.stack,u=a.length-1;--u>=0;){var s=a[u];if(s instanceof t)return s}},has_directive:function(t){var a=this.directives[t];if(a)return a;var u=this.stack[this.stack.length-1];if(u instanceof sn)for(var s=0;s<u.body.length;++s){var m=u.body[s];if(!(m instanceof ni))break;if(m.value==t)return m}},loopcontrol_target:function(t){var a=this.stack;if(t.label)for(var u=a.length;--u>=0;){var s=a[u];if(s instanceof Kt&&s.label.name==t.label.name)return s.body}else for(var u=a.length;--u>=0;){var s=a[u];if(s instanceof Ci||t instanceof Ki&&s instanceof wi)return s}},in_boolean_context:function(){for(var t=!0,a=0,u,s=this.self();u=this.parent(a++);s=u){if(u instanceof ae)switch(u.operator){case"&&":case"||":u.left===s&&(t=!1);continue;default:return!1}if(u instanceof _n){if(u.condition===s)return!0;continue}if(u instanceof ua||u instanceof Nt||u instanceof Un)return u.condition===s;if(u instanceof tt){if(u.in_bool)return!0;for(;u=this.parent(a++);)if(u instanceof dn){if(u.name||(u=this.parent(a++),u.TYPE!="Call"))return!1;break}}if(u instanceof Xe){if(u.tail_node()===s)continue;return t?"d":!0}return u instanceof je?t?"d":!0:u instanceof Ue?u.operator=="!":!1}}};function Jt(t,a){on.call(this),this.before=t,this.after=a}Jt.prototype=new on,function(t){function a(s,m){return Dt(s,function(A){return A.transform(m,!0)})}t(X,Lt),t(Kt,function(s,m){s.label=s.label.transform(m),s.body=s.body.transform(m)}),t(je,function(s,m){s.body=s.body.transform(m)}),t(Mt,function(s,m){s.body=a(s.body,m)}),t(Fr,function(s,m){s.body=s.body.transform(m),s.condition=s.condition.transform(m)}),t(ia,function(s,m){s.condition=s.condition.transform(m),s.body=s.body.transform(m)}),t(Nt,function(s,m){s.init&&(s.init=s.init.transform(m)),s.condition&&(s.condition=s.condition.transform(m)),s.step&&(s.step=s.step.transform(m)),s.body=s.body.transform(m)}),t(Wt,function(s,m){s.init=s.init.transform(m),s.object=s.object.transform(m),s.body=s.body.transform(m)}),t(br,function(s,m){s.expression=s.expression.transform(m),s.body=s.body.transform(m)}),t(Vt,function(s,m){s.value&&(s.value=s.value.transform(m))}),t(Dr,function(s,m){s.label&&(s.label=s.label.transform(m))}),t(Un,function(s,m){s.condition=s.condition.transform(m),s.body=s.body.transform(m),s.alternative&&(s.alternative=s.alternative.transform(m))}),t(wi,function(s,m){s.expression=s.expression.transform(m),s.body=a(s.body,m)}),t(Xi,function(s,m){s.expression=s.expression.transform(m),s.body=a(s.body,m)}),t(Xt,function(s,m){s.body=a(s.body,m),s.bcatch&&(s.bcatch=s.bcatch.transform(m)),s.bfinally&&(s.bfinally=s.bfinally.transform(m))}),t(Li,function(s,m){s.argname&&(s.argname=s.argname.transform(m)),s.body=a(s.body,m)}),t(gt,function(s,m){s.definitions=a(s.definitions,m)}),t(Jn,function(s,m){s.name=s.name.transform(m),s.value&&(s.value=s.value.transform(m))}),t(In,function(s,m){s.name=s.name.transform(m),s.value=s.value.transform(m)}),t(dn,function(s,m){s.name&&(s.name=s.name.transform(m)),s.argnames=a(s.argnames,m),s.rest&&(s.rest=s.rest.transform(m)),s.body=a(s.body,m)});function u(s,m){s.argnames=a(s.argnames,m),s.rest&&(s.rest=s.rest.transform(m)),s.value?s.value=s.value.transform(m):s.body=a(s.body,m)}t(Bi,u),t(fr,u),t(Pt,function(s,m){s.name&&(s.name=s.name.transform(m)),s.extends&&(s.extends=s.extends.transform(m)),s.properties=a(s.properties,m)}),t(Mi,function(s,m){s.key instanceof X&&(s.key=s.key.transform(m)),s.value&&(s.value=s.value.transform(m))}),t(hn,function(s,m){s.expression=s.expression.transform(m),s.args=a(s.args,m)}),t(Xe,function(s,m){s.expressions=a(s.expressions,m)}),t(mt,function(s,m){s.expression=s.expression.transform(m)}),t(xi,function(s,m){s.expression&&(s.expression=s.expression.transform(m))}),t(et,function(s,m){s.expression=s.expression.transform(m)}),t(at,function(s,m){s.expression=s.expression.transform(m),s.property=s.property.transform(m)}),t(Cn,function(s,m){s.expression=s.expression.transform(m)}),t(ft,function(s,m){s.expression=s.expression.transform(m)}),t(ae,function(s,m){s.left=s.left.transform(m),s.right=s.right.transform(m)}),t(_n,function(s,m){s.condition=s.condition.transform(m),s.consequent=s.consequent.transform(m),s.alternative=s.alternative.transform(m)}),t(Dn,function(s,m){s.elements=a(s.elements,m)}),t(Et,function(s,m){s.elements=a(s.elements,m),s.rest&&(s.rest=s.rest.transform(m))}),t(Ft,function(s,m){s.key instanceof X&&(s.key=s.key.transform(m)),s.value=s.value.transform(m)}),t(ii,function(s,m){s.properties=a(s.properties,m),s.rest&&(s.rest=s.rest.transform(m))}),t(st,function(s,m){s.properties=a(s.properties,m)}),t(Di,function(s,m){s.key instanceof X&&(s.key=s.key.transform(m)),s.value=s.value.transform(m)}),t(ki,function(s,m){s.body=s.body.transform(m)}),t(Ni,function(s,m){s.body=s.body.transform(m)}),t(la,function(s,m){s.properties=a(s.properties,m)}),t(Da,function(s,m){s.all&&(s.all=s.all.transform(m)),s.default&&(s.default=s.default.transform(m)),s.properties&&(s.properties=a(s.properties,m))}),t(It,function(s,m){s.tag&&(s.tag=s.tag.transform(m)),s.expressions=a(s.expressions,m)})}(function(t,a){t.DEFMETHOD("transform",function(u,s){var m,A;return u.push(this),u.before&&(m=u.before(this,a,s)),typeof m>"u"&&(m=this,a(m,u),u.after&&(A=u.after(m,s),typeof A<"u"&&(m=A))),u.pop(),m})});var Pa="break case catch class const continue debugger default delete do else extends finally for function if in instanceof new return switch throw try typeof var void while with",kf="false null true",va=["abstract async await boolean byte char double enum export final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",kf,Pa].join(" "),Wf="return new delete throw else case";Pa=Ln(Pa),va=Ln(va),Wf=Ln(Wf),kf=Ln(kf);var $s=/^0b([01]+)$/i,Cs=/^0x([0-9a-f]+)$/i,Ns=/^0o?([0-7]+)$/i,fs=Ln(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),_a=`
\r\u2028\u2029`,xf="+-*&%=<>!?|~^",Ps="[{(",ss=",;:",us=")}]",Vf=ss+us,Ef=Ps+ss,Sf=Ef+"`"+us,Tf=_a+"  	\f\v​             　\uFEFF",os=Ln(na(`./'"#`+xf+Sf+Tf));_a=Ln(na(_a)),xf=Ln(na(xf)),Vf=Ln(na(Vf)),Ef=Ln(na(Ef)),Sf=Ln(na(Sf)),Tf=Ln(na(Tf));function Fs(t){return t>=55296&&t<=56319}function cs(t){return t>=56320&&t<=57343}function ls(t){return t>=48&&t<=57}function Af(t){return!os[t]}function Fa(t){return/^[a-z_$][a-z0-9_$]*$/i.test(t)}function hs(t){switch(t[0]){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"u":var a;if(t[1]=="{"&&t.slice(-1)=="}")a=t.slice(2,-1);else if(t.length==5)a=t.slice(1);else return;var u=parseInt(a,16);return u<0||isNaN(u)?void 0:u<65536?String.fromCharCode(u):u>1114111?void 0:String.fromCharCode((u>>10)+55232)+String.fromCharCode((u&1023)+56320);case"v":return"\v";case"x":if(t.length!=3)return;var u=parseInt(t.slice(1),16);return u<0||isNaN(u)?void 0:String.fromCharCode(u);case"\r":case`
`:return"";default:return t=="0"?"\0":t[0]>="0"&&t[0]<="9"?void 0:t}}function Is(t){var a;if(a=$s.exec(t))return parseInt(a[1],2);if(a=Cs.exec(t))return parseInt(a[1],16);if(a=Ns.exec(t))return parseInt(a[1],8);var u=parseFloat(t);if(u==t)return u}function pa(t,a,u,s,m){this.message=t,this.filename=a,this.line=u,this.col=s,this.pos=m}pa.prototype=Object.create(Error.prototype),pa.prototype.constructor=pa,pa.prototype.name="SyntaxError",ts(pa);function Gf(t,a,u,s,m){throw new pa(t,a,u,s,m)}function qi(t,a,u){return t.type==a&&(u==null||t.value==u)}var Jf={};function Rs(t,a,u,s){var m={text:t,filename:a,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:Object.create(null),read_template:Bn("Unterminated template literal",function(De){for(var Fe="";;){var Me=Be();switch(Me){case"\\":Me+=Be();break;case"`":De.push(Fe);return;case"$":if(G()=="{")return V(),De.push(Fe),m.regex_allowed=!0,!0}Fe+=Me}function Be(){var it=V(!0,!0);return it=="\r"?`
`:it}})},A=!1;function G(){return m.text.charAt(m.pos)}function V(De,Fe){var Me=m.text.charAt(m.pos++);if(De&&!Me)throw Jf;return _a[Me]?(m.col=0,m.line++,Fe||(m.newline_before=!0),Me=="\r"&&G()==`
`&&(m.pos++,Me=`
`)):m.col++,Me}function He(De){for(;De-- >0;)V()}function fe(De){return m.text.substr(m.pos,De.length)==De}function P(){for(var De=m.text,Fe=m.pos;Fe<m.text.length;++Fe)if(_a[De[Fe]])return Fe;return-1}function re(De,Fe){var Me=m.text.indexOf(De,m.pos);if(Fe&&Me==-1)throw Jf;return Me}function ge(){m.tokline=m.line,m.tokcol=m.col,m.tokpos=m.pos}function ke(De,Fe,Me){m.regex_allowed=De=="operator"&&!ga[Fe]||De=="keyword"&&Wf[Fe]||De=="punc"&&Ef[Fe],De=="punc"&&Fe=="."?A=!0:Me||(A=!1);var Be={type:De,value:Fe,line:m.tokline,col:m.tokcol,pos:m.tokpos,endline:m.line,endcol:m.col,endpos:m.pos,nlb:m.newline_before,file:a};return/^(?:num|string|regexp)$/i.test(De)&&(Be.raw=t.substring(Be.pos,Be.endpos)),Me||(Be.comments_before=m.comments_before,Be.comments_after=m.comments_before=[]),m.newline_before=!1,new Qa(Be)}function ye(){for(;Tf[G()];)V()}function L(De){for(var Fe="",Me;(Me=G())&&De(Me,Fe);)Fe+=V();return Fe}function Ee(De){Gf(De,a,m.tokline,m.tokcol,m.tokpos)}function gn(De){return/^0[0-7_]+$/.test(De)}function jn(De){var Fe=!1,Me=!1,Be=!1,it=De==".",Ut=L(function(y,I){switch(y){case"x":case"X":return Be?!1:Be=!0;case"e":case"E":return Be?!0:Fe?!1:Fe=Me=!0;case"+":case"-":return Me;case(Me=!1,"."):return it||Fe||Be||gn(I)?!1:it=!0}return/[_0-9a-dfo]/i.test(y)});De&&(Ut=De+Ut),gn(Ut)?Ht.has_directive("use strict")&&Ee("Legacy octal literals are not allowed in strict mode"):Ut=Ut.replace(Be?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");var l=Is(Ut);return isNaN(l)&&Ee("Invalid syntax: "+Ut),it||Fe||G()!="n"?ke("num",l):ke("bigint",Ut.toLowerCase()+V())}function k(De){var Fe=V(!0,De);if(Fe>="0"&&Fe<="7")return d(Fe);if(Fe=="u"){var Me=V(!0,De);if(Fe+=Me,Me!="{")Fe+=V(!0,De)+V(!0,De)+V(!0,De);else do Me=V(!0,De),Fe+=Me;while(Me!="}")}else Fe=="x"&&(Fe+=V(!0,De)+V(!0,De));var Be=hs(Fe);return typeof Be!="string"&&Ee("Invalid escape sequence: \\"+Fe),Be}function d(De){var Fe=G();return Fe>="0"&&Fe<="7"&&(De+=V(!0),De[0]<="3"&&(Fe=G())>="0"&&Fe<="7"&&(De+=V(!0))),De==="0"?"\0":(De.length>0&&Ht.has_directive("use strict")&&Ee("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(De,8)))}var J=Bn("Unterminated string constant",function(De){for(var Fe=V(),Me="";;){var Be=V(!0,!0);if(Be=="\\")Be=k(!0);else if(_a[Be])Ee("Unterminated string constant");else if(Be==Fe)break;Me+=Be}var it=ke("string",Me);return it.quote=De,it});function ce(De){var Fe=m.regex_allowed,Me=P(),Be;return Me==-1?(Be=m.text.substr(m.pos),m.pos=m.text.length):(Be=m.text.substring(m.pos,Me),m.pos=Me),m.col=m.tokcol+(m.pos-m.tokpos),m.comments_before.push(ke(De,Be,!0)),m.regex_allowed=Fe,Ht}var wn=Bn("Unterminated multiline comment",function(){var De=m.regex_allowed,Fe=re("*/",!0),Me=m.text.substring(m.pos,Fe).replace(/\r\n|\r|\u2028|\u2029/g,`
`);return He(Me.length+2),m.comments_before.push(ke("comment2",Me,!0)),m.regex_allowed=De,Ht});function Hn(){for(var De=!1,Fe,Me=!1,Be=G()=="#"?V():"";Fe=G();)if(De)Fe!="u"&&Ee("Expecting UnicodeEscapeSequence -- uXXXX"),Fe=k(),Af(Fe)||Ee("Unicode char: "+Fe.charCodeAt(0)+" is not valid in identifier"),Be+=Fe,De=!1;else if(Fe=="\\")Me=De=!0,V();else if(Af(Fe))Be+=V();else break;if(Pa[Be]&&Me){var it=Be.charCodeAt(0).toString(16).toUpperCase();Be="\\u"+"0000".substr(it.length)+it+Be.slice(1)}return Be}var c=Bn("Unterminated regular expression",function(De){for(var Fe=!1,Me,Be=!1;Me=V(!0);)if(_a[Me])Ee("Unexpected line terminator");else if(Fe)De+="\\"+Me,Fe=!1;else if(Me=="[")Be=!0,De+=Me;else if(Me=="]"&&Be)Be=!1,De+=Me;else{if(Me=="/"&&!Be)break;Me=="\\"?Fe=!0:De+=Me}var it=Hn();try{var Ut=new RegExp(De,it);return Ut.raw_source=De,ke("regexp",Ut)}catch(l){Ee(l.message)}});function be(De){function Fe(Me){if(!G())return Me;var Be=Me+G();return fs[Be]?(V(),Fe(Be)):Me}return ke("operator",Fe(De||V()))}function ai(){switch(V(),G()){case"/":return V(),ce("comment1");case"*":return V(),wn()}return m.regex_allowed?c(""):be("/")}function pt(){return V(),fe("..")?ke("operator","."+V()+V()):ls(G().charCodeAt(0))?jn("."):ke("punc",".")}function St(){var De=Hn();return A?ke("name",De):kf[De]?ke("atom",De):Pa[De]?fs[De]?ke("operator",De):ke("keyword",De):ke("name",De)}function Bn(De,Fe){return function(Me){try{return Fe(Me)}catch(Be){if(Be===Jf)Ee(De);else throw Be}}}function Ht(De){if(De!=null)return c(De);for(s&&m.pos==0&&fe("#!")&&(ge(),He(2),ce("comment5"));;){if(ye(),ge(),u){if(fe("<!--")){He(4),ce("comment3");continue}if(fe("-->")&&m.newline_before){He(3),ce("comment4");continue}}var Fe=G();if(!Fe)return ke("eof");var Me=Fe.charCodeAt(0);switch(Me){case 34:case 39:return J(Fe);case 46:return pt();case 47:var Be=ai();if(Be===Ht)continue;return Be}if(ls(Me))return jn();if(Sf[Fe])return ke("punc",V());if(fe("=>"))return ke("punc",V()+V());if(xf[Fe])return be();if(Me==35||Me==92||!os[Fe])return St();break}Ee("Unexpected character '"+Fe+"'")}return Ht.context=function(De){return De&&(m=De),m},Ht.add_directive=function(De){m.directives[De]=!0},Ht.push_directives_stack=function(){m.directives=Object.create(m.directives)},Ht.pop_directives_stack=function(){m.directives=Object.getPrototypeOf(m.directives)},Ht.has_directive=function(De){return!!m.directives[De]},Ht}var js=Ln("typeof void delete -- ++ ! ~ - +"),ga=Ln("-- ++"),Hs=Ln("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),hr=function(t,a){for(var u=0;u<t.length;)for(var s=t[u++],m=0;m<s.length;m++)a[s[m]]=u;return a}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),Bs=Ln("atom bigint num regexp string");function Ia(t,a){a=Pr(a,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,module:!1,shebang:!0,strict:!1,toplevel:null},!0);var u={input:typeof t=="string"?Rs(t,a.filename,a.html5_comments,a.shebang):t,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};u.token=A();function s(S,M){return qi(u.token,S,M)}function m(){return u.peeked||(u.peeked=u.input())}function A(){return u.prev=u.token,u.peeked?(u.token=u.peeked,u.peeked=null):u.token=u.input(),u.in_directives=u.in_directives&&(u.token.type=="string"||s("punc",";")),u.token}function G(){return u.prev}function V(S,M,te,_e){var nn=u.input.context();Gf(S,nn.filename,M??nn.tokline,te??nn.tokcol,_e??nn.tokpos)}function He(S,M){V(M,S.line,S.col)}function fe(S,M){return S+(M===void 0?"":" «"+M+"»")}function P(S){S==null&&(S=u.token),He(S,"Unexpected token: "+fe(S.type,S.value))}function re(S,M){if(s(S,M))return A();He(u.token,"Unexpected token: "+fe(u.token.type,u.token.value)+", expected: "+fe(S,M))}function ge(S){return re("punc",S)}function ke(S){return S.nlb||!Je(S.comments_before,function(M){return!M.nlb})}function ye(){return!a.strict&&(s("eof")||s("punc","}")||ke(u.token))}function L(S){s("punc",";")?A():!S&&!ye()&&ge(";")}function Ee(){ge("(");var S=yi();return ge(")"),S}function gn(S){return function(){var M=u.token,te=S.apply(null,arguments),_e=G();return te.start=M,te.end=_e,te}}function jn(){(s("operator","/")||s("operator","/="))&&(u.peeked=null,u.token=u.input(u.token.value.substr(1)))}var k=gn(function(S){switch(jn(),u.token.type){case"string":var M=u.in_directives,te=yi();if(M)if(te instanceof On){var _e=te.start.raw.slice(1,-1);u.input.add_directive(_e),te.value=_e}else u.in_directives=M=!1;return L(),M?new ni(te):new je({body:te});case"num":case"bigint":case"regexp":case"operator":case"atom":return J();case"name":switch(u.token.value){case"async":if(qi(m(),"keyword","function"))return A(),A(),s("operator","*")?(A(),Bn(Ar)):Bn(Ir);break;case"await":if(u.in_async)return J();break;case"export":return!S&&a.module!==""&&P(),A(),Be();case"import":var nn=m();if(nn.type=="punc"&&/^[(.]$/.test(nn.value))break;return!S&&a.module!==""&&P(),A(),y();case"let":if(fi()){A();var fn=Yr();return L(),fn}break;case"yield":if(u.in_generator)return J();break}return qi(m(),"punc",":")?d():J();case"punc":switch(u.token.value){case"{":return new Ve({start:u.token,body:I(),end:G()});case"[":case"(":case"`":return J();case";":return u.in_directives=!1,A(),new nt;default:P()}case"keyword":switch(u.token.value){case"break":return A(),ce(Ki);case"class":return A(),Hn(mi);case"const":A();var fn=Ei();return L(),fn;case"continue":return A(),ce(Jr);case"debugger":return A(),L(),new xa;case"do":A();var te=kr(k);re("keyword","while");var Nn=Ee();return L(!0),new Fr({body:te,condition:Nn});case"while":return A(),new ia({condition:Ee(),body:kr(k)});case"for":return A(),c();case"function":return A(),s("operator","*")?(A(),Bn(Vr)):Bn(Pi);case"if":return A(),Ht();case"return":u.in_function==0&&!a.bare_returns&&V("'return' outside of function"),A();var _e=null;return s("punc",";")?A():ye()||(_e=yi(),L()),new tt({value:_e});case"switch":return A(),new wi({expression:Ee(),body:kr(Oe)});case"throw":A(),ke(u.token)&&V("Illegal newline after 'throw'");var _e=yi();return L(),new rf({value:_e});case"try":return A(),kn();case"var":A();var fn=_r();return L(),fn;case"with":return u.input.has_directive("use strict")&&V("Strict mode may not include a with statement"),A(),new br({expression:Ee(),body:k()})}}P()});function d(){var S=pn(Oa);Je(u.labels,function(te){return te.name!=S.name})||V("Label "+S.name+" defined twice"),ge(":"),u.labels.push(S);var M=k();return u.labels.pop(),M instanceof Ci||S.references.forEach(function(te){te instanceof Jr&&He(te.label.start,"Continue label `"+S.name+"` must refer to IterationStatement")}),new Kt({body:M,label:S})}function J(){var S=yi();return L(),new je({body:S})}function ce(S){var M=null,te;ye()||(M=pn(mf,!0)),M!=null?(te=pf(function(nn){return nn.name==M.name},u.labels),te||He(M.start,"Undefined label "+M.name),M.thedef=te):u.in_loop==0&&V(S.TYPE+" not inside a loop or switch"),L();var _e=new S({label:M});return te&&te.references.push(_e),_e}function wn(S,M){if(s("name",S)){var te=m();if(te&&!qi(te,"operator","=")&&!(te.type=="punc"&&/^[(;}]$/.test(te.value))&&!(M&&ke(te)))return A()}}function Hn(S){var M=u.in_async,te=u.in_generator;u.input.push_directives_stack(),u.input.add_directive("use strict");var _e;S===mi?_e=pn(af):_e=pn(qa,!0);var nn=null;s("keyword","extends")&&(A(),jn(),nn=ct(!0)),ge("{");for(var fn=[];!s("punc","}");){if(s("punc",";")){A();continue}var Nn=u.token,Fn=!!wn("static"),rt=wn("async",!0);if(s("operator","*")){A();var xr=s("name")&&/^#/.test(u.token.value),Wr=er(),ci=u.token,Qt=Bn(rt?Yi:ur);Qt.start=ci,Qt.end=G(),fn.push(new ca({start:Nn,static:Fn,private:xr,key:Wr,value:Qt,end:G()}));continue}if(Fn&&s("punc","{")){fn.push(new Gr({start:Nn,value:new bf({start:Nn,body:I(),end:G()}),end:G()}));continue}var xr=s("name")&&/^#/.test(u.token.value),Wr=er();if(s("punc","(")){var da=u.token,Ra=Bn(rt?sr:Ot);Ra.start=da,Ra.end=G(),fn.push(new ca({start:Nn,static:Fn,private:xr,key:Wr,value:Ra,end:G()}));continue}rt&&P(rt);var ja=null;if(s("operator","="))A(),u.in_async=!1,u.in_generator=!1,ja=oi(),u.in_generator=te,u.in_async=M;else if(!(s("punc",";")||s("punc","}"))){var tr=null;switch(Wr){case"get":tr=ef;break;case"set":tr=nf;break}if(tr){fn.push(new tr({start:Nn,static:Fn,private:s("name")&&/^#/.test(u.token.value),key:er(),value:wr(),end:G()}));continue}}L(),fn.push(new Rr({start:Nn,static:Fn,private:xr,key:Wr,value:ja,end:G()}))}return A(),u.input.pop_directives_stack(),u.in_generator=te,u.in_async=M,new S({extends:nn,name:_e,properties:fn})}function c(){var S=s("name","await")&&A();ge("(");var M=null;if(S||!s("punc",";")){M=s("keyword","const")?(A(),Ei(!0)):s("name","let")&&fi()?(A(),Yr(!0)):s("keyword","var")?(A(),_r(!0)):yi(!0);var te;if(S?(re("name","of"),te=Ta):s("operator","in")?(A(),te=oa):s("name","of")&&(A(),te=Sa),te)return M instanceof gt?(M.definitions.length>1&&He(M.start,"Only one variable declaration allowed in for..in/of loop"),te!==oa&&M.definitions[0].value&&He(M.definitions[0].value.start,"No initializers allowed in for..of loop")):Ur(M)||(M=gr(M))instanceof Rn||He(M.start,"Invalid left-hand side in for..in/of loop"),ai(te,M)}return be(M)}function be(S){ge(";");var M=s("punc",";")?null:yi();ge(";");var te=s("punc",")")?null:yi();return ge(")"),new Nt({init:S,condition:M,step:te,body:kr(k)})}function ai(S,M){jn();var te=yi();return ge(")"),new S({init:M,object:te,body:kr(k)})}function pt(S){if(S instanceof Dn){var M=null;return S.elements[S.elements.length-1]instanceof Cn&&(M=pt(S.elements.pop().expression)),new Et({start:S.start,elements:S.elements.map(pt),rest:M,end:S.end})}if(S instanceof Ce)return new In({start:S.start,name:pt(S.left),value:S.right,end:S.end});if(S instanceof In)return S.name=pt(S.name),S;if(S instanceof Et)return S.elements=S.elements.map(pt),S.rest&&(S.rest=pt(S.rest)),S;if(S instanceof ii)return S.properties.forEach(function(te){te.value=pt(te.value)}),S.rest&&(S.rest=pt(S.rest)),S;if(S instanceof Gt)return S;if(S instanceof st){var M=null;return S.properties[S.properties.length-1]instanceof Cn&&(M=pt(S.properties.pop().expression)),new ii({start:S.start,properties:S.properties.map(function(_e){return _e instanceof Zt||He(_e.start,"Invalid destructuring assignment"),new Ft({start:_e.start,key:_e.key,value:pt(_e.value),end:_e.end})}),rest:M,end:S.end})}if(S instanceof Pn)return S;if(S instanceof ee)return new Pn(S);if(S instanceof xi)return new Pn({start:S.start,name:"yield",end:S.end});He(S.start,"Invalid arrow parameter")}function St(S,M,te){var _e=u.in_async,nn=u.in_generator;u.in_async=te,u.in_generator=!1;var fn=u.in_funarg;u.in_funarg=u.in_function;var Nn=S.map(pt),Fn=S.rest||null;Fn&&(Fn=pt(Fn)),u.in_funarg=fn,ge("=>");var rt,ci,Qt=u.in_loop,xr=u.labels;++u.in_function,u.input.push_directives_stack(),u.in_loop=0,u.labels=[],s("punc","{")?(u.in_directives=!0,rt=I(),ci=null):(rt=[],jn(),ci=oi());var Wr=u.input.has_directive("use strict");u.input.pop_directives_stack(),--u.in_function,u.in_loop=Qt,u.labels=xr,u.in_generator=nn,u.in_async=_e;var da=new(te?fr:Bi)({start:M,argnames:Nn,rest:Fn,body:rt,value:ci,end:G()});return Wr&&da.each_argname(qn),da}var Bn=function(S){var M=u.in_async,te=u.in_generator,_e;/Defun$/.test(S.TYPE)?(_e=pn(lr),u.in_async=/^Async/.test(S.TYPE),u.in_generator=/Generator/.test(S.TYPE)):(u.in_async=/^Async/.test(S.TYPE),u.in_generator=/Generator/.test(S.TYPE),_e=pn(gi,!0)),_e&&S!==ji&&!(_e instanceof yt)&&P(G()),ge("(");var nn=u.in_funarg;u.in_funarg=u.in_function;var fn=ui(")",!a.strict,!1,function(){return bi(Pn)});u.in_funarg=nn;var Nn=u.in_loop,Fn=u.labels;++u.in_function,u.in_directives=!0,u.input.push_directives_stack(),u.in_loop=0,u.labels=[];var rt=I(),ci=u.input.has_directive("use strict");u.input.pop_directives_stack(),--u.in_function,u.in_loop=Nn,u.labels=Fn,u.in_generator=te,u.in_async=M;var Qt=new S({name:_e,argnames:fn,rest:fn.rest||null,body:rt});return ci&&(_e&&qn(_e),Qt.each_argname(qn)),Qt};function Ht(){var S=Ee(),M=k(),te=null;return s("keyword","else")&&(A(),te=k()),new Un({condition:S,body:M,alternative:te})}function De(){return s("name")||s("string")||Fa(u.token.value)}function Fe(S){return new On({start:S,quote:S.quote,value:S.value,end:S})}function Me(){var S=u.token;return re("string"),L(),Fe(S)}function Be(){if(s("operator","*")){var S=u.token,M=S;return A(),s("name","as")&&(A(),De()||re("name"),M=u.token,A()),re("name","from"),new Aa({aliases:[Fe(M)],keys:[Fe(S)],path:Me()})}if(s("punc","{")){A();for(var te=[],_e=[];De();){var S=u.token;A(),_e.push(S),s("name","as")?(A(),De()||re("name"),te.push(u.token),A()):te.push(S),s("punc","}")||ge(",")}return ge("}"),s("name","from")?(A(),new Aa({aliases:te.map(Fe),keys:_e.map(Fe),path:Me()})):(L(),new la({properties:_e.map(function(Nn,Fn){qi(Nn,"name")||He(Nn,"Name expected");var rt=Ie(za,Nn);return rt.alias=Fe(te[Fn]),rt})}))}if(s("keyword","default")){A();var nn=u.token,fn=Ut();return fn?(fn.start=nn,fn.end=G()):(jn(),fn=yi(),L()),new Ni({body:fn})}return new ki({body:l()})}function it(S,M){return M.name&&(M=new S(M),M.name=new(S===mi?af:lr)(M.name)),M}function Ut(){if(s("name","async"))return qi(m(),"keyword","function")?(A(),A(),s("operator","*")?(A(),it(Ar,Bn(Yi))):it(Ir,Bn(sr))):void 0;if(s("keyword"))switch(u.token.value){case"class":return A(),it(mi,Hn(yr));case"function":return A(),s("operator","*")?(A(),it(Vr,Bn(ur))):it(Pi,Bn(Ot))}}var l=gn(function(){if(s("name"))switch(u.token.value){case"async":return A(),re("keyword","function"),s("operator","*")?(A(),Bn(Ar)):Bn(Ir);case"let":A();var S=Yr();return L(),S}else if(s("keyword"))switch(u.token.value){case"class":return A(),Hn(mi);case"const":A();var S=Ei();return L(),S;case"function":return A(),s("operator","*")?(A(),Bn(Vr)):Bn(Pi);case"var":A();var S=_r();return L(),S}P()});function y(){var S=null,M=pn(Zi,!0),te=null,_e;if(M?(M.key=new On({start:M.start,value:"",end:M.end}),(_e=s("punc",","))&&A()):_e=!s("string"),_e)if(s("operator","*")){var nn=u.token;A(),re("name","as"),S=pn(Zi),S.key=Fe(nn)}else{for(ge("{"),te=[];De();){var fn;if(qi(m(),"name","as")){var nn=u.token;A(),A(),fn=pn(Zi),fn.key=Fe(nn)}else fn=pn(Zi),fn.key=new On({start:fn.start,value:fn.name,end:fn.end});te.push(fn),s("punc","}")||ge(",")}ge("}")}return(S||M||te)&&re("name","from"),new Da({all:S,default:M,path:Me(),properties:te})}function I(){ge("{");for(var S=[];!s("punc","}");)s("eof")&&ge("}"),S.push(k());return A(),S}function Oe(){ge("{");for(var S=[],M,te,_e,nn;!s("punc","}");)s("eof")&&ge("}"),s("keyword","case")?(M&&(M.end=G()),te=[],M=new Xi({start:(nn=u.token,A(),nn),expression:yi(),body:te}),S.push(M),ge(":")):s("keyword","default")?(M&&(M.end=G()),_e&&V("More than one default clause in switch statement"),te=[],M=new jr({start:(nn=u.token,A(),ge(":"),nn),body:te}),S.push(M),_e=M):(te||P(),te.push(k()));return M&&(M.end=G()),A(),S}function kn(){var S=I(),M=null,te=null;if(s("keyword","catch")){var _e=u.token;A();var nn=null;s("punc","(")&&(A(),nn=Tt(Ui),ge(")")),M=new Li({start:_e,argname:nn,body:I(),end:G()})}if(s("keyword","finally")){var _e=u.token;A(),te=new ra({start:_e,body:I(),end:G()})}return!M&&!te&&V("Missing catch/finally blocks"),new Xt({body:S,bcatch:M,bfinally:te})}function ot(S,M){for(var te=[];;){var _e=u.token,nn=Tt(S),fn=null;if(s("operator","=")?(A(),fn=oi(M)):!M&&(S===pi||nn instanceof Rn)&&V("Missing initializer in declaration"),te.push(new Jn({start:_e,name:nn,value:fn,end:G()})),!s("punc",","))break;A()}return te}function fi(){var S=m();return qi(S,"name")||qi(S,"punc","[")||qi(S,"punc","{")}var Ei=function(S){return new qr({start:G(),definitions:ot(pi,S),end:G()})},Yr=function(S){return new cr({start:G(),definitions:ot(zr,S),end:G()})},_r=function(S){return new bt({start:G(),definitions:ot(ri,S),end:G()})},Qi=function(S){var M=u.token;re("operator","new");var te;if(s("punc",".")&&qi(m(),"name","target"))A(),A(),te=new ff;else{var _e=ct(!1),nn;s("punc","(")?(A(),nn=ui(")",!a.strict)):nn=[],te=new Ai({expression:_e,args:nn})}return te.start=M,te.end=G(),Ii(te,S)};function si(){var S,M=u.token,te=M.value;switch(M.type){case"num":isFinite(te)?S=new mn({value:te}):(S=new Hr,te<0&&(S=new Ue({operator:"-",expression:S})));break;case"bigint":S=new wf({value:te});break;case"string":S=new On({value:te,quote:M.quote});break;case"regexp":S=new Vi({value:te});break;case"atom":switch(te){case"false":S=new Cr;break;case"true":S=new Br;break;case"null":S=new $r;break;default:P()}break;default:P()}return A(),S.start=S.end=M,S}var ct=function(S){if(s("operator","new"))return Qi(S);var M=u.token;if(s("punc")){switch(M.value){case"`":return Ii(Lr(null),S);case"(":if(A(),s("punc",")"))return A(),St([],M);var te=yi(!1,!0),_e=M.comments_before.length;if([].unshift.apply(te.start.comments_before,M.comments_before),M.comments_before.length=0,M.comments_before=te.start.comments_before,M.comments_before_length=_e,_e==0&&M.comments_before.length>0){var nn=M.comments_before[0];nn.nlb||(nn.nlb=M.nlb,M.nlb=!1)}M.comments_after=te.start.comments_after,te.start=M,ge(")");var fn=G();return fn.comments_before=te.end.comments_before,fn.comments_after.forEach(function(xr){te.end.comments_after.push(xr),xr.nlb&&(u.token.nlb=!0)}),fn.comments_after.length=0,fn.comments_after=te.end.comments_after,te.end=fn,s("punc","=>")?St(te instanceof Xe?te.expressions:[te],M):Ii(te,S);case"[":return Ii(Qr(),S);case"{":return Ii(ya(),S)}P()}if(s("keyword"))switch(M.value){case"class":A();var Nn=Hn(yr);return Nn.start=M,Nn.end=G(),Ii(Nn,S);case"function":A();var Fn;return s("operator","*")?(A(),Fn=Bn(ur)):Fn=Bn(Ot),Fn.start=M,Fn.end=G(),Ii(Fn,S)}if(s("name")){var rt=Ie(ee,M);if(A(),rt.name=="async"){if(s("keyword","function")){A();var Fn;return s("operator","*")?(A(),Fn=Bn(Yi)):Fn=Bn(sr),Fn.start=M,Fn.end=G(),Ii(Fn,S)}if(s("name")&&qi(m(),"punc","=>"))return M=u.token,rt=Ie(ee,M),A(),St([rt],M,!0);if(s("punc","(")){var ci=Ii(rt,S);if(!s("punc","=>"))return ci;var Qt=ci.args;return Qt[Qt.length-1]instanceof Cn&&(Qt.rest=Qt.pop().expression),St(Qt,M,!0)}}return s("punc","=>")?St([rt],M):Ii(rt,S)}if(Bs[u.token.type])return Ii(si(),S);P()};function ui(S,M,te,_e){_e||(_e=oi);for(var nn=!0,fn=[];!s("punc",S)&&(nn?nn=!1:ge(","),!(M&&s("punc",S)));)if(te&&s("punc",","))fn.push(new Gt({start:u.token,end:u.token}));else if(!s("operator","..."))fn.push(_e());else if(_e===oi)fn.push(new Cn({start:u.token,expression:(A(),_e()),end:G()}));else{A(),fn.rest=_e(),fn.rest instanceof In&&He(fn.rest.start,"Invalid rest parameter");break}return ge(S),fn}var Qr=gn(function(){return ge("["),new Dn({elements:ui("]",!a.strict,!0)})}),wr=gn(function(){return Bn(ji)}),ya=gn(function(){ge("{");for(var S=!0,M=[];!s("punc","}")&&(S?S=!1:ge(","),!(!a.strict&&s("punc","}")));){var te=u.token;if(s("operator","*")){A();var Nn=er(),_e=u.token,nn=Bn(ur);nn.start=_e,nn.end=G(),M.push(new Mr({start:te,key:Nn,value:nn,end:G()}));continue}if(s("operator","...")){A(),M.push(new Cn({start:te,expression:oi(),end:G()}));continue}if(qi(m(),"operator","=")){var fn=pn(ee);A(),M.push(new Zt({start:te,key:te.value,value:new Ce({start:te,left:fn,operator:"=",right:oi(),end:G()}),end:G()}));continue}if(qi(m(),"punc",",")||qi(m(),"punc","}")){M.push(new Zt({start:te,key:te.value,value:pn(ee),end:G()}));continue}var Nn=er();if(s("punc","(")){var Fn=u.token,rt=Bn(Ot);rt.start=Fn,rt.end=G(),M.push(new Mr({start:te,key:Nn,value:rt,end:G()}));continue}if(s("punc",":")){A(),M.push(new Zt({start:te,key:Nn,value:oi(),end:G()}));continue}if(te.type=="name")switch(Nn){case"async":var ci=s("operator","*")&&A();Nn=er();var Fn=u.token,rt=Bn(ci?Yi:sr);rt.start=Fn,rt.end=G(),M.push(new Mr({start:te,key:Nn,value:rt,end:G()}));continue;case"get":M.push(new aa({start:te,key:er(),value:wr(),end:G()}));continue;case"set":M.push(new Kr({start:te,key:er(),value:wr(),end:G()}));continue}P()}return A(),new st({properties:M})});function er(){var S=u.token;switch(S.type){case"operator":Pa[S.value]||P();case"num":case"string":case"name":case"keyword":case"atom":return A(),""+S.value;case"punc":ge("[");var M=oi();return ge("]"),M;default:P()}}function se(){var S=u.token.value;return re("name"),S}function Ie(S,M){var te=M.value;switch(te){case"await":u.in_async&&P(M);break;case"super":S=ha;break;case"this":S=$a;break;case"yield":u.in_generator&&P(M);break}return new S({name:""+te,start:M,end:M})}function qn(S){(S.name=="arguments"||S.name=="eval"||S.name=="let")&&He(S.start,"Unexpected "+S.name+" in strict mode")}function pn(S,M){if(!s("name"))return M||V("Name expected"),null;var te=Ie(S,u.token);return u.input.has_directive("use strict")&&te instanceof yt&&qn(te),A(),te}function Tt(S){var M=u.token;if(s("punc","[")){A();var te=ui("]",!a.strict,!0,function(){return bi(S)});return new Et({start:M,elements:te,rest:te.rest||null,end:G()})}if(s("punc","{")){A();for(var _e=!0,nn=[],fn=null;!s("punc","}")&&(_e?_e=!1:ge(","),!(!a.strict&&s("punc","}")));){var Nn=u.token;if(s("punc","[")||qi(m(),"punc",":")){var Fn=er();ge(":"),nn.push(new Ft({start:Nn,key:Fn,value:bi(S),end:G()}));continue}if(s("operator","...")){A(),fn=Tt(S);break}var rt=pn(S);s("operator","=")&&(A(),rt=new In({start:rt.start,name:rt,value:oi(),end:G()})),nn.push(new Ft({start:Nn,key:Nn.value,value:rt,end:G()}))}return ge("}"),new ii({start:M,properties:nn,rest:fn,end:G()})}return pn(S)}function bi(S){var M=u.token,te=Tt(S);return s("operator","=")?(A(),new In({start:M,name:te,value:oi(),end:G()})):te}function Lr(S){for(var M=S?S.start:u.token,te=u.input.context().read_template,_e=[],nn=[];te(_e);)A(),nn.push(yi()),s("punc","}")||P();return A(),new It({start:M,expressions:nn,strings:_e,tag:S,end:G()})}function Ii(S,M){for(var te=S.start,_e=null;;)if(s("operator","?")&&qi(m(),"punc",".")&&(A(),A(),_e=S),s("punc","[")){A();var nn=yi();ge("]"),S=new at({start:te,optional:_e===S,expression:S,property:nn,end:G()})}else if(M&&s("punc","("))A(),S=new hn({start:te,optional:_e===S,expression:S,args:ui(")",!a.strict),end:G()});else if(_e===S||s("punc","."))_e!==S&&A(),S=new et({start:te,optional:_e===S,expression:S,property:se(),end:G()});else if(s("punc","`"))_e&&V("Invalid template on optional chain"),S=Lr(S);else break;if(_e&&(S.terminal=!0),S instanceof hn&&!S.pure){for(var te=S.start,fn=te.comments_before,Nn=Ct(te,"comments_before_length")?te.comments_before_length:fn.length;--Nn>=0;)if(/[@#]__PURE__/.test(fn[Nn].value)){S.pure=!0;break}}return S}function zt(S){var M=u.token;if(u.in_async&&s("name","await"))return u.in_funarg===u.in_function&&V("Invalid use of await in function argument"),u.input.context().regex_allowed=!0,A(),new mt({start:M,expression:zt(S),end:G()});if(u.in_generator&&s("name","yield")){u.in_funarg===u.in_function&&V("Invalid use of yield in function argument"),u.input.context().regex_allowed=!0,A();var te=null,_e=!1;return s("operator","*")?(A(),te=oi(S),_e=!0):(s("punc")?!Vf[u.token.value]:!ye())&&(te=oi(S)),new xi({start:M,expression:te,nested:_e,end:G()})}if(s("operator")&&js[M.value]){A(),jn();var nn=nr(Ue,M,zt(S));return nn.start=M,nn.end=G(),nn}for(var fn=ct(!0);s("operator")&&ga[u.token.value]&&!ke(u.token);)fn=nr(Or,u.token,fn),fn.start=M,fn.end=u.token,A();return fn}function nr(S,M,te){var _e=M.value;switch(_e){case"++":case"--":Ur(te)||He(M,"Invalid use of "+_e+" operator");break;case"delete":te instanceof ee&&u.input.has_directive("use strict")&&He(te.start,"Calling delete on expression not allowed in strict mode");break}return new S({operator:_e,expression:te})}var pr=function(S,M,te){var _e=s("operator")?u.token.value:null;_e=="in"&&te&&(_e=null);var nn=_e!=null?hr[_e]:null;if(nn!=null&&nn>M){A();var fn=pr(zt(te),_e=="**"?nn-1:nn,te);return pr(new ae({start:S.start,left:S,operator:_e,right:fn,end:fn.end}),M,te)}return S};function uf(S){return pr(zt(S),0,S)}var Cf=function(S){var M=u.token,te=uf(S);if(s("operator","?")){A();var _e=oi();return ge(":"),new _n({start:M,condition:te,consequent:_e,alternative:oi(S),end:G()})}return te};function Ur(S){return S instanceof vn&&!S.optional||S instanceof ee}function gr(S){if(S instanceof Dn){var _e=null;if(S.elements[S.elements.length-1]instanceof Cn&&(_e=gr(S.elements.pop().expression),!(_e instanceof Rn||Ur(_e))))return S;var M=S.elements.map(gr);return Je(M,function(ci){return ci instanceof In||ci instanceof Rn||ci instanceof Gt||Ur(ci)})?new Et({start:S.start,elements:M,rest:_e,end:S.end}):S}if(S instanceof Ce){var te=gr(S.left);return te instanceof Rn||Ur(te)?new In({start:S.start,name:te,value:S.right,end:S.end}):S}if(!(S instanceof st))return S;var _e=null;if(S.properties[S.properties.length-1]instanceof Cn&&(_e=gr(S.properties.pop().expression),!(_e instanceof Rn||Ur(_e))))return S;for(var nn=[],fn=0;fn<S.properties.length;fn++){var Nn=S.properties[fn];if(!(Nn instanceof Zt))return S;var Fn=gr(Nn.value);if(!(Fn instanceof In||Fn instanceof Rn||Ur(Fn)))return S;nn.push(new Ft({start:Nn.start,key:Nn.key,value:Fn,end:Nn.end}))}return new ii({start:S.start,properties:nn,rest:_e,end:S.end})}function oi(S){var M=u.token,te=Cf(S),_e=u.token.value;if(s("operator")&&Hs[_e]){if(Ur(te)||_e=="="&&(te=gr(te))instanceof Rn)return A(),new Ce({start:M,left:te,operator:_e,right:oi(S),end:G()});V("Invalid assignment")}return te}function yi(S,M){for(var te=u.token,_e=[];;){if(M&&s("operator","...")){A(),_e.rest=Tt(Pn);break}if(_e.push(oi(S)),!s("punc",",")||(A(),M&&s("punc",")")&&qi(m(),"punc","=>")))break}return _e.length==1&&!_e.rest?_e[0]:new Xe({start:te,expressions:_e,end:G()})}function kr(S){++u.in_loop;var M=S();return--u.in_loop,M}if(a.expression){jn();var Nf=yi();return re("eof"),Nf}return function(){var S=u.token,M=[];for(a.module&&(u.in_async=!0,u.input.add_directive("use strict")),u.input.push_directives_stack();!s("eof");)M.push(k(!0));u.input.pop_directives_stack();var te=G()||S,_e=a.toplevel;return _e?(_e.body=_e.body.concat(M),_e.end=te):_e=new kt({start:S,body:M,end:te}),_e}()}function Mf(t,a,u,s){this._bits=0,this.defun=void 0,this.eliminated=0,this.id=t,this.init=s,this.mangled_name=null,this.name=u.name,this.orig=[u],this.references=[],this.replaced=0,this.safe_ids=void 0,this.scope=a}Mf.prototype={forEach:function(t){this.orig.forEach(t),this.references.forEach(t)},mangle:function(t){if(!this.mangled_name){var a=this.global&&t.cache&&t.cache.props;if(a&&a.has(this.name))this.mangled_name=a.get(this.name);else if(this.unmangleable(t))qf(this.scope,t).set(this.name,!0);else{var u=this.redefined();u?this.mangled_name=u.mangled_name||u.name:this.mangled_name=Ys(this,t),a&&a.set(this.name,this.mangled_name)}}},redefined:function(){var t=this,a=t.defun;if(a){var u=t.name,s=a.variables.get(u)||a instanceof kt&&a.globals.get(u)||t.orig[0]instanceof pi&&pf(function(m){return m.name==u},a.enclosed);if(s&&s!==t)return s.redefined()||s}},unmangleable:function(t){if(this.exported||this.undeclared||!t.eval&&this.scope.pinned()||t.keep_fargs&&mr(this))return!0;if(t.keep_fnames){var a=this.orig[0];if(a instanceof qa||a instanceof af||a instanceof lr||a instanceof gi)return!0}return!!(!t.toplevel&&this.global)}},is(Mf,["const_redefs","cross_loop","direct_access","exported","global","undeclared"]);function mr(t){return t.orig[0]instanceof Pn||t.orig[1]instanceof Pn}var ba=Ln("delete ++ --");function Fi(t,a){if(a instanceof Ce)return a.left===t&&t;if(a instanceof In)return a.name===t&&t;if(a instanceof Rn||a instanceof Ft)return t;if(a instanceof Wt)return a.init===t&&t;if(a instanceof ft)return ba[a.operator]&&a.expression}kt.DEFMETHOD("figure_out_scope",function(t){t=Pr(t,{cache:null,ie:!1});var a=this,u=null,s=!1,m=0,A=a.parent_scope=null,V=new on(function(P,re){if(P instanceof mi){var ge=s;return s=V.parent()instanceof ki,P.name.walk(V),s=ge,L(function(){P.extends&&P.extends.walk(V),P.properties.forEach(function(Ee){Ee.walk(V)})}),!0}if(P instanceof gt){var ge=s;return s=V.parent()instanceof ki,re(),s=ge,!0}if(P instanceof dt){var ge=s;return s=V.parent()instanceof ki,P.name.walk(V),s=ge,L(function(){P.argnames.forEach(function(gn){gn.walk(V)}),P.rest&&P.rest.walk(V),_i(P,V)}),!0}if(P instanceof or)return P.init_vars(A),re(),!0;if(P instanceof Xt)return L(function(){_i(P,V)}),P.bcatch&&P.bcatch.walk(V),P.bfinally&&P.bfinally.walk(V),!0;if(P instanceof br){var ke=A;do{if(ke=ke.resolve(),ke.uses_with)break;ke.uses_with=!0}while(ke=ke.parent_scope);return L(re),!0}if(P instanceof ti)return L(re),!0;if(P instanceof jt&&(P.scope=A),P instanceof Oa&&(P.thedef=P,P.references=[]),P instanceof Ui)A.def_variable(P).defun=u;else if(P instanceof pi){var ye=A.def_variable(P);ye.defun=u,s&&(ye.exported=!0)}else if(P instanceof lr){var ye=u.def_function(P,V.parent());s&&(ye.exported=!0)}else if(P instanceof Pn)u.def_variable(P);else if(P instanceof gi){var ye=u.def_function(P,P.name=="arguments"?void 0:u);t.ie&&P.name!="arguments"&&(ye.defun=u.parent_scope.resolve())}else if(P instanceof zr){var ye=A.def_variable(P);s&&(ye.exported=!0)}else if(P instanceof ri){var ye=u.def_variable(P,P instanceof Zi?void 0:null);s&&(ye.exported=!0)}function L(Ee){P.init_vars(A);var gn=u,jn=A;P instanceof sn&&(u=P),A=P,Ee(),A=jn,u=gn}});a.make_def=function(P,re){return new Mf(++m,this,P,re)},a.walk(V),a.globals=new Gn;var G=[],V=new on(function(P){if(P instanceof Li)return P.argname instanceof Rn?(G.push(P),P.argname.walk(V),G.pop(),_i(P,V),!0):void 0;if(P instanceof dn)return G.push(P),P.name&&P.name.walk(V),P.argnames.forEach(function(d){d.walk(V)}),P.rest&&P.rest.walk(V),G.pop(),Uf(P,V),!0;if(P instanceof Dr)return P.label&&P.label.thedef.references.push(P),!0;if(P instanceof yt){var re=P.definition();if(re.preinit=re.references.length,P instanceof Ui){var ge=re.redefined();if(ge)for(var ke=P.scope;ke&&!(!zi(ke.enclosed,ge)||ke===ge.scope);ke=ke.parent_scope);}else if(P instanceof pi){var ge=re.redefined();ge&&(ge.const_redefs=!0)}else if(re.scope!==P.scope&&(P instanceof lr||P instanceof Pn||P instanceof ri)){P.mark_enclosed(t);var ge=P.scope.find_variable(P.name);P.thedef!==ge&&(P.thedef=ge,ge.orig.push(P),P.mark_enclosed(t))}if(P.name!="arguments")return!0;var ye=P instanceof ri&&V.parent();if(ye instanceof Jn&&!ye.value)return!0;var L=P.scope.resolve().find_variable("arguments");return L&&He(L)&&(L.scope.uses_arguments=3),!0}if(P instanceof ee){for(var Ee=P.name,L=P.scope.find_variable(Ee),gn=G.length;gn>0&&L&&(gn=G.lastIndexOf(L.scope,gn-1),!(gn<0));){var jn=L.orig[0];if(jn instanceof Ui||jn instanceof Pn||jn instanceof gi){P.in_arg=!0;break}L=L.scope.parent_scope.find_variable(Ee)}if(!L)L=a.def_global(P);else if(Ee=="arguments"&&He(L)){var ye=V.parent();Fi(P,ye)?L.scope.uses_arguments=3:L.scope.uses_arguments<2&&!(ye instanceof vn&&ye.expression===P)?L.scope.uses_arguments=2:L.scope.uses_arguments||(L.scope.uses_arguments=!0)}if(Ee=="eval"){var ye=V.parent();if(ye.TYPE=="Call"&&ye.expression===P){var ke=P.scope;do{if(ke=ke.resolve(),ke.uses_eval)break;ke.uses_eval=!0}while(ke=ke.parent_scope)}else L.undeclared&&(a.uses_eval=!0)}if(L.init instanceof dt&&L.scope!==L.init.name.scope){var k=P.scope;do if(k===L.init.name.scope)break;while(k=k.parent_scope);k||(L.init=void 0)}return P.thedef=L,P.reference(t),!0}});a.walk(V),t.ie&&a.walk(new on(function(P){if(P instanceof Ui){var re=P.thedef,ge=re.defun;return re.name!="arguments"&&ge.name instanceof gi&&ge.name.name==re.name&&(ge=ge.parent_scope.resolve()),fe(P,ge),!0}if(P instanceof gi){var re=P.thedef;return fe(P,P.scope.parent_scope.resolve())?typeof P.thedef.init<"u"?P.thedef.init=!1:re.init&&(P.thedef.init=re.init):re.defun=void 0,!0}}));function He(P){return P.orig[0]instanceof Pn&&!(P.orig[1]instanceof Pn||P.orig[2]instanceof Pn)&&!qt(P.scope)}function fe(P,re){var ge=P.name,ke=P.thedef;if(!Je(ke.orig,function(Ee){return!(Ee instanceof pi||Ee instanceof zr)}))return!1;var ye=re.find_variable(ge);if(ye){var L=ye.redefined();L&&(ye=L)}else ye=a.globals.get(ge);return ye?ye.orig.push(P):ye=re.def_variable(P),ye.undeclared&&a.variables.set(ge,ye),ge=="arguments"&&He(ke)&&P instanceof gi||(ke.defun=ye.scope,ke.forEach(function(Ee){Ee.redef=ke,Ee.thedef=ye,Ee.reference(t)})),!0}}),kt.DEFMETHOD("def_global",function(t){var a=this.globals,u=t.name;if(a.has(u))return a.get(u);var s=this.make_def(t);return s.undeclared=!0,s.global=!0,a.set(u,s),s});function vs(t,a){t.enclosed=[],t.parent_scope=a,t.functions=new Gn,t.variables=new Gn,a&&(t.make_def=a.make_def)}function Df(t,a){vs(t,a),t.uses_eval=!1,t.uses_with=!1}ti.DEFMETHOD("init_vars",function(t){vs(this,t)}),sn.DEFMETHOD("init_vars",function(t){Df(this,t)}),Bi.DEFMETHOD("init_vars",function(t){return Df(this,t),this}),fr.DEFMETHOD("init_vars",function(t){Df(this,t)}),dn.DEFMETHOD("init_vars",function(t){return Df(this,t),this.uses_arguments=!1,this.def_variable(new Pn({name:"arguments",scope:this,start:this.start,end:this.end})),this}),jt.DEFMETHOD("mark_enclosed",function(t){for(var a=this.definition(),u=this.scope;u&&!(!zi(u.enclosed,a)||(t?(t.keep_fargs&&u instanceof dn&&u.each_argname(function(s){zi(a.scope.enclosed,s.definition())}),t.keep_fnames&&u.functions.each(function(s){zi(a.scope.enclosed,s)})):u._var_names=void 0,u===a.scope));u=u.parent_scope);}),jt.DEFMETHOD("reference",function(t){this.definition().references.push(this),this.mark_enclosed(t)}),ti.DEFMETHOD("find_variable",function(t){return this.variables.get(t)||this.parent_scope&&this.parent_scope.find_variable(t)}),ti.DEFMETHOD("def_function",function(t,a){var u=this.def_variable(t,a);return(!u.init||u.init instanceof dt)&&(u.init=a),this.functions.set(t.name,u),u}),ti.DEFMETHOD("def_variable",function(t,a){var u=this.variables.get(t.name);return u?(u.orig.push(t),u.init instanceof xt&&(u.init=a)):(u=this.make_def(t,a),this.variables.set(t.name,u),u.global=!this.parent_scope),t.thedef=u});function qf(t,a){var u=t.names_in_use;if(!u){t.cname=-1,t.cname_holes=[],t.names_in_use=u=new Gn;var s=a.cache&&a.cache.props;t.enclosed.forEach(function(m){m.unmangleable(a)&&u.set(m.name,!0),m.global&&s&&s.has(m.name)&&u.set(s.get(m.name),!0)})}return u}function Ys(t,a){var u=t.scope,s=qf(u,a),m=u.cname_holes,A=new Gn,G=[u];t.forEach(function(fe){var P=fe.scope;do{if(rr(P,G))break;qf(P,a).each(function(re,ge){A.set(ge,re)}),G.push(P)}while(P=P.parent_scope)});for(var V,He=0;He<m.length;He++)if(V=vr(m[He]),!A.has(V))return m.splice(He,1),s.set(V,!0),V;for(;;)if(V=vr(++u.cname),!(s.has(V)||va[V]||a.reserved.has[V])){if(!A.has(V))break;m.push(u.cname)}return s.set(V,!0),V}jt.DEFMETHOD("unmangleable",function(t){var a=this.definition();return!a||a.unmangleable(t)}),Oa.DEFMETHOD("unmangleable",zn),jt.DEFMETHOD("definition",function(){return this.thedef});function Kf(t){return t=Pr(t,{eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(t.reserved)||(t.reserved=[]),zi(t.reserved,"arguments"),t.reserved.has=Ln(t.reserved),t}kt.DEFMETHOD("mangle_names",function(t){if(t=Kf(t),t.cache&&t.cache.props){var a=qf(this,t);t.cache.props.each(function(fe){a.set(fe,!0)})}var u=36,s=-1,m=[],A=new on(function(fe,P){var re;if(fe instanceof ti){fe instanceof Kt&&(re=s),t.webkit&&fe instanceof Ci&&fe.init instanceof cr&&fe.init.definitions.forEach(function(Ee){Ee.name.match_symbol(function(gn){if(gn instanceof zr){var jn=gn.definition(),k=gn.scope.parent_scope,d=k.def_variable(gn);gn.thedef=jn,k.to_mangle.push(d),jn.redefined=function(){return d}}})},!0);var ge=fe.to_mangle=[];if(fe.variables.each(function(Ee){V(Ee)||ge.push(Ee)}),P(),t.cache&&fe instanceof kt&&fe.globals.each(G),fe instanceof Pi&&A.has_directive("use asm")){var ke=new ee(fe.name);ke.scope=fe,ke.reference(t)}if(ge.length>u){var ye=ge.map(function(Ee,gn){return gn}).sort(function(Ee,gn){return ge[gn].references.length-ge[Ee].references.length||Ee-gn});ge=ye.slice(0,u).sort(function(Ee,gn){return Ee-gn}).map(function(Ee){return ge[Ee]}).concat(ye.slice(u).sort(function(Ee,gn){return Ee-gn}).map(function(Ee){return ge[Ee]}))}return ge.forEach(G),fe instanceof Kt&&!(t.v8&&He(A))&&(s=re),!0}if(fe instanceof Oa){var L;do L=vr(++s);while(va[L]);return fe.mangled_name=L,!0}});this.walk(A),m.forEach(G);function G(fe){t.reserved.has[fe.name]||fe.mangle(t)}function V(fe){var P=fe.orig[0],re=fe.redefined();if(!re){if(!(P instanceof pi))return!1;var ge=fe.scope.resolve();if(fe.scope===ge||fe.scope.parent_scope.find_variable(P.name))return!1;re=ge.def_variable(P),ge.to_mangle.push(re)}return m.push(fe),fe.references.forEach(ke),(P instanceof Ui||P instanceof pi)&&(ke(P),fe.redefined=function(){return re}),!0;function ke(ye){ye.thedef=re,ye.reference(t),ye.thedef=fe}}function He(fe){for(var P=0,re;re=fe.parent(P++);){if(re instanceof Mt)return re instanceof kt&&!t.toplevel;if(re instanceof Kt)return!0}}}),kt.DEFMETHOD("find_colliding_names",function(t){var a=t.cache&&t.cache.props,u=Object.create(va);return t.reserved.forEach(s),this.globals.each(m),this.walk(new on(function(A){A instanceof ti&&A.variables.each(m)})),u;function s(A){u[A]=!0}function m(A){var G=A.name;if(A.global&&a&&a.has(G))G=a.get(G);else if(!A.unmangleable(t))return;s(G)}}),kt.DEFMETHOD("expand_names",function(t){vr.reset(),vr.sort(),t=Kf(t);var a=this.find_colliding_names(t),u=0;this.globals.each(m),this.walk(new on(function(A){A instanceof ti&&A.variables.each(m)}));function s(){var A;do A=vr(u++);while(a[A]);return A}function m(A){if(!(A.global&&t.cache)&&!A.unmangleable(t)&&!t.reserved.has[A.name]){var G=A.redefined(),V=G?G.rename||G.name:s();A.rename=V,A.forEach(function(He){He.definition()===A&&(He.name=V)})}}}),X.DEFMETHOD("tail_node",Tr),Xe.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),kt.DEFMETHOD("compute_char_frequency",function(t){t=Kf(t),vr.reset();var a=jt.prototype.add_source_map;try{jt.prototype.add_source_map=function(){this.unmangleable(t)||vr.consider(this.name,-1)},t.properties&&(et.prototype.add_source_map=function(){vr.consider(this.property,-1)},at.prototype.add_source_map=function(){u(this.property)}),vr.consider(this.print_to_string(),1)}finally{jt.prototype.add_source_map=a,delete et.prototype.add_source_map,delete at.prototype.add_source_map}vr.sort();function u(s){s instanceof On?vr.consider(s.value,-1):s instanceof _n?(u(s.consequent),u(s.alternative)):s instanceof Xe&&u(s.tail_node())}});var vr=function(){var t=Object.create(null);function a(fe){for(var P=[],re=0;re<fe.length;re++){var ge=fe[re];P.push(ge),t[ge]=-.01*re}return P}var u=a("0123456789"),s=a("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),m,A;function G(){m=null,A=Object.create(t)}He.consider=function(fe,P){for(var re=fe.length;--re>=0;)A[fe[re]]+=P};function V(fe,P){return A[P]-A[fe]}He.sort=function(){m=s.sort(V).concat(u).sort(V)},He.reset=G,G();function He(fe){var P=s[fe%54];for(fe=Math.floor(fe/54);--fe>=0;fe>>=6)P+=m[fe&63];return P}return He}();function sa(t,a){if(!(this instanceof sa))return new sa(t,a);Jt.call(this,this.before,this.after),this.options=Pr(t,{annotations:!a,arguments:!a,arrows:!a,assignments:!a,awaits:!a,booleans:!a,collapse_vars:!a,comparisons:!a,conditionals:!a,dead_code:!a,default_values:!a,directives:!a,drop_console:!1,drop_debugger:!a,evaluate:!a,expression:!1,functions:!a,global_defs:!1,hoist_exports:!a,hoist_funs:!1,hoist_props:!a,hoist_vars:!1,ie:!1,if_return:!a,imports:!a,inline:!a,join_vars:!a,keep_fargs:a,keep_fnames:!1,keep_infinity:!1,loops:!a,merge_vars:!a,module:!1,negate_iife:!a,objects:!a,optional_chains:!a,passes:1,properties:!a,pure_funcs:null,pure_getters:!a&&"strict",reduce_funcs:!a,reduce_vars:!a,rests:!a,sequences:!a,side_effects:!a,spreads:!a,strings:!a,switches:!a,templates:!a,top_retain:null,toplevel:!!(t&&(t.module||t.top_retain)),typeofs:!a,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!a,varify:!a,webkit:!1,yields:!a},!0);var u=this.options.evaluate;this.eval_threshold=/eager/.test(u)?1/0:+u;var s=this.options.global_defs;if(typeof s=="object")for(var m in s)/^@/.test(m)&&Ct(s,m)&&(s[m.slice(1)]=Ia(s[m],{expression:!0}));this.options.inline===!0&&(this.options.inline=4),this.drop_fargs=this.options.keep_fargs?zn:function(fe,P){if(fe.length_read)return!1;var re=fe.name;if(!re)return P&&P.TYPE=="Call"&&P.expression===fe;if(re.fixed_value()!==fe)return!1;var ge=re.definition();if(ge.direct_access)return!1;var ke=ge.escaped;return ke&&ke.depth!=1},this.options.module&&(this.directives["use strict"]=!0);var A=this.options.pure_funcs;typeof A=="function"?this.pure_funcs=A:typeof A=="string"?this.pure_funcs=function(fe){var P;return fe instanceof hn?P=fe.expression:fe instanceof It&&(P=fe.tag),!(P&&A===P.print_to_string())}:Array.isArray(A)?this.pure_funcs=function(fe){var P;return fe instanceof hn?P=fe.expression:fe instanceof It&&(P=fe.tag),!(P&&rr(P.print_to_string(),A))}:this.pure_funcs=Qn;var G=this.options.sequences;this.sequences_limit=G==1?800:G|0;var V=this.options.top_retain;V instanceof RegExp?this.top_retain=function(fe){return V.test(fe.name)}:typeof V=="function"?this.top_retain=V:V&&(typeof V=="string"&&(V=V.split(/,/)),this.top_retain=function(fe){return rr(fe.name,V)});var He=this.options.toplevel;this.toplevel=typeof He=="string"?{funcs:/funcs/.test(He),vars:/vars/.test(He)}:{funcs:He,vars:He}}sa.prototype=new Jt(function(t,a,u){if(t._squeezed)return t;var s=t instanceof sn;s&&(this.option("arrows")&&qt(t)&&t.value&&(t.body=[t.first_statement()],t.value=null),t.hoist_properties(this),t.hoist_declarations(this),t.process_returns(this)),a(t,this),a(t,this);var m=t.optimize(this);return s&&m===t&&!this.has_directive("use asm")&&!m.pinned()&&(m.drop_unused(this),m.merge_variables(this)&&m.drop_unused(this),a(m,this)),m===t&&(m._squeezed=!0),m}),sa.prototype.option=function(t){return this.options[t]},sa.prototype.exposed=function(t){if(t.exported||t.undeclared)return!0;if(!(t.global||t.scope.resolve()instanceof kt))return!1;var a=this.toplevel;return!Je(t.orig,function(u){return a[u instanceof lr?"funcs":"vars"]})},sa.prototype.compress=function(t){t=t.resolve_defines(this),t.hoist_exports(this),this.option("expression")&&t.process_expression(!0);for(var a=this.options.merge_vars,u=+this.options.passes||1,s=1/0,m=!1,A={ie:this.option("ie")},G=0;G<u;G++)if(t.figure_out_scope(A),(G>0||this.option("reduce_vars"))&&t.reset_opt_flags(this),this.options.merge_vars=a&&(m||G==u-1),t=t.transform(this),u>1){var V=0;if(t.walk(new on(function(){V++})),X.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:G,min_count:s,count:V}),V<s)s=V,m=!1;else{if(m)break;m=!0}}return this.option("expression")&&t.process_expression(!1),t},function(t){t(X,function(e,n){return e}),kt.DEFMETHOD("hoist_exports",function(e){if(!e.option("hoist_exports"))return;for(var n=this.body,r=[],i=0;i<n.length;i++){var f=n[i];f instanceof ki?(n[i]=f=f.body,f instanceof gt?f.definitions.forEach(function(g){g.name.match_symbol(o,!0)}):o(f.name)):f instanceof la&&(n.splice(i--,1),[].push.apply(r,f.properties))}r.length&&n.push(c(la,this,{properties:r}));function o(g){if(g instanceof yt){var p=c(za,g);p.alias=c(On,p,{value:p.name}),r.push(p)}}}),sn.DEFMETHOD("process_expression",function(e,n){var r=this,i=new Jt(function(f){if(e){if(f instanceof ni&&(f=c(je,f,{body:c(On,f)})),f instanceof je)return n?n(f):c(tt,f,{value:f.body})}else if(f instanceof tt){if(n)return n(f);var o=f.value;return o instanceof On?c(ni,o):c(je,f,{body:o||c(Ue,f,{operator:"void",expression:c(mn,f,{value:0})})})}if(f instanceof Mt){if(f instanceof dn){if(f!==r)return f}else if(e==="awaits"&&f instanceof Xt&&f.bfinally)return f;for(var g=f.body.length;--g>=0;){var p=f.body[g];if(!fi(p,!0)){f.body[g]=p.transform(i);break}}}else f instanceof Un?(f.body=f.body.transform(i),f.alternative&&(f.alternative=f.alternative.transform(i))):f instanceof br&&(f.body=f.body.transform(i));return f});r.transform(i)}),kt.DEFMETHOD("unwrap_expression",function(){var e=this;switch(e.body.length){case 0:return c(Ue,e,{operator:"void",expression:c(mn,e,{value:0})});case 1:var n=e.body[0];if(n instanceof ni)return c(On,n);if(n instanceof je)return n.body;default:return c(hn,e,{expression:c(Ot,e,{argnames:[],body:e.body}).init_vars(e),args:[]})}}),X.DEFMETHOD("wrap_expression",function(){var e=this;return ar(e)||(e=c(je,e,{body:e})),e instanceof kt||(e=c(kt,e,{body:[e]})),e});function a(e,n){var r=n.get_property();if(!(r instanceof X)){var i;if(e instanceof Dn){var f=e.elements;if(r=="length")return ai(f.length,e);typeof r=="number"&&r in f&&(i=f[r])}else if(e instanceof dn){if(r=="length")return e.length_read=!0,ai(e.argnames.length,e)}else if(e instanceof st){r=""+r;for(var o=e.properties,g=o.length;--g>=0;){var p=o[g];if(!Hf(p))return;!i&&o[g].key===r&&(i=o[g].value)}}return i instanceof ee&&i.fixed_value()||i}}function u(e,n){if(e instanceof Na)return pn.Boolean[n];if(e instanceof mn)return pn.Number[n];if(e instanceof On)return pn.String[n];if(n=="valueOf")return!1;if(e instanceof Dn)return pn.Array[n];if(e instanceof dn)return pn.Function[n];if(e instanceof st)return pn.Object[n];if(e instanceof Vi)return pn.RegExp[n]&&!e.value.global}function s(e,n,r,i,f,o,g){var p=n.parent(f);if(!(e.option("unsafe")&&p instanceof et&&u(i,p.property))){var b=Fi(r,p);if(b)return b;if(!(f==0&&i&&i.is_constant())){if(p instanceof Dn)return s(e,n,p,p,f+1);if(p instanceof Ce)switch(p.operator){case"=":return s(e,n,p,i,f+1,o,g);case"&&=":case"||=":case"??=":return s(e,n,p,p,f+1);default:return}if(p instanceof ae)return ct[p.operator]?s(e,n,p,p,f+1):void 0;if(p instanceof hn)return!o&&p.expression===r&&!p.is_expr_pure(e)&&(!(i instanceof xt)||!(p instanceof Ai)&&i.contains_this());if(p instanceof _n)return p.condition===r?void 0:s(e,n,p,p,f+1);if(p instanceof Wt)return p.init===r;if(p instanceof Zt){if(p.value!==r)return;var T=n.parent(f+1);return s(e,n,T,T,f+2)}if(p instanceof vn){if(p.expression!==r)return;var w=a(i,p);return(!o||g)&&s(e,n,p,w,f+1)}if(p instanceof Xe)return p.tail_node()!==r?void 0:s(e,n,p,i,f+1,o,g)}}}function m(e){return e instanceof Pt||e instanceof dn}function A(e){return e instanceof Pt||e instanceof Pi||e instanceof Ot}function G(e){return e.name=="arguments"&&e.scope.uses_arguments}function V(e,n){do{if(e===n)return!1;if(n instanceof sn)return!0}while(n=n.parent_scope)}function He(e,n,r){var i=e.redef||e.definition();return e.in_arg&&mr(i)?!1:Je(i.orig,function(f){return f instanceof pi||f instanceof zr?f instanceof Zi?!0:n&&da(n,f):!(r&&f instanceof gi)})}function fe(e,n,r,i){if(i instanceof Ce)return i.operator=="="&&i.right===r;if(i instanceof hn)return i.expression!==r||i instanceof Ai;if(i instanceof Rr)return i.value===r&&!i.static;if(i instanceof Vt)return i.value===r&&n.resolve()!==e.scope.resolve();if(i instanceof Jn)return i.value===r}function P(e,n){var r=c(ee,e);return r.fixed=n||c(_t,e),r}function re(e,n){return function(f){var i=e(f),f=P(i,n),o=i.definition();return o.references.push(f),o.replaced++,f}}var ge=/^(0|[1-9][0-9]*)$/;(function(e){e(X,Lt);function n(v,U,H){H.assignments=0,H.bool_return=0,H.drop_return=0,H.cross_loop=!1,H.direct_access=!1,H.escaped=[],H.fixed=!H.const_redefs&&!H.scope.pinned()&&!U.exposed(H)&&!(H.init instanceof xt&&H.init!==H.scope)&&H.init,H.reassigned=0,H.recursive_refs=0,H.references=[],H.single_use=void 0}function r(v,U,H){H.variables.each(function(x){n(v,U,x)})}function i(v,U,H){H.fn_defs=[],H.variables.each(function(x){n(v,U,x);var R=x.init;R instanceof dt&&(H.fn_defs.push(R),R.safe_ids=null),x.fixed===null?(x.safe_ids=v.safe_ids,D(v,x)):x.fixed&&(v.loop_ids[x.id]=v.in_loop,D(v,x))}),H.may_call_this=function(){H.may_call_this=H.contains_this()?Qn:zn},H.uses_arguments&&H.each_argname(function(x){x.definition().last_ref=!1}),U.option("ie")&&H.variables.each(function(x){var R=x.orig[0].definition();R!==x&&(R.fixed=!1)})}function f(v,U){var H=U.safe_ids;return H===void 0||H===v.safe_ids}function o(v,U){var H=v.fn_scanning;v.fn_scanning=U,U.walk(v),v.fn_scanning=H}function g(v,U){U.enclosed.forEach(function(H){if(U.variables.get(H.name)!==H&&!z(v,H)){H.single_use=!1;var x=H.fixed;typeof x=="function"&&(x=x()),!(x instanceof dn&&x.safe_ids!==void 0)&&(H.fixed=!1)}})}function p(v,U,H){var x=H.safe_ids;if(x!==void 0&&x!==!1)if(H.parent_scope.resolve().may_call_this===Qn)rr(H,v.fn_visited)&&g(v,H);else if(x){var R=rr(H,v.fn_visited);x===v.safe_ids?R||o(v,H):R?g(v,H):H.safe_ids=!1}else v.fn_scanning&&v.fn_scanning!==U.scope.resolve()?H.safe_ids=!1:(H.safe_ids=v.safe_ids,o(v,H))}function b(v,U){var H=U.fn_defs,x=U.may_call_this===Qn?H:H.filter(function(R){return R.safe_ids===!1?!0:(R.safe_ids=v.safe_ids,o(v,R),!1)});w(v),x.forEach(function(R){R.safe_ids=v.safe_ids,o(v,R)}),H.forEach(function(R){R.safe_ids=void 0}),U.fn_defs=void 0,U.may_call_this=void 0}function T(v,U){var H=Object.create(v.safe_ids);U||(H.seq={}),v.safe_ids=H}function w(v){v.safe_ids=Object.getPrototypeOf(v.safe_ids)}function D(v,U){v.safe_ids[U.id]={}}function q(v,U){v.references.push(U),v.last_ref!==!1&&(v.last_ref=U)}function z(v,U){if(U.single_use=="m")return!1;var H=v.safe_ids[U.id];if(H){var x=Ct(v.safe_ids,U.id);if(!x){var R=v.safe_ids.seq;H.read?H.read!==R&&(H.read=!0):H.read=R}return U.fixed==null?G(U)||U.global&&U.name=="arguments"?!1:(v.loop_ids[U.id]=null,U.fixed=c(_t,U.orig[0]),x&&(U.safe_ids=void 0),!0):!H.assign||H.assign===v.safe_ids}return U.fixed instanceof dt}function E(v,U,H){if(!H&&(mr(U)&&U.scope.uses_arguments&&!v.has_directive("use strict")||!Je(U.orig,function($){return!($ instanceof pi)})))return!1;if(U.fixed===void 0)return H||Je(U.orig,function($){return!($ instanceof zr)});if(U.fixed===!1||U.fixed===0)return!1;var x=v.safe_ids[U.id];if(U.safe_ids)return U.safe_ids[U.id]=!1,U.safe_ids=void 0,U.fixed===null||Ct(v.safe_ids,U.id)&&!x.read;if(!Ct(v.safe_ids,U.id)){if(!x)return!1;if(x.read||v.in_loop){var R=v.find_parent(ti);if(R instanceof Pt||U.scope.resolve()!==R.resolve())return!1}x.assign=x.assign&&x.assign!==v.safe_ids?!0:v.safe_ids}return U.fixed!=null&&x.read&&(x.read!==v.safe_ids.seq||v.loop_ids[U.id]!==v.in_loop)?!1:z(v,U)&&Je(U.orig,function($){return!($ instanceof gi)})}function W(v,U){return v.option("unused")&&!U.scope.pinned()&&U.single_use!==!1&&U.references.length-U.recursive_refs==1&&!(mr(U)&&U.scope.uses_arguments)}function j(v){if(!v)return!1;if(v instanceof Ce){var U=v.operator;return U=="="?j(v.right):!ct[U.slice(0,-1)]}return v instanceof Xe?j(v.tail_node()):v.is_constant()||m(v)||v instanceof Wi}function ie(v,U){if(U instanceof Dn)return!0;if(U instanceof ae)return ct[U.operator];if(U instanceof _n)return U.condition!==v;if(U instanceof Xe)return U.tail_node()===v;if(U instanceof Cn)return!0}function ue(v,U,H,x,R,$,O){var C=v.parent($);if(!(R&&R.is_constant())){if(fe(U,H,x,C)){U.escaped.push(C),O>1&&!(R&&R.is_constant_expression(H))&&(O=1),(!U.escaped.depth||U.escaped.depth>O)&&(U.escaped.depth=O),U.scope.resolve()!==H.resolve()&&(U.escaped.cross_scope=!0),U.fixed&&(U.fixed.escaped=U.escaped);return}else if(ie(x,C))ue(v,U,H,C,C,$+1,O);else if(C instanceof Zt&&C.value===x){var K=v.parent($+1);ue(v,U,H,K,K,$+2,O)}else if(C instanceof vn&&C.expression===x&&(R=a(R,C),ue(v,U,H,C,R,$+1,O+1),R))return;$>0||C instanceof hn&&C.expression===x||C instanceof Xe&&C.tail_node()!==x||C instanceof je||C instanceof ft&&!ba[C.operator]||(U.direct_access=!0,U.fixed&&(U.fixed.direct_access=!0))}}function pe(v){if(v instanceof at){var U=v.expression;if(U instanceof ee){var H=U.definition();if(G(H)){var x=v.property;x.is_constant()&&(x=x.value),!(!(x instanceof X)&&!ge.test(x))&&(H.reassigned++,(x instanceof X?H.scope.argnames:[H.scope.argnames[x]]).forEach(function(R){R instanceof Pn&&(R.definition().fixed=!1)}))}}}}function bn(v,U){var H,x;return function(){var R=v();return H!==R&&(H=R,x=U(R)),x}}function me(v,U,H){var x,R;return function(){if(R===U)return U;var $=H(),O=Fn(v,$,!0);return O instanceof X?R=U:x!==$&&(x=$,R=O===void 0?be(U,[$,U.value]):$),R}}function ve(v,U,H,x,R){var $=new on(function(O){if(O instanceof In){ke(O),T(v,!0),O.value.walk(v),w(v);var C=x;return C&&(x=me(U,O,C)),O.name.walk($),x=C,!0}if(O instanceof Et){ke(O);var C=x;if(O.elements.forEach(function(Z,Q){if(Z instanceof Gt)return ke(Z);C&&(x=bn(C,function(B){return c(at,Z,{expression:B,property:c(mn,Z,{value:Q})})})),Z.walk($)}),O.rest){var K;C&&(x=U.option("rests")&&bn(C,function(Z){if(!(Z instanceof Dn))return O;for(var Q=0,B=O.elements.length;Q<B;Q++)if(Z.elements[Q]instanceof Cn)return O;return K||(K=c(Dn,O,{})),K.elements=Z.elements.slice(B),K})),O.rest.walk($)}return x=C,!0}if(O instanceof ii){ke(O);var C=x;return O.properties.forEach(function(Z){ke(Z),Z.key instanceof X&&(T(v),Z.key.walk(v),w(v)),C&&(x=bn(C,function(Q){var B=Z.key,Te=at;return typeof B=="string"&&(Fa(B)?Te=et:B=ai(B,Z)),c(Te,Z,{expression:Q,property:B})})),Z.value.walk($)}),O.rest&&(x=!1,O.rest.walk($)),x=C,!0}return R(O,x,function(){for(var ne=v.stack.length,Z=0,Q=$.stack.length-1;Z<Q;Z++)v.stack.push($.stack[Z]);O.walk(v),v.stack.length=ne}),!0});H.walk($)}function Ae(v,U,H){var x=this;x.inlined=!1;var R=v.parent(),$=!di(x)&&!Hi(x),O=!$,C=!1;x.walk(new on(function(Te){if(O)return C=!0;if(Te instanceof tt)return O=!0;if(Te instanceof sn&&Te!==x)return!0})),C&&T(v,$),i(v,H,x);var K=!x.uses_arguments||v.has_directive("use strict");x.argnames.forEach(function(Te,Pe){var tn=R.args[Pe];ve(v,H,Te,function(){var En=x.argnames.indexOf(Te),rn=En<0?tn:R.args[En];return rn instanceof Xe&&rn.expressions.length<2&&(rn=rn.expressions[0]),rn||c(_t,R)},B)});var ne=x.rest,Z;ne&&ve(v,H,ne,H.option("rests")&&function(){return x.rest!==ne?ne:(Z||(Z=c(Dn,x,{})),Z.elements=R.args.slice(x.argnames.length),Z)},B),Uf(x,v);var Q=v.safe_ids;return b(v,x),C||(v.safe_ids=Q),!0;function B(Te,Pe){var tn=Te.definition();Pe&&K&&tn.fixed===void 0?(D(v,tn),v.loop_ids[tn.id]=v.in_loop,tn.fixed=Pe,tn.fixed.assigns=[Te]):tn.fixed=!1}}e(Ce,function(v,U,H){var x=this,R=x.left,$=x.right,O=R instanceof ee&&R.definition(),C=O||R instanceof Rn;switch(x.operator){case"=":if(R.equals($)&&!R.has_side_effects(H))return $.walk(v),Q(R),x.redundant=!0,!0;if(O&&$ instanceof xt)return B(),$.parent_scope.resolve().fn_defs.push($),$.safe_ids=null,(!O.fixed||!x.write_only)&&p(v,O,$),!0;if(C)return $.walk(v),B(),!0;pe(R);return;case"&&=":case"||=":case"??=":var K=!0;default:if(!C)return pe(R),Te();O.assignments++;var ne=O.fixed;if(s(H,v,x,x,0))return O.fixed=!1,Te();var Z=z(v,O);return K&&T(v,!0),$.walk(v),K&&w(v),Z&&!R.in_arg&&E(v,O)?(q(O,R),D(v,O),O.single_use&&(O.single_use=!1),R.fixed=O.fixed=function(){return c(ae,x,{operator:x.operator.slice(0,-1),left:P(R,ne),right:x.right})},R.fixed.assigns=!ne||!ne.assigns?[O.orig[0]]:ne.assigns.slice(),R.fixed.assigns.push(x),R.fixed.to_binary=re(function(Pe){return Pe.left},ne)):(R.walk(v),O.fixed=!1),!0}function Q(Pe){if(ke(Pe),Pe instanceof et)Q(Pe.expression);else if(Pe instanceof at)Q(Pe.expression),Pe.property.walk(v);else if(Pe instanceof ee){var tn=Pe.definition();q(tn,Pe),tn.fixed&&(Pe.fixed=tn.fixed,Pe.fixed.assigns?Pe.fixed.assigns.push(x):Pe.fixed.assigns=[x])}else Pe.walk(v)}function B(){var Pe=O&&lf(v,O),tn=s(H,v,x,$,0,j($),Pe);ve(v,H,R,function(){return x.right},function(En,rn,de){if(!(En instanceof ee)){pe(En),de();return}var h=En.definition();h.assignments++,!rn||En.in_arg||!E(v,h)?(de(),h.fixed=!1):(q(h,En),D(v,h),(R instanceof Rn||h.orig.length==1&&h.orig[0]instanceof lr)&&(h.single_use=!1),v.loop_ids[h.id]=v.in_loop,h.fixed=tn?0:rn,En.fixed=rn,En.fixed.assigns=[x],ue(v,h,En.scope,x,$,0,1))})}function Te(){if(K)return R.walk(v),T(v,!0),$.walk(v),w(v),!0}}),e(ae,function(v){if(ct[this.operator])return this.left.walk(v),T(v,!0),this.right.walk(v),w(v),!0}),e(ti,function(v,U,H){r(v,H,this)}),e(hn,function(v,U){var H=this,x=H.expression;if(x instanceof xt){var R=y(H);return H.args.forEach(function(ne){ne.walk(v),ne instanceof Cn&&(R=!1)}),R&&(x.reduce_vars=Ae),x.walk(v),R&&delete x.reduce_vars,!0}if(H.TYPE=="Call")switch(v.in_boolean_context()){case"d":var $=!0;case!0:K(x,$)}x.walk(v);var O=H.optional;O&&T(v,!0),H.args.forEach(function(ne){ne.walk(v)}),O&&w(v);var C=x instanceof ee&&x.fixed_value();return C instanceof dn?p(v,x.definition(),C):v.find_parent(sn).may_call_this(),!0;function K(ne,Z){if(ne instanceof Ce){if(ne.operator!="=")return;K(ne.left,Z),K(ne.right,Z)}else if(ne instanceof ae){if(!ct[ne.operator])return;K(ne.left,Z),K(ne.right,Z)}else if(ne instanceof _n)K(ne.consequent,Z),K(ne.alternative,Z);else if(ne instanceof ee){var Q=ne.definition();Q.bool_return++,Z&&Q.drop_return++}}}),e(Pt,function(v,U,H){var x=this;r(v,H,x),x.extends&&x.extends.walk(v);var R=x.properties.filter(function(C){return ke(C),C.key instanceof X&&(v.push(C),C.key.walk(v),v.pop()),C.value});if(x.name){var $=x.name.definition(),O=v.parent();(O instanceof ki||O instanceof Ni)&&($.single_use=!1),E(v,$,!0)?(D(v,$),v.loop_ids[$.id]=v.in_loop,$.fixed=function(){return x},$.fixed.assigns=[x],Qt($)||($.single_use=!1)):$.fixed=!1}return R.forEach(function(C){v.push(C),!C.static||kn(C)&&C.value.contains_this()?(T(v),C.value.walk(v),w(v)):C.value.walk(v),v.pop()}),!0}),e(bf,function(v,U,H){var x=this;return T(v,!0),i(v,H,x),U(),b(v,x),!0}),e(_n,function(v){return this.condition.walk(v),T(v,!0),this.consequent.walk(v),w(v),T(v,!0),this.alternative.walk(v),w(v),!0}),e(In,function(v){return T(v,!0),this.value.walk(v),w(v),this.name.walk(v),!0}),e(Fr,function(v){var U=v.in_loop;return v.in_loop=this,T(v),this.body.walk(v),nn(this,v.parent())&&(w(v),T(v)),this.condition.walk(v),w(v),v.in_loop=U,!0}),e(Nt,function(v,U,H){var x=this;r(v,H,x),x.init&&x.init.walk(v);var R=v.in_loop;return v.in_loop=x,T(v),x.condition&&x.condition.walk(v),x.body.walk(v),x.step&&(nn(x,v.parent())&&(w(v),T(v)),x.step.walk(v)),w(v),v.in_loop=R,!0}),e(Wt,function(v,U,H){var x=this;r(v,H,x),x.object.walk(v);var R=v.in_loop;v.in_loop=x,T(v);var $=x.init;return $ instanceof gt?$.definitions[0].name.mark_symbol(function(O){if(O instanceof yt){var C=O.definition();C.assignments++,C.fixed=!1}},v):$ instanceof Rn||$ instanceof ee?$.mark_symbol(function(O){if(O instanceof ee){var C=O.definition();q(C,O),C.assignments++,O.is_immutable()||(C.fixed=!1)}},v):$.walk(v),x.body.walk(v),w(v),v.in_loop=R,!0}),e(Un,function(v){return this.condition.walk(v),T(v,!0),this.body.walk(v),w(v),this.alternative&&(T(v,!0),this.alternative.walk(v),w(v)),!0}),e(Kt,function(v){return T(v,!0),this.body.walk(v),w(v),!0}),e(dn,function(v,U,H){var x=this;return!f(v,x)||!zi(v.fn_visited,x)||(x.inlined=!1,T(v),i(v,H,x),U(),b(v,x),x.name&&ue(v,x.name.definition(),x,x.name,x,0,1)),!0}),e(dt,function(v,U,H){var x=this,R=x.name.definition(),$=v.parent();return($ instanceof ki||$ instanceof Ni)&&(R.single_use=!1),!f(v,x)||!zi(v.fn_visited,x)||(x.inlined=!1,T(v),i(v,H,x),U(),b(v,x)),!0}),e(at,function(v){if(this.optional)return this.expression.walk(v),T(v,!0),this.property.walk(v),w(v),!0}),e(wi,function(v,U,H){var x=this;r(v,H,x),x.expression.walk(v);var R=!0;return x.body.forEach(function($){$ instanceof jr||($.expression.walk(v),R&&(R=!1,T(v,!0)))}),R||w(v),_i(x,v),!0}),e(or,function(v){return T(v,!0),_i(this,v),w(v),!0}),e(Ui,function(){this.definition().fixed=!1}),e(Zi,function(){this.definition().fixed=!1}),e(ee,function(v,U,H){var x=this,R=x.definition(),$=R.fixed||R.last_ref&&R.last_ref.fixed;q(R,x),R.references.length==1&&!R.fixed&&R.orig[0]instanceof lr&&(v.loop_ids[R.id]=v.in_loop);var O=lf(v,R);switch(O&&O.enclosed.forEach(function(Z){if(R!==Z&&Z.scope.resolve()!==O){var Q=Z.fixed&&Z.fixed.assigns;if(Q&&!(Q[Q.length-1]instanceof Jn)){var B=v.safe_ids[Z.id];B&&(B.assign=!0)}}}),R.single_use=="m"&&R.fixed&&(R.fixed=0,R.single_use=!1),R.fixed){case 0:z(v,R)||(R.fixed=!1);case!1:var C=R.redefined();C&&V(R.scope,x.scope)&&(C.single_use=!1);break;case void 0:R.fixed=!1;break;default:if(!z(v,R)){R.fixed=!1;break}x.in_arg&&R.orig[0]instanceof gi&&(x.fixed=R.scope);var K=x.fixed_value();O?R.recursive_refs++:K&&W(H,R)?(R.in_loop=v.loop_ids[R.id]!==v.in_loop,R.single_use=m(K)&&!K.pinned()&&(!R.in_loop||v.parent()instanceof hn)||!R.in_loop&&R.scope===x.scope.resolve()&&K.is_constant_expression()):R.single_use=!1,s(H,v,x,K,0,j(K),O)&&(R.single_use?R.single_use="m":R.fixed=0),R.fixed&&v.loop_ids[R.id]!==v.in_loop&&(R.cross_loop=!0),ue(v,R,x.scope,x,K,0,1);break}x.fixed||(x.fixed=R.fixed===0?$:R.fixed);var ne;K instanceof dn&&!((ne=v.parent())instanceof hn&&ne.expression===x)&&p(v,R,K)}),e(It,function(v,U){var H=this,x=H.tag;if(x){if(x instanceof xt)return H.expressions.forEach(function($){$.walk(v)}),x.walk(v),!0;x.walk(v),H.expressions.forEach(function($){$.walk(v)});var R=x instanceof ee&&x.fixed_value();return R instanceof dn?p(v,x.definition(),R):v.find_parent(sn).may_call_this(),!0}}),e(kt,function(v,U,H){var x=this;return x.globals.each(function(R){n(v,H,R)}),T(v,!0),i(v,H,x),U(),b(v,x),!0}),e(Xt,function(v,U,H){var x=this;return r(v,H,x),T(v,!0),_i(x,v),w(v),x.bcatch&&(T(v,!0),x.bcatch.walk(v),w(v)),x.bfinally&&x.bfinally.walk(v),!0}),e(ft,function(v,U){var H=this;if(ga[H.operator]){var x=H.expression;if(!(x instanceof ee)){pe(x);return}var R=x.definition();R.assignments++;var $=R.fixed;return z(v,R)&&!x.in_arg&&E(v,R)?(q(R,x),D(v,R),R.single_use&&(R.single_use=!1),R.fixed=function(){return c(ae,H,{operator:H.operator.slice(0,-1),left:c(Ue,H,{operator:"+",expression:P(x,$)}),right:c(mn,H,{value:1})})},R.fixed.assigns=$&&$.assigns?$.assigns.slice():[],R.fixed.assigns.push(H),H instanceof Ue?x.fixed=R.fixed:(x.fixed=function(){return c(Ue,H,{operator:"+",expression:P(x,$)})},x.fixed.assigns=$&&$.assigns,x.fixed.to_prefix=re(function(O){return O.expression},R.fixed))):(x.walk(v),R.fixed=!1),!0}}),e(Jn,function(v,U,H){var x=this,R=x.value;if(R instanceof xt&&x.name instanceof yt){O(),R.parent_scope.resolve().fn_defs.push(R),R.safe_ids=null;var $=x.name.definition();$.fixed||p(v,$,R)}else R?(R.walk(v),O()):v.parent()instanceof cr&&O();return!0;function O(){ve(v,H,x.name,function(){return x.value||c(_t,x)},function(C,K){var ne=C.definition();K&&E(v,ne,!0)?(D(v,ne),v.loop_ids[ne.id]=v.in_loop,ne.fixed=K,ne.fixed.assigns=[x],(C instanceof pi&&ne.redefined()||!(He(C)||Qt(ne)))&&(ne.single_use=!1)):ne.fixed=!1})}}),e(ia,function(v,U){var H=v.in_loop;return v.in_loop=this,T(v),U(),w(v),v.in_loop=H,!0})})(function(e,n){e.DEFMETHOD("reduce_vars",n)});function ke(e){e._squeezed=!1,e._optimized=!1,e instanceof ti&&(e._var_names=void 0),e instanceof ee&&(e.fixed=void 0)}kt.DEFMETHOD("reset_opt_flags",function(e){var n=new on(e.option("reduce_vars")?function(r,i){return ke(r),r.reduce_vars(n,i,e)}:ke);n.fn_scanning=null,n.fn_visited=[],n.in_loop=null,n.loop_ids=Object.create(null),n.safe_ids=Object.create(null),n.safe_ids.seq={},this.walk(n)}),jt.DEFMETHOD("fixed_value",function(e){var n=this.definition(),r=n.fixed;if(r)return this.fixed&&(r=this.fixed),(r instanceof X?r:r()).tail_node();if(r=r===0&&this.fixed,!r)return r;var i=(r instanceof X?r:r()).tail_node();if(e&&n.escaped.depth!=1&&Ba(i,!0)||i.is_constant())return i}),ee.DEFMETHOD("is_immutable",function(){var e=this.redef||this.definition();return e.orig[0]instanceof gi?e.orig.length==1?!0:this.in_arg?!(e.orig[1]instanceof Pn):!1:!1}),X.DEFMETHOD("convert_symbol",Lt);function ye(e,n){return this.transform(new Jt(function(r,i){return r instanceof In?(r=r.clone(),r.name=r.name.transform(this),r):r instanceof Rn?(r=r.clone(),i(r,this),r):r instanceof Ft?(r=r.clone(),r.value=r.value.transform(this),r):r.convert_symbol(e,n)}))}In.DEFMETHOD("convert_symbol",ye),Rn.DEFMETHOD("convert_symbol",ye);function L(e,n){var r=c(e,this);return n(r,this)||r}yt.DEFMETHOD("convert_symbol",L),ee.DEFMETHOD("convert_symbol",L);function Ee(e){var n=e.definition();n.assignments++,n.references.push(e)}function gn(e,n){var r=new on(function(i){return i instanceof In?(i.value.walk(n),i.name.walk(r),!0):i instanceof Ft?(i.key instanceof X&&i.key.walk(n),i.value.walk(r),!0):e(i)});this.walk(r)}In.DEFMETHOD("mark_symbol",gn),Rn.DEFMETHOD("mark_symbol",gn);function jn(e){return e(this)}yt.DEFMETHOD("mark_symbol",jn),ee.DEFMETHOD("mark_symbol",jn),X.DEFMETHOD("match_symbol",function(e){return e(this)});function k(e,n){var r=!1,i=new on(function(f){if(r)return!0;if(f instanceof In)return n?(f.name.walk(i),!0):r=!0;if(f instanceof Ft)return!n&&f.key instanceof X?r=!0:(f.value.walk(i),!0);if(e(f))return r=!0});return this.walk(i),r}In.DEFMETHOD("match_symbol",k),Rn.DEFMETHOD("match_symbol",k);function d(e){return e instanceof Ar||e instanceof Yi}function J(e){var n=0,r=e.self();do if(r.variables)return r;while(r=e.parent(n++))}function ce(e,n,r,i,f,o){for(var g;g=e.parent(n++);r=g){if(g===i)return!1;if(o&&g instanceof dn){if(g.name||di(g)||Hi(g))return!0}else if(g instanceof Xt&&(g.bfinally&&g.bfinally!==r||f&&g.bcatch&&g.bcatch!==r))return!0}return!1}var wn=Ln("Infinity NaN undefined");function Hn(e,n){if(e instanceof fa||e instanceof Wi)return!0;if(e instanceof vn){if(e.property==="__proto__")return!0;if(e=e.expression,e instanceof ee){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||e.tail_node().is_constant()?!0:Hn(e,n)}if(e instanceof ee){if(e.is_immutable())return!0;var r=e.definition();return n.exposed(r)&&wn[r.name]}return!1}function c(e,n,r){return r?(r.start=n.start,r.end=n.end):r=n,new e(r)}function be(e,n){return n.length==1?n[0]:c(Xe,e,{expressions:n.reduce(Ht,[])})}function ai(e,n){switch(typeof e){case"string":return c(On,n,{value:e});case"number":return isNaN(e)?c(Ca,n):isFinite(e)?1/e<0?c(Ue,n,{operator:"-",expression:c(mn,n,{value:-e})}):c(mn,n,{value:e}):e<0?c(Ue,n,{operator:"-",expression:c(Hr,n)}):c(Hr,n);case"boolean":return c(e?Br:Cr,n);case"undefined":return c(_t,n);default:if(e===null)return c($r,n);if(e instanceof RegExp)return c(Vi,n,{value:e});throw new Error(Za("Can't handle constant of type: {type}",{type:typeof e}))}}function pt(e){return e instanceof vn||I(e)&&e.name=="eval"}function St(e,n,r){var i=!1;return e.TYPE=="Call"?i=e.expression===n&&pt(r):e instanceof It?i=e.tag===n&&pt(r):e instanceof Ue&&(i=e.operator=="delete"||e.operator=="typeof"&&I(r)),i?be(n,[c(mn,n,{value:0}),r]):r}function Bn(e,n){var r=new Gn;return e.walk(new on(function(i){if(i instanceof ee){var f=i.definition(),o=i.fixed;!o||!r.has(f.id)?r.set(f.id,o):r.get(f.id)!==o&&r.set(f.id,!1)}})),r.size()>0&&n.walk(new on(function(i){if(i instanceof ee){var f=i.definition(),o=i.fixed;!o||!r.has(f.id)||r.get(f.id)!==o&&(i.fixed=!1)}})),n}function Ht(e,n){return n instanceof Xe?[].push.apply(e,n.expressions):e.push(n),e}function De(e){return e instanceof qr||e instanceof mi||e instanceof cr}function Fe(e){if(e instanceof dt){var n=e.name.definition(),r=e.name.scope;return n.scope===r||Je(n.references,function(i){var f=i.scope;do if(f===r)return!0;while(f=f.parent_scope)})}return!De(e)}function Me(e){if(e===null)return[];if(e instanceof Ve)return Je(e.body,Fe)?e.body:[e];if(e instanceof nt)return[];if(ar(e))return[e];throw new Error("Can't convert thing to statement array")}function Be(e){return e===null||e instanceof nt?!0:e instanceof Ve?e.body.length==0:!1}function it(e){return Je(e.body,function(n){return Be(n)||n instanceof Pi||n instanceof bt&&ot(n)})}function Ut(e){return e instanceof Ci&&e.body instanceof Ve?e.body:e}function l(e){if(e.TYPE!="Call")return!1;do e=e.expression;while(e instanceof vn);return e instanceof xt?!qt(e):l(e)}function y(e){var n=e.expression;if(n.name)return!1;if(!(e instanceof Ai))return!0;var r=!1;return n.walk(new on(function(i){if(r)return!0;if(i instanceof ff)return r=!0;if(i instanceof sn&&i!==n)return!0})),!r}function I(e){return e instanceof ee&&e.definition().undeclared}var Oe=Ln("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet");ee.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&Oe[this.name]});function kn(e){return e.static&&e.value&&(e instanceof Rr||e instanceof Gr)}function ot(e){return Je(e.definitions,function(n){return!n.value})}function fi(e,n){return e instanceof mi?n&&!e.extends&&Je(e.properties,function(r){return r.key instanceof X?!1:!kn(r)}):e instanceof gt?(n||e instanceof bt)&&ot(e):e instanceof ki||e instanceof Ni?fi(e.body,n):e instanceof dt}function Ei(e,n){var r=e.lastIndexOf(n);if(r<0)return!1;for(;++r<e.length;)if(!fi(e[r],!0))return!1;return!0}function Yr(e,n){var r;if(e.init instanceof Ve&&(r=e.init,e.init=r.body.pop(),r.body.push(e)),e.init instanceof Pi?(r||(r=c(Ve,e,{body:[e]})),r.body.splice(-1,0,e.init),e.init=null):e.init instanceof je?e.init=e.init.body:Be(e.init)&&(e.init=null),!!r)return n?Dt.splice(r.body):r}function _r(e,n){var r=q(n,function(O){return O instanceof dn}),i,f,o,g,p,b;z();var T,w,D=10;do{if(w=T,T=0,W(e)&&(T=1),!T&&w==1||n.option("dead_code")&&(ie(e,n)&&(T=2),!T&&w==2)||n.option("if_return")&&(j(e,n)&&(T=3),!T&&w==3)||n.option("awaits")&&n.option("side_effects")&&(ue(e,n)&&(T=4),!T&&w==4)||n.option("inline")>=4&&(pe(e,n)&&(T=5),!T&&w==5)||n.sequences_limit>0&&(bn(e,n)&&(T=6),!T&&w==6||(ve(e,n)&&(T=7),!T&&w==7))||n.option("join_vars")&&($(e)&&(T=8),!T&&w==8))break;n.option("collapse_vars")&&E(e,n)&&(T=9)}while(T&&D-- >0);return e;function q(O,C){var K=O.self(),ne=0,Z;do{if(K instanceof Li)K=O.parent(ne++);else if(K instanceof Kt)K=K.body;else if(K instanceof or){var Q=O.parent(ne);(Q.body[Q.body.length-1]===K||B(K.body))&&(ne++,K=Q)}do{if(Z=K,C(Z))return Z;K=O.parent(ne++)}while(K instanceof Un)}while(Z&&(K instanceof Ve||K instanceof Li||K instanceof sn||K instanceof or||K instanceof Xt)&&Ei(K.body,Z));function B(Te){for(var Pe=Te.length;--Pe>=0;)if(Te[Pe]instanceof Ki)return!0;return!1}}function z(){var O=n.self(),C=0;do if(!i&&O.variables&&(i=O),O instanceof Li)n.parent(C).bfinally&&(p||(p={}),p.bfinally=!0),C++;else if(O instanceof ra)C++;else if(O instanceof Ci)g=!0;else if(O instanceof sn){b=O;break}else O instanceof Xt&&(p||(p={}),O.bcatch&&(p.bcatch=!0),O.bfinally&&(p.bfinally=!0));while(O=n.parent(C++))}function E(O,C){if(b.pinned())return;for(var K,ne=new Gn,Z=[],Q=!1,B=new Gn,Te,Pe=O.length,tn=new Jt(function(_,Y){if(Qe)return _;if(!Re)return _!==rn[de]?_:(de++,de<rn.length?An(_,tn):(Re=!0,Ke=(we?hi:hf)(_,0),Ke===_&&(Qe=!0),_));var F=tn.parent();if(!yn&&Ua(_,F)&&(yn=F),Vn&&Wn&&Ne&&!yn&&_ instanceof Ce&&_.operator!="="&&_.left.equals(Ye)){oe++,Q=!0,X.info("Cascading {this} [{start}]",_),Ne=!1,$e=As(Ye),_.right.transform(tn),Nr(h);var Ge;return Qe?Ge=h:(Qe=!0,Ge=c(ae,h,{operator:Vn,left:Ye.fixed&&Ye.definition().fixed?Ye.fixed.to_binary(h):Ye,right:Se})),c(Ce,_,{operator:"=",left:_.left,right:c(ae,_,{operator:_.operator.slice(0,-1),left:Ge,right:_.right})})}if(Bt(_,F))return Qe=!0,_;if(_.single_use)return _;var un;if(!(_ instanceof yt)&&(Wn&&Ye.equals(_)||ht&&(un=ht(_,this)))){if(!Ne||yn&&(un||!Le||!Sn))return!un&&!we&&(Qe=!0),_;if(Fi(_,F))return we&&!un&&(xe=!0),_;if(!un&&he&&_.fixed!==Ye.fixed)return Qe=!0,_;if(we)return yn&&N==0&&(N=ln-oe),un||oe++,_;if(oe++,Q=Qe=!0,X.info("Collapsing {this} [{start}]",_),h.TYPE=="Binary")return Ss(h,_),c(Ce,h,{operator:"=",left:h.right.left,right:h.operator=="&&"?c(_n,h,{condition:h.left,consequent:h.right.right,alternative:_}):c(_n,h,{condition:h.left,consequent:_,alternative:h.right.right})});if(h instanceof Or)return c(Ue,h,{operator:h.operator,expression:Ye.fixed&&Ye.definition().fixed?Ye.fixed.to_prefix(h):Ye});if(h instanceof Ue)return Nr(h),h;if(Ss(Se,_),h instanceof Jn){var cn=h.name.definition();return cn.references.length-cn.replaced==1&&!C.exposed(cn)?(cn.replaced++,St(F,_,Se)):c(Ce,h,{operator:"=",left:_,right:Se})}Nr(Se);var xn=h.clone();return xn.right=Se,xn}if(ea(_,F))return Qe=!0,_;if((Wa(_,F)||Zn(_))&&(Ke=_,_ instanceof sn&&(Qe=!0)),_ instanceof ji){var $n=Ne;return Ne=!1,Y(_,tn),Ne=$n,We(_)}if(_ instanceof Rn){var $n=Ne;return Ne=!1,Y(_,tn),Ne=$n,We(_)}if(_ instanceof In){_.name=_.name.transform(tn);var $n=Ne;return Ne=!1,_.value=_.value.transform(tn),Ne=$n,We(_)}if(_ instanceof ti&&!(_ instanceof sn)&&!(_.variables&&_.variables.all(function(Yn){return!li.has(Yn.name)&&!$e.has(Yn.name)}))){var $n=Ne;return Ne=!1,An(_,tn)||Y(_,tn),Ne=$n,We(_)}if(An(_,tn))return We(_)},We),En=new Jt(function(_){if(Qe)return _;if(!Re){if(_!==rn[de])return _;switch(de++,rn.length-de){case 0:if(Re=!0,xe||_!==h||_ instanceof Jn)return _;Tn.replaced++;var Y=En.parent();return Y instanceof Xe&&Y.tail_node()!==_?(we.replaced++,Se===an?Dt.skip:be(an,an.expressions.slice(0,-1))):Se;case 1:if(!xe&&_.body===h)return Re=!0,Tn.replaced++,we.replaced++,null;default:return An(_,En)}}if(_ instanceof ee&&_.definition()===Tn){if(Fi(_,En.parent()))return _;--oe||(Qe=!0),X.info("Replacing {this} [{start}]",_);var F=Se.clone();return F.scope=_.scope,F.reference(),oe==N?(Qe=!0,c(Ce,h,{operator:"=",left:_,right:F})):(Tn.replaced++,F)}if(_ instanceof jr||_ instanceof sn)return _},function(_){return Ds(_,En)});--Pe>=0;){Pe==0&&C.option("unused")&&ma();var rn=[];for(Mn(O[Pe]);Z.length>0;){rn=Z.pop();var de=0,h=rn[rn.length-1],N=-1,xe=!1,he=!1,ln,we=null,Ke=null,yn=null,Ye=$t(h),qe=Ye&&Ye.has_side_effects(C),Wn=Ye&&(!qe||Ye instanceof ee)&&!Hn(Ye,C),ht=Ja(h);if(!(!Wn&&!ht)){var Vn=h instanceof Ce&&h.operator.slice(0,-1),wt=h.name instanceof Pn,Zn=zn;if(h.may_throw(C)){if(wt&&di(b))continue;Zn=p?function(_){return _.has_side_effects(C)}:Ma}var vt=!1,At=!1,li=new Gn,Er=!0,$e=As(h),Le=iu(Ye),an=Sr(h),Se=an;qe||(!Vn&&Se instanceof Xe&&(Se=Se.tail_node()),qe=ru());var Ze=p||!Le?function(_){return _ instanceof Rn}:zn,Sn=au(h),Re=wt,Qe=!1,oe=0,Ne=!K||!Re;if(!Ne){for(var ze=h.arg_index+1;!Qe&&ze<K.length;ze++)K[ze]&&K[ze].transform(tn);Ne=!0}for(var en=Pe;!Qe&&en<O.length;en++)O[en].transform(tn);if(we){if(!oe||ln>oe+xe){Z.push(rn),Te=!0;continue}oe==N&&(xe=!0);var Tn=Ye.definition();Qe=!1,de=0,Re=wt;for(var en=Pe;!Qe&&en<O.length;en++)O[en].transform(En)||O.splice(en--,1);oe=h instanceof Jn&&h===rn[rn.length-1]&&Tn.references.length==Tn.replaced&&!C.exposed(Tn),we.last_ref=!1,we.single_use=!1,Q=!0}oe&&tu(h)}}}return Q;function We(_){return Qe||(Ke===_&&(Qe=!0),yn===_&&(yn=null)),_}function An(_,Y){if(_ instanceof ti){if(_ instanceof sn)return _;if(_ instanceof Pt){_.name&&(_.name=_.name.transform(Y)),!Qe&&_.extends&&(_.extends=_.extends.transform(Y));for(var F=[],Ge=[],un=0;!Qe&&un<_.properties.length;un++){var cn=_.properties[un];cn.key instanceof X&&(cn.key=cn.key.transform(Y)),cn.static&&(cn instanceof Rr?cn.value&&F.push(cn):cn instanceof Gr&&[].push.apply(Ge,cn.value.body))}for(var un=0;!Qe&&un<Ge.length;un++)Ge[un].transform(Y);for(var un=0;!Qe&&un<F.length;un++){var cn=F[un];cn.value=cn.value.transform(Y)}return _}if(_ instanceof Wt)return _.object=_.object.transform(Y),Qe=!0,_;if(_ instanceof wi){_.expression=_.expression.transform(Y);for(var un=0;!Qe&&un<_.body.length;un++){var xn=_.body[un];if(xn instanceof Xi){if(!Re){if(xn!==rn[de])continue;de++}if(xn.expression=xn.expression.transform(Y),!Sn)break;ht=!1}}return Qe=!0,_}}}function Gi(_,Y){if(Y instanceof Ce)return Y.operator=="="&&Y.left===_;if(Y instanceof In)return Y.name===_;if(Y instanceof Et)return!0;if(Y instanceof Ft)return Y.value===_}function Bt(_,Y){return _===Se||Y instanceof Nt&&_!==Y.init?!0:_ instanceof Ce?_.operator!="="&&Ye.equals(_.left):_ instanceof hn?!(Ye instanceof vn)||!Ye.equals(_.expression)?!1:!(Se instanceof xt&&!Se.contains_this()):_ instanceof Pt?!C.has_directive("use strict"):_ instanceof xa?!0:_ instanceof Pi?wt&&Ye.name===_.name.name:_ instanceof Ft?_.key instanceof X:_ instanceof ua||_ instanceof Dr||_ instanceof Xt||_ instanceof br}function ea(_,Y){if(!(_ instanceof ee))return!1;if(_.is_declared(C)){if(_.fixed_value())return!1;if(He(_))return!(Y instanceof vn&&Y.expression===_)&&G(_.definition())}else if(Gi(_,Y))return!1;return Sn?(ht=!1,!1):!0}function Ua(_,Y){if(Y instanceof Ce)return Y.left!==_&&ct[Y.operator.slice(0,-1)];if(Y instanceof ae)return Y.left!==_&&ct[Y.operator];if(Y instanceof hn)return Y.optional&&Y.expression!==_;if(Y instanceof Xi)return Y.expression!==_;if(Y instanceof _n||Y instanceof Un)return Y.condition!==_;if(Y instanceof at)return Y.optional&&Y.expression!==_}function Wa(_,Y){if(_ instanceof mt)return!0;if(_.TYPE=="Binary")return!of(_.operator,_.right,C);if(_ instanceof hn){var F,Ge=_.expression;if(Ge instanceof ee&&(F=Ge.definition(),Ge=Ge.fixed_value()),!(Ge instanceof dn))return!_.is_expr_pure(C);if(F&&lf(C,F,Ge))return!0;if(Ge.collapse_scanning)return!1;Ge.collapse_scanning=!0;var un=Ne;Ne=!1;for(var cn=Ke,xn=yn,$n=0;!Qe&&$n<Ge.argnames.length;$n++)Oi(Ji,Ge.argnames[$n],_.args[$n])&&(Qe=!0);if(!Qe)if(Ge.rest&&Oi(Ji,Ge.rest,c(Dn,_,{elements:_.args.slice($n)})))Qe=!0;else if(qt(Ge)&&Ge.value)Ge.value.transform(tn);else for(var $n=0;!Qe&&$n<Ge.body.length;$n++){var Yn=Ge.body[$n];if(Yn instanceof tt){Yn.value&&Yn.value.transform(tn);break}Yn.transform(tn)}return yn=xn,Ke=cn,Ne=un,Ge.collapse_scanning=!1,Qe?(Qe=!1,!0):!1}if(_ instanceof Pt){if(!p)return!1;var ei=_.extends;return ei?(ei instanceof ee&&(ei=ei.fixed_value()),!A(ei)):!1}if(_ instanceof Vt)return p&&(p.bfinally||p.bcatch&&_ instanceof rf)?!0:qe||Ye instanceof vn||ns(Ye);if(_ instanceof Ot)return C.option("ie")&&_.name&&$e.has(_.name.name);if(_ instanceof Wi)return qs(_);if(_ instanceof vn){if(qe)return!0;var Kn=_.expression;return Kn instanceof ee&&G(Kn.definition())?!0:C.option("unsafe")&&(I(Kn)&&Oe[Kn.name]||bi(Kn))?!1:Er?we||!p&&Le||_.optional?!1:Kn.may_throw_on_access(C):!0}if(_ instanceof Cn)return!0;if(_ instanceof ee){if(qs(_))return!Gi(_,Y);if(qe&&ns(_))return!0;var F=_.definition();return(p||F.scope.resolve()!==b)&&!He(_)}if(_ instanceof It)return!_.is_expr_pure(C);if(_ instanceof Jn)return Ze(_.name)?!0:(_.value||Y instanceof cr)&&_.name.match_symbol(function(Xn){return Xn instanceof yt&&($e.has(Xn.name)||qe&&ns(Xn))},!0);if(_ instanceof xi)return!0;var Ti=Fi(_.left,_);if(!Ti)return!1;if(Ti instanceof vn||Ze(Ti))return!0;return Ti.match_symbol(function(Xn){return Xn instanceof ee&&($e.has(Xn.name)||vt&&C.exposed(Xn.definition()))},!0);function Ji(Xn){return Xn.transform(tn),Qe}}function Oi(_,Y,F){if(Y instanceof In)return _(Y.value)||Oi(_,Y.name,Y.value)||!si(F)&&Oi(_,Y.name,F);if(!F)return!(Y instanceof jt);if(Y instanceof Rn){if(Y.rest&&Oi(_,Y.rest))return!0;if(Y instanceof Et)return F instanceof Dn?!Je(Y.elements,function(Ge,un){return!Oi(_,Ge,F[un])}):F.is_string(C)?!Je(Y.elements,function(Ge){return!Oi(_,Ge)}):!0;if(Y instanceof ii)return F.may_throw_on_access(C)?!0:!Je(Y.properties,function(Ge){return Ge.key instanceof X&&_(Ge.key)?!1:!Oi(_,Ge.value)})}}function ma(){if(o!==!1){var _=C.parent(),Y=C.self();if(o===void 0){if(!(Y instanceof xt)||Hi(Y)||Y.uses_arguments||Y.pinned()||!(_ instanceof hn)||_.expression!==Y||!Je(_.args,function(Xn){return!(Xn instanceof Cn)})){o=!1;return}if(!y(_))return;o=!0}var F=Y.in_strict_mode(C)&&!Y.parent_scope.resolve(!0).in_strict_mode(C),Ge;di(Y)?(Ge=function(Xn){return Xn instanceof jt&&Xn.name=="await"},f=!0):(Ge=function(Xn){return Xn instanceof mt&&!cn.find_parent(sn)},f===void 0&&(f=ce(C,1,_,null,!0,!0)));var un=null,cn=new on(function(Xn,Ka){if(!Kn)return!0;if(Ge(Xn)||Xn instanceof xi)return Kn=null,!0;if(Xn instanceof Wi)return(F||!un)&&(Kn=null),!0;if(Xn instanceof ee){var _f;return(Xn.in_arg&&!Qt(Xn.definition())||(_f=Y.variables.get(Xn.name))&&_f!==Xn.definition())&&(Kn=null),!0}if(Xn instanceof sn&&!qt(Xn)){var fu=un;return un=Xn,Ka(),un=fu,!0}});K=_.args.slice();for(var xn=K.length,$n=new Gn,Yn=Y.argnames.length;--Yn>=0;){var ei=Y.argnames[Yn],Kn=K[Yn],Ti=null;if(ei instanceof In&&(Ti=ei.value,ei=ei.name,K[xn+Yn]=Ti),ei instanceof Rn){if(f&&Oi(function(Xn){return Xn.has_side_effects(C)},ei,Kn)){Z.length=0;break}K[xn+Yn]=Y.argnames[Yn];continue}if(!$n.has(ei.name)&&($n.set(ei.name,!0),Ti&&(Kn=si(Kn)?Ti:null),!Kn&&!Ti?Kn=c(_t,ei).transform(C):Kn instanceof dn&&Kn.pinned()?Kn=null:Kn&&Kn.walk(cn),!!Kn)){var Ji=c(Jn,ei,{name:ei,value:Kn});Ji.name_index=Yn,Ji.arg_index=Ti?xn+Yn:Yn,Z.unshift([Ji])}}Y.rest&&K.push(Y.rest)}}function Mn(_,Y){if(rn.push(_),_ instanceof Dn)_.elements.forEach(function(xn){Mn(xn,Y)});else if(_ instanceof Ce){var F=_.left;F instanceof Rn||Z.push(rn.slice()),Mn(F),Mn(_.right),F instanceof ee&&_.operator=="="&&ne.set(F.name,(ne.get(F.name)||0)+1)}else if(_ instanceof mt)Mn(_.expression,Y);else if(_ instanceof ae){var Ge=ct[_.operator];Y&&Ge&&_.operator!="??"&&_.right instanceof Ce&&_.right.operator=="="&&!(_.right.left instanceof Rn)&&Z.push(rn.slice()),Mn(_.left,!Ge&&Y),Mn(_.right,Y)}else if(_ instanceof hn)Mn(_.expression),_.args.forEach(Mn);else if(_ instanceof Xi)Mn(_.expression);else if(_ instanceof _n)Mn(_.condition),Mn(_.consequent,Y),Mn(_.alternative,Y);else if(_ instanceof gt)_.definitions.forEach(Mn);else if(_ instanceof et)Mn(_.expression);else if(_ instanceof ua)Mn(_.condition),_.body instanceof Mt||Mn(_.body);else if(_ instanceof Vt)_.value&&Mn(_.value);else if(_ instanceof Nt)_.init&&Mn(_.init,!0),_.condition&&Mn(_.condition),_.step&&Mn(_.step,!0),_.body instanceof Mt||Mn(_.body);else if(_ instanceof Wt)Mn(_.object),_.body instanceof Mt||Mn(_.body);else if(_ instanceof Un)Mn(_.condition),_.body instanceof Mt||Mn(_.body),_.alternative&&!(_.alternative instanceof Mt)&&Mn(_.alternative);else if(_ instanceof st)_.properties.forEach(function(xn){rn.push(xn),xn.key instanceof X&&Mn(xn.key),xn instanceof Zt&&Mn(xn.value,Y),rn.pop()});else if(_ instanceof Xe){var un=_.expressions.length-(Y?0:1);_.expressions.forEach(function(xn,$n){Mn(xn,$n<un)})}else if(_ instanceof je)Mn(_.body,!0);else if(_ instanceof Cn)Mn(_.expression);else if(_ instanceof at)Mn(_.expression),Mn(_.property);else if(_ instanceof wi)Mn(_.expression),_.body.forEach(Mn);else if(_ instanceof ft)ga[_.operator]?Z.push(rn.slice()):Mn(_.expression);else if(_ instanceof Jn){if(_.name instanceof ri)if(_.value){var cn=_.name.definition();cn.references.length>cn.replaced&&Z.push(rn.slice())}else B.set(_.name.name,(B.get(_.name.name)||0)+1);_.value&&Mn(_.value)}else _ instanceof xi&&_.expression&&Mn(_.expression);rn.pop()}function hf(_,Y){var F=tn.parent(Y);return F instanceof Dn||F instanceof Ce||F instanceof mt||F instanceof ae||F instanceof hn||F instanceof Xi||F instanceof _n?_:F instanceof gt?Yt(F,Y+1):F instanceof Vt||F instanceof Un||F instanceof Ci||F instanceof Di||F instanceof vn?_:F instanceof Xe?(F.tail_node()===_?hf:Yt)(F,Y+1):F instanceof je?Yt(F,Y+1):F instanceof Cn||F instanceof wi||F instanceof ft||F instanceof Jn||F instanceof xi?_:null}function Yf(_,Y,F){var Ge;do Ge=_,_=tn.parent(++F);while(_ instanceof Ce&&_.operator.slice(0,-1)==Y||_ instanceof ae&&_.operator==Y);return Ge}function Lf(_,Y,F,Ge,un){var cn=Ne;Ne=!1;var xn=Ke,$n=yn,Yn=tn.stack;return tn.stack=[Ge],_.transform(tn),tn.stack=Yn,yn=$n,Ke=xn,Ne=cn,Qe?(Qe=!1,F):Y(Ge,un+1)}function hi(_,Y){var F=tn.parent(Y);if(F instanceof Dn)return hi(F,Y+1);if(F instanceof Ce){if(Zn(F)||F.left.match_symbol(function(xn){return xn instanceof ee&&(Ye.name==xn.name||we.name==xn.name)}))return _;var Ge;return F.left===_||!ct[Ge=F.operator.slice(0,-1)]?hi(F,Y+1):Yf(F,Ge,Y)}if(F instanceof mt)return hi(F,Y+1);if(F instanceof ae){var Ge;return F.left===_||!ct[Ge=F.operator]?hi(F,Y+1):Yf(F,Ge,Y)}if(F instanceof hn)return F;if(F instanceof Xi)return F.expression!==_?_:hi(F,Y+1);if(F instanceof _n)return F.condition!==_?_:hi(F,Y+1);if(F instanceof gt)return Yt(F,Y+1);if(F instanceof Fr)return _;if(F instanceof Vt)return Yt(F,Y+1);if(F instanceof Nt)return F.init!==_&&F.condition!==_?_:hi(F,Y+1);if(F instanceof Wt)return F.init!==_?_:hi(F,Y+1);if(F instanceof Un)return F.condition!==_?_:hi(F,Y+1);if(F instanceof Di){var un=tn.parent(Y+1);return Je(un.properties,function(xn){return xn instanceof Zt})?hi(un,Y+2):un}if(F instanceof vn){var cn=F.expression;return cn===_?hi(F,Y+1):_}return F instanceof Xe?(F.tail_node()===_?hi:Yt)(F,Y+1):F instanceof je?Yt(F,Y+1):F instanceof Cn?hi(F,Y+1):F instanceof wi?F.expression!==_?_:hi(F,Y+1):F instanceof ft?F.operator=="delete"?_:hi(F,Y+1):F instanceof Jn?F.name.match_symbol(function(xn){return xn instanceof yt&&(Ye.name==xn.name||we.name==xn.name)})?_:hi(F,Y+1):F instanceof ia?F.condition!==_?_:hi(F,Y+1):F instanceof xi?hi(F,Y+1):null}function Yt(_,Y){var F=tn.parent(Y);if(Wa(_,F)||Ua(_,F))return _;if(F instanceof Dn)return Yt(F,Y+1);if(F instanceof Ce)return cn(F.left);if(F instanceof mt)return _;if(F instanceof ae||F instanceof hn||F instanceof Xi||F instanceof _n||F instanceof gt||F instanceof Vt||F instanceof Un)return Yt(F,Y+1);if(F instanceof Ci)return _;if(F instanceof Di){var Ge=tn.parent(Y+1);return Je(Ge.properties,function(xn){return xn instanceof Zt})?Yt(Ge,Y+2):Ge}if(F instanceof vn){var un=F.expression;return un===_?Yt(F,Y+1):Lf(un,Yt,_,F,Y)}if(F instanceof Xe||F instanceof je)return Yt(F,Y+1);if(F instanceof Cn)return _;if(F instanceof wi||F instanceof ft)return Yt(F,Y+1);if(F instanceof Jn)return cn(F.name);if(F instanceof xi)return _;return null;function cn(xn){return Zn(F)?_:xn!==_&&xn instanceof Rn?Lf(xn,Yt,_,F,Y):Yt(F,Y+1)}}function Va(_){if(Te){Te=!1;return}if(!(ln<1)){_=_.tail_node();var Y=_ instanceof Ce&&_.operator=="="?_.left:_;if(Y instanceof ee){var F=Y.definition();if(!F.undeclared&&!G(F)){if(Y!==_){if(Hn(Y,C))return;var Ge=F.references.length-F.replaced;if(Ge<2)return;var un=h.clone();un[un instanceof Ce?"right":"value"]=Y,h.name_index>=0&&(un.name_index=h.name_index,un.arg_index=h.arg_index),h=un}return we=F}}}}function Ga(_){return _.references.length-_.replaced-(ne.get(_.name)||0)}function $t(_){if(_ instanceof Ce){var Y=_.left;if(!(Y instanceof ee))return Y;var F=Y.definition();if(b.uses_arguments&&mr(F)||C.exposed(F))return Y;if(ln=Ga(F),F.fixed&&Y.fixed){var Ge=F.references.filter(function(cn){return cn.fixed===Y.fixed}).length-1;Ge<ln&&(ln=Ge,N=0,he=!0)}return _.operator=="="&&Va(_.right),Y}if(_ instanceof ae)return _.right.left;if(_ instanceof ft)return _.expression;if(_ instanceof Jn){var Y=_.name,F=Y.definition();if(F.const_redefs||!rr(Y,F.orig)||b.uses_arguments&&mr(F))return;var un=F.orig.length-F.eliminated-(B.get(F.name)||0);return ln=Ga(F),F.fixed&&(ln=Math.min(ln,F.references.filter(function($n){if(!$n.fixed||!$n.fixed.assigns)return!0;var Yn=$n.fixed.assigns[0];return Yn===Y||Sr(Yn)===_.value}).length)),un>1&&!(Y instanceof Pn)?(Va(_.value),c(ee,Y)):Va(_.value)||ln==1&&!C.exposed(F)?c(ee,Y):void 0}}function Sr(_){if(_ instanceof Ce)return _.right;if(_ instanceof ae){var Y=_.clone();return Y.right=_.right.right,Y}if(_ instanceof Jn)return _.value}function ir(_){return _ instanceof Dn?!1:_ instanceof ae&&ct[_.operator]?ir(_.left)&&ir(_.right):_ instanceof hn?!1:_ instanceof _n?ir(_.consequent)&&ir(_.alternative):_ instanceof st?!1:!_.has_side_effects(C)}function Ja(_){if(_ instanceof Ce&&_.right.single_use)return;for(var Y=Object.create(null),F=new on(function($n){$n instanceof ee&&(Y[$n.definition().id]=!0)});_ instanceof Ce&&_.operator=="=";)_.left.walk(F),_=_.right;if(_ instanceof Wi)return xn;if(_ instanceof ee){var Ge=_.evaluate(C);return Ge===_?xn:vf(Ge,xn)}if(_.is_truthy())return vf(!0,zn);if(_.is_constant()){var un=_.evaluate(C);if(!(un instanceof X))return vf(un,xn)}if(!(Ye instanceof ee)||!ir(_))return!1;var cn;return _.walk(new on(function($n){if(cn)return!0;$n instanceof ee&&Y[$n.definition().id]&&(cn=!0)})),!cn&&xn;function xn($n){return _.equals($n)}}function vf(_,Y){return function(F,Ge){if(Ge.in_boolean_context()){if(_&&F.is_truthy()&&!F.has_side_effects(C))return!0;if(F.is_constant()){var un=F.evaluate(C);if(!(un instanceof X))return!un==!_}}return Y(F)}}function Nr(_){for(;_.write_only&&(_.write_only=!1,_ instanceof Ce);)_=_.right}function Ss(_,Y){var F=Y.scope||J(tn)||i;_.walk(new on(function(Ge){if(Ge instanceof ti)return!0;Ge instanceof jt&&(Ge.scope=F)}))}function Ts(_){return _ instanceof ee&&(_=_.fixed_value(),!_)?!0:_ instanceof Ce?_.operator=="="&&Ts(_.right):_ instanceof vn||_ instanceof Wi}function As(_){var Y=new Gn;_ instanceof Jn&&(_.name.definition().fixed||(Er=!1),Y.add(_.name.name,Ye));var F=b.uses_arguments&&!C.has_directive("use strict"),Ge=b instanceof kt,un=new on(function(cn){var xn;if(cn instanceof ee){if(xn=cn.fixed_value(),!xn){xn=cn;var $n=cn.definition(),Yn=cn.fixed&&cn.fixed.escaped||$n.escaped;!$n.undeclared&&($n.assignments||!Yn||Yn.cross_scope)&&(fe($n,cn.scope,cn,un.parent())||!Ya($n))&&(Er=!1)}}else cn instanceof Wi&&(xn=cn);if(xn)Y.add(cn.name,s(C,un,cn,xn,0));else if(cn instanceof dn){for(var ei=0,Kn,Ti=cn;Kn=un.parent(ei++);Ti=Kn){if(Kn instanceof Ce){if(Kn.left===Ti)break;if(Kn.operator=="="||ct[Kn.operator.slice(0,-1)])continue;break}if(Kn instanceof ae){if(ct[Kn.operator])continue;break}if(Kn instanceof hn||Kn instanceof sn)return;if(Kn instanceof Xe){if(Kn.tail_node()===Ti)continue;break}if(Kn instanceof It){if(Kn.tag)return;break}}return cn.enclosed.forEach(function(Xn){Xn.scope!==cn&&li.set(Xn.name,!0)}),!0}else F&&cn instanceof at&&(b.each_argname(function(Xn){(!C.option("reduce_vars")||Xn.definition().assignments)&&(Xn.definition().fixed||(Er=!1),Y.add(Xn.name,!0))}),F=!1);if(Ge)if(cn.TYPE=="Call"){if(At)return;var Ji=cn.expression;if(Ji instanceof vn||Ji instanceof xt&&!Ji.contains_this())return;At=!0}else cn instanceof vn&&Ts(cn.expression)&&(cn===Ye&&!(_ instanceof ft)?At=!0:vt=!0)});return _.walk(un),Y}function tu(_){var Y=Se===an?null:be(an,an.expressions.slice(0,-1)),F=_.name_index;if(F>=0){var Ge,un=b.argnames[F];un instanceof In?(b.argnames[F]=un=un.clone(),un.value=Y||c(mn,un,{value:0})):(Ge=C.parent().args)[F]&&(b.argnames[F]=un.clone(),Ge[F]=Y||c(mn,Ge[F],{value:0}));return}var cn=rn.length-1,xn=rn[cn];(xn instanceof Jn||rn[cn-1].body===xn)&&cn--;var $n=new Jt(function(Yn,ei,Kn){if(Re||Yn!==rn[de])return Yn;if(de++,de<=cn)return An(Yn,$n);if(Re=!0,Yn instanceof gt){B.set(xn.name.name,(B.get(xn.name.name)||0)+1),we&&we.replaced++;var Ti=Yn.definitions,Ji=Ti.indexOf(xn),Xn=xn.clone();if(Xn.value=null,!Y)return Yn.definitions[Ji]=Xn,Yn;var Ka=[c(je,Y,{body:Y})];if(Ji>0){var _f=Yn.clone();_f.definitions=Ti.slice(0,Ji),Ka.unshift(_f),Yn=Yn.clone(),Yn.definitions=Ti.slice(Ji)}return Ka.push(Yn),Yn.definitions[0]=Xn,Kn?Dt.splice(Ka):c(Ve,Yn,{body:Ka})}return Y?ar(Yn)?c(je,Y,{body:Y}):Y:Kn?Dt.skip:null},function(Yn,ei){return Yn instanceof Nt?Yr(Yn,ei):Ds(Yn,$n)});Qe=!1,Re=!1,de=0,(O[Pe]=O[Pe].transform($n))||O.splice(Pe,1)}function Ds(_,Y){if(_ instanceof Xe)switch(_.expressions.length){case 0:return null;case 1:return St(Y.parent(),_,_.expressions[0])}}function iu(_){var Y=df(_);if(!(Y instanceof ee)||Y.definition().scope.resolve()!==b)return!1;if(!g)return!0;if(Vn||h instanceof ft)return!1;var F=$e.get(Y.name);return!F||F[0]===_}function ru(){return h instanceof ft?!1:Se.has_side_effects(C)}function au(_){if(_ instanceof ft||qe)return!1;if(we)return!0;if(!(Ye instanceof ee))return!1;var Y;if(_ instanceof Jn)Y=1;else if(_.operator=="=")Y=2;else return!1;var F=Ye.definition();if(F.references.length-F.replaced==Y)return!0;if(!F.fixed||!Ye.fixed)return!1;var Ge=Ye.fixed.assigns,un=0;return!Je(F.references,function(cn,xn){var $n=cn.fixed;return!$n||$n.to_binary||$n.to_prefix?!1:$n===Ye.fixed?(un++,!0):Ge&&$n.assigns&&Ge[0]!==$n.assigns[0]})||un!=Y?!1:(he=!0,!0)}function qs(_,Y){var F=$e.get(_.name);if(!(!F||Je(F,function(Ge){return!Ge}))){if(F[0]!==Ye)return!0;ht=!1}}function ns(_){var Y=_.definition();return Y.orig.length==1&&Y.orig[0]instanceof lr?!1:Y.scope.resolve()!==b||At&&C.exposed(Y)?!0:!Je(Y.references,function(F){return F.scope.resolve(!0)===b})}function Ma(_,Y){if(_ instanceof Ce)return Ma(_.left,!0);if(_ instanceof ft)return Ma(_.expression,!0);if(_ instanceof Jn)return _.value&&Ma(_.value);if(Y){if(_ instanceof et||_ instanceof at)return Ma(_.expression,!0);if(_ instanceof ee)return _.definition().scope.resolve()!==b}return!1}}function W(O){for(var C=!1,K=[],ne=0;ne<O.length;){var Z=O[ne];if(Z instanceof Ve&&Je(Z.body,Fe)){C=!0,W(Z.body),[].splice.apply(O,[ne,1].concat(Z.body)),ne+=Z.body.length;continue}if(Z instanceof ni){if(rr(Z.value,K)){C=!0,O.splice(ne,1);continue}K.push(Z.value)}if(Z instanceof nt){C=!0,O.splice(ne,1);continue}ne++}return C}function j(O,C){for(var K=!1,ne=C.parent(),Z=C.self(),Q,B,Te,Pe=r&&ne&&ne.TYPE=="Call"&&ne.expression===Z,tn=r&&C.option("conditionals")&&C.option("sequences"),En=!(p&&p.bfinally&&d(b)),rn=vt(O),de=O.length;--de>=0;){var h=O[de],N=Sn(de),xe=O[N];if(r&&Q&&!xe&&h instanceof tt&&En&&!(Z instanceof or)){var he=h.value;if(!he){K=!0,O.splice(de,1);continue}var ln=he.tail_node();if(si(ln)){K=!0,he instanceof Ue?he=he.expression:ln instanceof Ue&&(he=he.clone(),he.expressions[he.expressions.length-1]=ln.expression),O[de]=c(je,h,{body:he});continue}}if(h instanceof Un){var we=zt(h.body);if($e(we)){we.label&&gf(we.label.thedef.references,we),K=!0,h=h.clone(),h.body=c(Ve,h,{body:Se(h.body,we)}),h.alternative=c(Ve,h,{body:Me(h.alternative).concat(Le(Te,B))}),Ze(we.value,Te),O[de]=h,O[de]=h.transform(C);continue}if(we&&!h.alternative&&xe instanceof tf){var Ke=h.condition,yn=de+1==N&&h.body instanceof Ve;if(Ke=ui(Ke,Ke.negate(C),yn),Ke!==h.condition){K=!0,h=h.clone(),h.condition=Ke;var he=h.body;h.body=c(Ve,xe,{body:Le(!0,null,N+1)}),O.splice(de,1,h,he),(!r||Z instanceof Mt&&Z.body===O)&&(O[de]=h.transform(C));continue}}var Ye=zt(h.alternative);if($e(Ye)){Ye.label&&gf(Ye.label.thedef.references,Ye),K=!0,h=h.clone(),h.body=c(Ve,h.body,{body:Me(h.body).concat(Le(Te,B))}),h.alternative=c(Ve,h.alternative,{body:Se(h.alternative,Ye)}),Ze(Ye.value,Te),O[de]=h,O[de]=h.transform(C);continue}if(C.option("typeofs")){if(we&&!Ye){var qe=c(Ve,Z,{body:O.slice(de+1)});Nn(h.condition,null,qe)}if(!we&&Ye){var qe=c(Ve,Z,{body:O.slice(de+1)});Nn(h.condition,qe)}}}if(h instanceof Un&&h.body instanceof tt){var Wn=h.body.value,ht=h.body.in_bool||xe instanceof tt&&xe.in_bool;if(!h.alternative&&xe instanceof tt&&(En||!Wn==!xe.value)){K=!0,h=h.clone(),h.alternative=c(Ve,xe,{body:Le(!0,null,N+1)}),O[de]=h,O[de]=h.transform(C);continue}if(r&&Q&&!xe&&!h.alternative&&(ht||Wn&&rn||Wn instanceof _n&&(si(Wn.consequent,C)||si(Wn.alternative,C)))){K=!0,h=h.clone(),h.alternative=c(tt,h,{value:null}),O[de]=h,O[de]=h.transform(C);continue}var Vn,wt;if(tn&&!h.alternative&&(!(wt=O[Vn=Re(de)])&&Pe||wt instanceof Un&&wt.body instanceof tt)&&(xe?xe instanceof je&&Sn(N)==O.length:!Q)){K=!0;var Zn=[];h=h.clone(),Zn.push(h.condition),h.condition=be(h,Zn),h.alternative=c(Ve,Z,{body:Le().concat(c(tt,Z,{value:null}))}),O[de]=h.transform(C),de=Vn+1;continue}}if(h instanceof Ki||h instanceof Vt){B=h;continue}Q&&B&&B===xe&&Qe(h)}return K;function vt(oe){for(var Ne=0,ze=oe.length;--ze>=0;){var en=oe[ze];if(en instanceof Un&&en.body instanceof tt&&++Ne>1)return!0}return!1}function At(oe){return q(C,function(Ne){return Ne===oe})}function li(oe,Ne){if(!B||B.TYPE!=oe.TYPE)return!1;var ze=oe.value;if(!ze)return!1;var en=B.equals(oe);return!en&&ze instanceof Xe&&(ze=ze.tail_node(),B.value&&B.value.equals(ze)&&(en=2)),!en&&!Ne&&B.value instanceof Xe&&B.value.tail_node().equals(ze)&&(en=3),en}function Er(oe){if(oe instanceof Vt){if(Te=li(oe))return!0;if(!r||!(oe instanceof tt))return!1;var Ne=oe.value;return Ne&&!si(Ne.tail_node())?!1:Z instanceof or?!B||B instanceof Vt&&B.value?!1:(Te=4,!0):!0}if(!(oe instanceof Dr))return!1;if(Z instanceof or){if(B instanceof Vt){if(!r||B.value)return!1;Te=!0}else if(B){if(C.loopcontrol_target(B)!==ne)return!1;Te=!0}else if(B===!1)return!1}var ze=C.loopcontrol_target(oe);return oe instanceof Jr?At(Ut(ze)):ze instanceof Ci?!1:At(ze)}function $e(oe){if(Te=!1,!Er(oe))return!1;for(var Ne=O.length;--Ne>de;){var ze=O[Ne];if(ze instanceof mi){if(ze.name.definition().preinit)return!1}else if((ze instanceof qr||ze instanceof cr)&&!Je(ze.definitions,function(en){return!en.name.match_symbol(function(Tn){return Tn instanceof yt&&Tn.definition().preinit})}))return!1}return!0}function Le(oe,Ne,ze){var en=[],Tn=!1,We=de+1;oe?Ne?ze=O.lastIndexOf(Ne):(Ne=O[ze],Ne!==B&&(B=!1)):(ze=O.length,B=null);var An=O.splice(We,ze-We).filter(function(Gi){return Gi instanceof dt?(en.push(Gi),!1):(De(Gi)&&(Tn=!0),!0)});return oe===3&&(An.push(c(je,Ne.value,{body:be(Ne.value,Ne.value.expressions.slice(0,-1))})),Ne.value=Ne.value.tail_node()),[].push.apply(Tn?An:O,en),An}function an(oe,Ne){if(oe)switch(Ne){case 4:return oe;case 3:if(!(oe instanceof Xe))break;case 2:return be(oe,oe.expressions.slice(0,-1))}}function Se(oe,Ne){for(var ze=Me(oe),en=ze,Tn;(Tn=en[en.length-1])!==Ne;)en=Tn.body;en.pop();var We=Ne.value;return Te&&(We=an(We,Te)),We&&en.push(c(je,We,{body:We})),ze}function Ze(oe,Ne){if(Ne&&oe){switch(Ne){case 4:return;case 3:case 2:oe=oe.tail_node()}Bn(oe,B.value)}}function Sn(oe){Q=!0;for(var Ne=oe;++Ne<O.length;){var ze=O[Ne];if(!fi(ze)){if(ze instanceof bt){Q=!1;continue}break}}return Ne}function Re(oe){for(var Ne=oe;--Ne>=0;){var ze=O[Ne];if(!(ze instanceof bt)&&!fi(ze))break}return Ne}function Qe(oe,Ne,ze){if(oe instanceof Vt){var en=!(Ne&&oe instanceof rf)&&li(oe,!0);if(en){K=!0;var Tn=an(oe.value,en);return Tn?c(je,Tn,{body:Tn}):ze?null:c(nt,oe)}}else if(oe instanceof Un)oe.body=Qe(oe.body,Ne),oe.alternative&&(oe.alternative=Qe(oe.alternative,Ne));else if(oe instanceof Kt)oe.body=Qe(oe.body,Ne);else if(oe instanceof Xt){if(!oe.bfinally||!B.value||B.value.is_constant()){oe.bcatch&&Qe(oe.bcatch,Ne);var We=Qe(oe.body.pop(),!0,!0);We&&oe.body.push(We)}}else if(oe instanceof Mt&&!(oe instanceof sn||oe instanceof wi)){var We=Qe(oe.body.pop(),Ne,!0);We&&oe.body.push(We)}return oe}}function ie(O,C){var K,ne=C.self();ne instanceof Li?ne=C.parent():ne instanceof Kt&&(ne=ne.body);for(var Z=0,Q=0,B=O.length;Z<B;Z++){var Te=O[Z];if(Te instanceof Dr){var Pe=C.loopcontrol_target(Te);Ut(Pe)!==ne||Te instanceof Ki&&Pe instanceof Ci?O[Q++]=Te:Te.label&&gf(Te.label.thedef.references,Te)}else O[Q++]=Te;if(zt(Te)){K=O.slice(Z+1);break}}return O.length=Q,K&&K.forEach(function(tn){Qi(C,tn,O)}),O.length!=B}function ue(O,C){if(!(!r||p&&p.bfinally)){for(var K=!1,ne=O.length;--ne>=0;){var Z=O[ne];if(!(Z instanceof je))break;var Q=Z.body;if(!(Q instanceof mt))break;var B=Q.expression;if(!Si(C,B))break;if(K=!0,B=B.drop_side_effect_free(C,!0),B){Z.body=B;break}}return O.length=ne+1,K}}function pe(O,C){var K=!1,ne=O.length-1;if(r&&ne>=0){var Z=p&&p.bfinally&&d(b),Q=O[ne].try_inline(C,i,Z);Q&&(O[ne--]=Q,K=!0)}for(var B=g&&p&&p.bfinally?"try":g;ne>=0;ne--){var Q=O[ne].try_inline(C,i,!0,B);Q&&(O[ne]=Q,K=!0)}return K}function bn(O,C){if(O.length<2)return;var K=[],ne=0;function Z(){if(K.length){var Pe=be(K[0],K);O[ne++]=c(je,Pe,{body:Pe}),K=[]}}for(var Q=0,B=O.length;Q<B;Q++){var Te=O[Q];Te instanceof je?(K.length>=C.sequences_limit&&Z(),Ht(K,Te.body)):(fi(Te)||Z(),O[ne++]=Te)}return Z(),O.length=ne,ne!=B}function me(O,C){if(!(O instanceof Ve))return O;for(var K=null,ne=0;ne<O.body.length;ne++){var Z=O.body[ne];if(Z instanceof bt&&ot(Z))C.push(Z);else{if(K||De(Z))return!1;K=Z}}return K}function ve(O,C){for(var K=!1,ne=0,Z,Q=0;Q<O.length;Q++){var B=O[Q];if(Z)if(B instanceof Vt)(B.value||!d(b))&&(B.value=de(B.value||c(_t,B)).optimize(C));else if(B instanceof Nt){if(!(B.init instanceof gt)){var Te=!1;Z.body.walk(new on(function(h){if(Te||h instanceof sn)return!0;if(h instanceof ae&&h.operator=="in")return Te=!0,!0})),Te||(B.init?B.init=de(B.init):(B.init=Z.body,ne--,K=!0))}}else B instanceof oa?De(B.init)||(B.object=de(B.object)):B instanceof Un?B.condition=de(B.condition):(B instanceof wi||B instanceof br)&&(B.expression=de(B.expression));if(C.option("conditionals")&&B instanceof Un){var Pe=[],tn=me(B.body,Pe),En=me(B.alternative,Pe);if(tn!==!1&&En!==!1&&Pe.length>0){var rn=Pe.length;Pe.push(c(Un,B,{condition:B.condition,body:tn||c(nt,B.body),alternative:En})),Pe.unshift(ne,1),[].splice.apply(O,Pe),Q+=rn,ne+=rn+1,Z=null,K=!0;continue}}O[ne++]=B,Z=B instanceof je?B:null}return O.length=ne,K;function de(h){ne--,K=!0;var N=Z.body;return be(N,[N,h])}}function Ae(O){if(O instanceof Ce)return[O];if(O instanceof Xe)return O.expressions.slice()}function v(O,C,K){var ne=Ae(C);if(!ne)return;K=K||0;for(var Z=!1,Q=ne.length-K;--Q>=0;){var B=ne[Q];if(En(B)){var Te;if(B.left instanceof ee)Te=ne.slice(Q+1);else if(B.left instanceof vn&&En(B.left.expression)){Te=ne.slice(Q+1);var Pe=B.clone();B=B.left.expression,Pe.left=Pe.left.clone(),Pe.left.expression=B.left.clone(),Te.unshift(Pe)}else continue;Te.length!=0&&R(B.left,B.right,Te)&&(Z=!0,ne=ne.slice(0,Q).concat(B,Te))}}if(O instanceof gt){for(var Q=O.definitions.length;--Q>=0;){var tn=O.definitions[Q];if(tn.value){R(tn.name,tn.value,ne)&&(Z=!0),H(tn,ne,K)&&(Z=!0);break}}O instanceof bt&&x(O.definitions,ne,K)&&(Z=!0)}return Z&&ne;function En(rn){return rn instanceof Ce&&rn.operator=="="}}function U(O,C){if(O instanceof je&&!ot(C)){var K=Ae(O.body);if(K){var ne=[];if(x(ne,K.reverse(),0))return C.definitions=ne.reverse().concat(C.definitions),K.reverse()}}}function H(O,C,K){if(n.option("conditionals")&&!(O.name instanceof Rn)){for(var ne=!1,Z=O.name.definition();C.length>K;){var Q=Zf(n,Z,O.value,C[0]);if(!Q)break;O.value=Q,C.shift(),ne=!0}return ne}}function x(O,C,K){for(var ne=!1;C.length>K;){var Z=C[0];if(!(Z instanceof Ce)||Z.operator!="=")break;var Q=Z.left;if(!(Q instanceof ee)||I(Q)||Q.scope.resolve()!==b)break;var B=Q.definition();if(B.scope!==b||B.orig.length>B.eliminated+1||B.orig[0].TYPE!="SymbolVar")break;var Te=c(ri,Q);O.push(c(Jn,Z,{name:Te,value:Z.right})),B.orig.push(Te),B.replaced++,C.shift(),ne=!0}return ne}function R(O,C,K){var ne=new Gn;for(ne.set(O.name,!0);C instanceof Ce&&C.operator=="=";)C.left instanceof ee&&ne.set(C.left.name,!0),C=C.right;if(!(C instanceof st))return;var Z=!1;do{if(!Q(K[0]))break;K.shift(),Z=!0}while(K.length);return Z;function Q(B){if(B instanceof Ce&&B.operator=="="&&B.left instanceof vn){var Te=B.left.expression;if(Te instanceof ee&&ne.has(Te.name)&&B.right.is_constant_expression(b)){var Pe=B.left.property;if(Pe instanceof X&&(Q(Pe)&&(Pe=B.left.property=Pe.right.clone()),Pe=Pe.evaluate(n)),!(Pe instanceof X)){Pe=""+Pe;var tn=Pe=="__proto__"||n.has_directive("use strict")?function(En){var rn=En.key;return typeof rn=="string"&&rn!=Pe&&rn!="__proto__"}:function(En){var rn=En.key;return En instanceof aa||En instanceof Kr?typeof rn=="string"&&rn!=Pe:rn!=="__proto__"};if(Je(C.properties,tn))return C.properties.push(c(Zt,B,{key:Pe,value:B.right})),!0}}}}}function $(O){for(var C=!1,K,ne=0,Z=-1;ne<O.length;ne++){var Q=O[ne],B=O[Z];if(Q instanceof gt){if(B&&B.TYPE==Q.TYPE)B.definitions=B.definitions.concat(Q.definitions),C=!0;else if(K&&K.TYPE==Q.TYPE&&ot(Q))K.definitions=K.definitions.concat(Q.definitions),C=!0;else if(Q instanceof bt){var Te=U(B,Q);Te?(Te.length&&(B.body=be(B,Te),Z++),C=!0):Z++,O[Z]=K=Q}else O[++Z]=Q;continue}else if(Q instanceof Vt)Q.value=En(Q.value);else if(Q instanceof Nt){var Te=v(B,Q.init);if(Te)C=!0,Q.init=Te.length?be(Q.init,Te):null;else if(B instanceof bt&&(!Q.init||Q.init.TYPE==B.TYPE)){Q.init&&(B.definitions=B.definitions.concat(Q.init.definitions)),Q=Q.clone(),K=Q.init=B,O[Z]=rn(Q),C=!0;continue}else if(K&&Q.init&&K.TYPE==Q.init.TYPE&&ot(Q.init))K.definitions=K.definitions.concat(Q.init.definitions),Q.init=null,C=!0;else if(Q.init instanceof bt&&(K=Q.init,Te=U(B,Q.init),Te)){if(C=!0,Te.length==0){O[Z]=rn(Q);continue}B.body=be(B,Te)}}else if(Q instanceof Wt){if(K&&K.TYPE==Q.init.TYPE){var Pe=K.definitions.slice();Q.init=Q.init.definitions[0].name.convert_symbol(ee,function(de,h){Pe.push(c(Jn,h,{name:h,value:null})),h.definition().references.push(de)}),K.definitions=Pe,C=!0}Q.object=En(Q.object)}else if(Q instanceof Un)Q.condition=En(Q.condition);else if(Q instanceof je){var Te=v(B,Q.body),tn;if(Te){if(C=!0,!Te.length)continue;Q.body=be(Q.body,Te)}else if(B instanceof gt&&(tn=O[ne+1])&&B.TYPE==tn.TYPE&&(tn=tn.definitions[0]).value){C=!0,tn.value=be(Q,[Q.body,tn.value]);continue}}else(Q instanceof wi||Q instanceof br)&&(Q.expression=En(Q.expression));O[++Z]=K?rn(Q):Q}return O.length=Z+1,C;function En(de){var h=v(B,de,1);if(!h)return de;C=!0;var N=de.tail_node();return h[h.length-1]!==N&&h.push(N.left),be(de,h)}function rn(de){return de.transform(new Jt(function(h,N,xe){if(h instanceof gt){if(K===h||K.TYPE!=h.TYPE)return h;var he=this.parent();return he instanceof Wt&&he.init===h||!ot(h)?h:(K.definitions=K.definitions.concat(h.definitions),C=!0,he instanceof Nt&&he.init===h?null:xe?Dt.skip:c(nt,h))}if(h instanceof ki||h instanceof sn||!ar(h))return h}))}}}function Qi(e,n,r){var i,f=!1;n.walk(new on(function(g,p){if(g instanceof mi)return g.extends=null,g.properties=[],o(g),!0;if(g instanceof gt){var b=[];return g.remove_initializers(e,b)&&X.warn("Dropping initialization in unreachable code [{start}]",g),b.length>0&&(g.definitions=b,o(g)),!0}if(g instanceof dt)return o(g),!0;if(g instanceof sn)return!0;if(g instanceof ti){var T=i;return i=[],p(),i.required?r.push(c(Ve,n,{body:i})):i.length&&[].push.apply(r,i),i=T,!0}g instanceof Dr||(f=!0)})),f&&X.warn("Dropping unreachable code [{start}]",n);function o(g){i?(i.push(g),Fe(g)||(i.required=!0)):r.push(g)}}function si(e,n){return e==null||e.is_undefined||e instanceof _t||e instanceof Ue&&e.operator=="void"&&!(n&&e.expression.has_side_effects(n))}(function(e){e(Pt,Qn),e(sn,function(n){for(var r=this.body,i=0;i<r.length;i++){var f=r[i];if(!(f instanceof ni))break;if(f.value=="use strict")return!0}var o=this.parent_scope;return o?o.resolve(!0).in_strict_mode(n):n.option("module")})})(function(e,n){e.DEFMETHOD("in_strict_mode",n)}),function(e){e(X,zn),e(Dn,Qn),e(Ce,function(){return this.operator=="="&&this.right.is_truthy()}),e(dn,Qn),e(st,Qn),e(Vi,Qn),e(Xe,function(){return this.tail_node().is_truthy()}),e(ee,function(){var n=this.fixed_value();if(!n)return!1;this.is_truthy=zn;var r=n.is_truthy();return delete this.is_truthy,r})}(function(e,n){e.DEFMETHOD("is_truthy",n)}),function(e){e(X,Qn),e(Dn,zn);function n(r,i,f){switch(r){case"-":return i.is_negative_zero()&&(!(f instanceof ut)||f.value==0);case"&&":case"||":return i.is_negative_zero()||f.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}e(Ce,function(){var r=this.operator;return r=="="?this.right.is_negative_zero():n(r.slice(0,-1),this.left,this.right)}),e(ae,function(){return n(this.operator,this.left,this.right)}),e(ut,function(){return this.value==0&&1/this.value<0}),e(dn,zn),e(st,zn),e(Vi,zn),e(Xe,function(){return this.tail_node().is_negative_zero()}),e(ee,function(){var r=this.fixed_value();if(!r)return!0;this.is_negative_zero=Qn;var i=r.is_negative_zero();return delete this.is_negative_zero,i}),e(Ue,function(){return this.operator=="+"&&this.expression.is_negative_zero()||this.operator=="-"})}(function(e,n){e.DEFMETHOD("is_negative_zero",n)}),function(e){X.DEFMETHOD("may_throw_on_access",function(r,i){return!r.option("pure_getters")||this._dot_throw(r,i)});function n(r,i){return i||/strict/.test(r.option("pure_getters"))}e(X,n),e(Dn,zn),e(Ce,function(r){var i=this.operator,f=this.left,o=this.right;return i!="="?ct[i.slice(0,-1)]&&(f._dot_throw(r)||o._dot_throw(r)):o._dot_throw(r)?f instanceof ee&&o instanceof ae&&o.operator=="||"&&f.name==o.left.name?o.right._dot_throw(r):!0:!1}),e(ae,function(r){return ct[this.operator]&&(this.left._dot_throw(r)||this.right._dot_throw(r))}),e(Pt,function(r,i){return n(r,i)&&!Je(this.properties,function(f){return f.private||!f.static?!0:!(f instanceof ef||f instanceof nf)})}),e(_n,function(r){return this.consequent._dot_throw(r)||this.alternative._dot_throw(r)}),e(ut,zn),e(et,function(r,i){if(!n(r,i))return!1;var f=this.expression;return f instanceof ee&&(f=f.fixed_value()),!(this.property=="prototype"&&m(f))}),e(dn,zn),e($r,Qn),e(st,function(r,i){return n(r,i)&&!Je(this.properties,function(f){return f instanceof aa||f instanceof Kr?!1:!(f.key==="__proto__"&&f.value._dot_throw(r,i))})}),e(Wi,function(r,i){return n(r,i)&&!this.scope.resolve().new}),e(Xe,function(r){return this.tail_node()._dot_throw(r)}),e(ee,function(r,i){if(this.is_undefined)return!0;if(!n(r,i)||I(this)&&this.is_declared(r)||this.is_immutable())return!1;var f=this.definition();if(G(f)&&!f.scope.rest&&Je(f.scope.argnames,function(g){return g instanceof Pn}))return f.scope.uses_arguments>2;var o=this.fixed_value(!0);return o?(this._dot_throw=Qn,o._dot_throw(r)?(delete this._dot_throw,!0):(this._dot_throw=zn,!1)):!0}),e(Ue,function(){return this.operator=="void"}),e(Or,zn),e(_t,Qn)}(function(e,n){e.DEFMETHOD("_dot_throw",n)}),function(e){e(X,zn),e(Dn,Qn);function n(r,i,f){switch(i){case"&&":return f.left.is_defined(r)&&f.right.is_defined(r);case"||":return f.left.is_truthy()||f.right.is_defined(r);case"??":return f.left.is_defined(r)||f.right.is_defined(r);default:return!0}}e(Ce,function(r){var i=this.operator;return i=="="?this.right.is_defined(r):n(r,i.slice(0,-1),this)}),e(ae,function(r){return n(r,this.operator,this)}),e(_n,function(r){return this.consequent.is_defined(r)&&this.alternative.is_defined(r)}),e(ut,Qn),e(Gt,zn),e(dn,Qn),e(st,Qn),e(Xe,function(r){return this.tail_node().is_defined(r)}),e(ee,function(r){if(this.is_undefined)return!1;if(I(this)&&this.is_declared(r)||this.is_immutable())return!0;var i=this.fixed_value();if(!i)return!1;this.is_defined=zn;var f=i.is_defined(r);return delete this.is_defined,f}),e(Ue,function(){return this.operator!="void"}),e(Or,Qn),e(_t,zn)}(function(e,n){e.DEFMETHOD("is_defined",n)}),function(e){e(X,zn),e(Ce,function(f){return this.operator=="="&&this.right.is_boolean(f)});var n=Ln("in instanceof == != === !== < <= >= >");e(ae,function(f){return n[this.operator]||ct[this.operator]&&this.left.is_boolean(f)&&this.right.is_boolean(f)}),e(Na,Qn);var r=Ln("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(hn,function(f){if(!f.option("unsafe"))return!1;var o=this.expression;return o instanceof et&&(r[o.property]||o.property=="test"&&o.expression instanceof Vi)}),e(_n,function(f){return this.consequent.is_boolean(f)&&this.alternative.is_boolean(f)}),e(Ai,zn),e(Xe,function(f){return this.tail_node().is_boolean(f)}),e(ee,function(f){var o=this.fixed_value();if(!o)return!1;this.is_boolean=zn;var g=o.is_boolean(f);return delete this.is_boolean,g});var i=Ln("! delete");e(Ue,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(X,zn);var n=Ln("- * / % ** & | ^ << >> >>>");e(Ce,function(f){return n[this.operator.slice(0,-1)]||this.operator=="="&&this.right.is_number(f)}),e(ae,function(f){return n[this.operator]?!0:this.operator!="+"?!1:(this.left.is_boolean(f)||this.left.is_number(f))&&(this.right.is_boolean(f)||this.right.is_number(f))});var r=Ln(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);e(hn,function(f){if(!f.option("unsafe"))return!1;var o=this.expression;return o instanceof et&&(r[o.property]||I(o.expression)&&o.expression.name=="Math")}),e(_n,function(f){return this.consequent.is_number(f)&&this.alternative.is_number(f)}),e(Ai,zn),e(mn,Qn),e(Xe,function(f){return this.tail_node().is_number(f)}),e(ee,function(f,o){var g=this.fixed_value();if(!g||o&&g instanceof Ue&&g.operator=="+"&&g.expression.equals(this))return!1;this.is_number=zn;var p=g.is_number(f);return delete this.is_number,p});var i=Ln("+ - ~ ++ --");e(ft,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(X,zn),e(Ce,function(r){switch(this.operator){case"+=":if(this.left.is_string(r))return!0;case"=":return this.right.is_string(r)}}),e(ae,function(r){return this.operator=="+"&&(this.left.is_string(r)||this.right.is_string(r))});var n=Ln(["charAt","substr","substring","toExponential","toFixed","toLowerCase","toPrecision","toString","toUpperCase","trim"]);e(hn,function(r){if(!r.option("unsafe"))return!1;var i=this.expression;return i instanceof et&&n[i.property]}),e(_n,function(r){return this.consequent.is_string(r)&&this.alternative.is_string(r)}),e(Xe,function(r){return this.tail_node().is_string(r)}),e(On,Qn),e(ee,function(r){var i=this.fixed_value();if(!i)return!1;this.is_string=zn;var f=i.is_string(r);return delete this.is_string,f}),e(It,function(r){return!this.tag||Rf(r,this.tag)}),e(Ue,function(){return this.operator=="typeof"})}(function(e,n){e.DEFMETHOD("is_string",n)});var ct=Ln("&& || ??");(function(e){function n(i,f){if(i instanceof X)return i.clone(!0);if(Array.isArray(i))return c(Dn,f,{elements:i.map(function(p){return n(p,f)})});if(i&&typeof i=="object"){var o=[];for(var g in i)Ct(i,g)&&o.push(c(Zt,f,{key:g,value:n(i[g],f)}));return c(st,f,{properties:o})}return ai(i,f)}function r(i){X.warn("global_defs {this} redefined [{start}]",i)}kt.DEFMETHOD("resolve_defines",function(i){return i.option("global_defs")?(this.figure_out_scope({ie:i.option("ie")}),this.transform(new Jt(function(f){var o=f._find_defs(i,"");if(o){for(var g=0,p=f,b;(b=this.parent(g++))&&!(!(b instanceof vn)||b.expression!==p);)p=b;if(Fi(p,b)){r(f);return}return o}}))):this}),e(X,Lt),e(et,function(i,f){return this.expression._find_defs(i,"."+this.property+f)}),e(yt,function(i){this.definition().global&&Ct(i.option("global_defs"),this.name)&&r(this)}),e(ee,function(i,f){if(this.definition().global){var o=i.option("global_defs"),g=this.name+f;if(Ct(o,g))return n(o[g],this)}})})(function(e,n){e.DEFMETHOD("_find_defs",n)});function ui(e,n,r){var i=n.print_to_string().length-e.print_to_string().length;return i<(r||0)?n:e}function Qr(e,n,r){return ui(c(je,e,{body:e}),c(je,n,{body:n}),r).body}function wr(e,n,r,i){return(ka(e)?Qr:ui)(n,r,i)}function ya(e){var n=Object.create(null);return Object.keys(e).forEach(function(r){n[r]=Ln(e[r])}),n}function er(e){for(var n=0;n<e.length;n++){var r=e[n];if(!(r instanceof ni))return r}}function se(){return this.value?c(tt,this.value,{value:this.value}):er(this.body)}Bi.DEFMETHOD("first_statement",se),fr.DEFMETHOD("first_statement",se),dn.DEFMETHOD("first_statement",function(){return er(this.body)}),dn.DEFMETHOD("length",function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof In);n++);return n});function Ie(e,n){var r=n.evaluate(e);return r===n?n:(r=ai(r,n).optimize(e),wr(e,n,r,e.eval_threshold))}var qn=["constructor","toString","valueOf"],pn=ya({Array:["indexOf","join","lastIndexOf","slice"].concat(qn),Boolean:qn,Function:qn,Number:["toExponential","toFixed","toPrecision"].concat(qn),Object:qn,RegExp:["exec","test"].concat(qn),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(qn)}),Tt=ya({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode","raw"]});function bi(e){if(!(e instanceof et))return!1;var n=e.expression;if(!I(n))return!1;var r=Tt[n.name];return r&&(r[e.property]||n.name=="Math"&&e.property=="random")}(function(e){e(X,zn),e(ut,Qn),e(Vi,zn);var n=Ln("! ~ - + void");e(Ue,function(){return n[this.operator]&&this.expression instanceof ut})})(function(e,n){e.DEFMETHOD("is_constant",n)}),function(e){X.DEFMETHOD("evaluate",function(w,D){if(!w.option("evaluate"))return this;var q=[],z=this._eval(w,D,q,1);return q.forEach(function(E){delete E._eval}),D||!z||z instanceof RegExp?z:typeof z=="function"||typeof z=="object"?this:z});var n=new on(function(w){w instanceof Ce&&r(w.left),w instanceof Wt&&r(w.init),w instanceof ft&&ga[w.operator]&&r(w.expression)});function r(w){w instanceof Et?w.elements.forEach(r):w instanceof ii?w.properties.forEach(function(D){r(D.value)}):w instanceof vn?r(w.expression):w instanceof ee&&w.definition().references.forEach(function(D){delete D._eval})}e($i,function(){throw new Error(Za("Cannot evaluate a statement [{start}]",this))}),e(ji,Tr),e(wf,Tr),e(Pt,Tr),e(X,Tr),e(ut,function(){return this.value}),e(Ce,function(w,D,q,z){var E=this.left;if(!D){if(!(E instanceof ee))return this;if(!Ct(E,"_eval")){if(!E.fixed)return this;var W=E.definition();if(!W.fixed)return this;if(W.undeclared)return this;if(W.last_ref!==E)return this;if(W.single_use=="m")return this;if(this.right.has_side_effects(w))return this}}var j=this.operator,ie;!Ct(E,"_eval")&&E instanceof ee&&E.fixed&&E.definition().fixed?ie=E:j=="="?ie=this.right:ie=c(ae,this,{operator:j.slice(0,-1),left:E,right:this.right}),E.walk(n);var ue=ie._eval(w,D,q,z);return typeof ue=="object"?this:(r(E),ue)}),e(Xe,function(w,D,q,z){if(!D)return this;for(var E=this.expressions,W=0,j=E.length-1;W<j;W++)E[W].walk(n);var ie=E[j],ue=ie._eval(w,D,q,z);return ue===ie?this:ue}),e(dn,function(w){if(w.option("unsafe")){var D=function(){};return D.node=this,D.toString=function(){return"function(){}"},D}return this}),e(Dn,function(w,D,q,z){if(w.option("unsafe")){for(var E=[],W=0;W<this.elements.length;W++){var j=this.elements[W];if(j instanceof Gt)return this;var ie=j._eval(w,D,q,z);if(j===ie)return this;E.push(ie)}return E}return this}),e(st,function(w,D,q,z){if(w.option("unsafe")){for(var E={},W=0;W<this.properties.length;W++){var j=this.properties[W];if(!(j instanceof Zt))return this;var ie=j.key;if(ie instanceof X&&(ie=ie._eval(w,D,q,z),ie===j.key))return this;switch(ie){case"__proto__":case"toString":case"valueOf":return this}if(E[ie]=j.value._eval(w,D,q,z),E[ie]===j.value)return this}return E}return this});var i=Ln("! typeof void");e(Ue,function(w,D,q,z){var E=this.expression,W=this.operator;if(w.option("typeofs")&&W=="typeof"&&(E instanceof dn||E instanceof ee&&E.fixed_value()instanceof dn))return"function";var j=E instanceof ee&&E.definition();!i[W]&&!(j&&j.fixed)&&z++,E.walk(n);var ie=E._eval(w,D,q,z);if(ie===E)return D&&W=="void"?void 0:this;switch(W){case"!":return!ie;case"typeof":return ie instanceof RegExp?this:typeof ie;case"void":return;case"~":return~ie;case"-":return-ie;case"+":return+ie;case"++":case"--":if(!j)return this;if(!D){if(j.undeclared)return this;if(j.last_ref!==E)return this}return Ct(E,"_eval")&&(ie=+(W[0]+1)+ +ie),r(E),ie}return this}),e(Or,function(w,D,q,z){var E=this.expression;if(E instanceof ee){if(!Ct(E,"_eval")){if(!E.fixed)return this;if(!D){var W=E.definition();if(!W.fixed)return this;if(W.undeclared)return this;if(W.last_ref!==E)return this}}}else if(!D)return this;E instanceof ee&&E.definition().fixed||z++,E.walk(n);var j=E._eval(w,D,q,z);return j===E?this:(r(E),+j)});var f=Ln("&& || === !==");e(ae,function(w,D,q,z){f[this.operator]||z++;var E=this.left._eval(w,D,q,z);if(E===this.left)return this;if(this.operator==(E?"||":"&&"))return E;var W=D&&!(E&&typeof E=="object"),j=this.right._eval(w,W,q,z);if(j===this.right)return this;var ie;switch(this.operator){case"&&":ie=E&&j;break;case"||":ie=E||j;break;case"??":ie=E??j;break;case"|":ie=E|j;break;case"&":ie=E&j;break;case"^":ie=E^j;break;case"+":ie=E+j;break;case"-":ie=E-j;break;case"*":ie=E*j;break;case"/":ie=E/j;break;case"%":ie=E%j;break;case"<<":ie=E<<j;break;case">>":ie=E>>j;break;case">>>":ie=E>>>j;break;case"==":ie=E==j;break;case"===":ie=E===j;break;case"!=":ie=E!=j;break;case"!==":ie=E!==j;break;case"<":ie=E<j;break;case"<=":ie=E<=j;break;case">":ie=E>j;break;case">=":ie=E>=j;break;case"**":ie=Math.pow(E,j);break;case"in":if(j&&typeof j=="object"&&Ct(j,E)){ie=!0;break}default:return this}if(isNaN(ie))return w.find_parent(br)?this:ie;if(w.option("unsafe_math")&&!D&&ie&&typeof ie=="number"&&(this.operator=="+"||this.operator=="-")){var ue=Math.max(0,pe(E),pe(j));if(ue<16)return+ie.toFixed(ue)}return ie;function pe(bn){var me=/(\.[0-9]*)?(e[^e]+)?$/.exec(+bn);return(me[1]||".").length-1-(me[2]||"").slice(1)}}),e(_n,function(w,D,q,z){var E=this.condition._eval(w,D,q,z);if(E===this.condition)return this;var W=E?this.consequent:this.alternative,j=W._eval(w,D,q,z);return j===W?this:j});function o(w,D){var q=w.definition().escaped;switch(q.length){case 0:return!0;case 1:var z=!1;return q[0].walk(new on(function(E){if(z)return!0;if(E===w)return z=!0;if(E instanceof sn)return!0})),z;default:return D<=q.depth}}e(ee,function(w,D,q,z){var E=this.fixed_value();if(!E)return this;var W;if(Ct(E,"_eval"))W=E._eval();else{if(this._eval=Tr,W=E._eval(w,D,q,z),delete this._eval,W===E)return this;E._eval=function(){return W},q.push(E)}return W&&typeof W=="object"&&!o(this,z)?this:W});var g={Array,Math,Number,Object,String},p=ya({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),b=Ln("global ignoreCase multiline source");e(vn,function(w,D,q,z){if(w.option("unsafe")){var E,W=this.expression;if(!I(W)&&(E=W._eval(w,D,q,z+1),E==null||E===W))return this;var j=this.property;if(j instanceof X&&(j=j._eval(w,D,q,z),j===this.property))return this;if(E===void 0){var ie=p[W.name];if(!ie||!ie[j])return this;E=g[W.name]}else if(E instanceof RegExp){if(!b[j])return this}else if(typeof E=="object"){if(!Ct(E,j))return this}else if(typeof E=="function")switch(j){case"name":return E.node.name?E.node.name.name:"";case"length":return E.node.length();default:return this}return E[j]}return this});function T(w,D,q,z,E){for(var W=[],j=0;j<w.length;j++){var ie=w[j],ue=ie._eval(D,q,z,E);if(ie===ue)return;W.push(ue)}return W}e(hn,function(w,D,q,z){var E=this.expression,W=E instanceof ee?E.fixed_value():E;if(W instanceof Bi||W instanceof Pi||W instanceof Ot){if(W.evaluating)return this;if(W.name&&W.name.definition().recursive_refs>0)return this;if(this.is_expr_pure(w))return this;var j=T(this.args,w,D,q,z);if(!Je(W.argnames,function(H,x){if(H instanceof In){if(!j)return!1;if(j[x]===void 0){var R=H.value._eval(w,D,q,z);if(R===H.value)return!1;j[x]=R}H=H.name}return!(H instanceof Rn)}))return this;if(W.rest instanceof Rn)return this;if(!j&&!D)return this;var ie=W.first_statement();if(!(ie instanceof tt)){if(D){W.walk(n);var ue=!1;if(W.evaluating=!0,_i(W,new on(function(H){if(ue)return!0;if(H instanceof tt)return H.value&&H.value._eval(w,!0,q,z)!==void 0&&(ue=!0),!0;if(H instanceof sn&&H!==W)return!0})),W.evaluating=!1,!ue)return}return this}var pe=ie.value;if(!pe)return;var bn=[];return(!j||Je(W.argnames,function(H,x){return U(H,j[x])})&&!(W.rest&&!U(W.rest,j.slice(W.argnames.length)))||D)&&(D&&W.argnames.forEach(function(H){H instanceof In&&H.value.walk(n)}),W.evaluating=!0,pe=pe._eval(w,D,q,z),W.evaluating=!1),bn.forEach(function(H){delete H._eval}),pe===ie.value?this:pe}else if(w.option("unsafe")&&E instanceof vn){var me=E.property;if(me instanceof X&&(me=me._eval(w,D,q,z),me===E.property))return this;var pe,ve=E.expression;if(I(ve)){var Ae=Tt[ve.name];if(!Ae||!Ae[me])return this;pe=g[ve.name]}else{if(pe=ve._eval(w,D,q,z+1),pe==null||pe===ve)return this;var v=pn[pe.constructor.name];if(!v||!v[me])return this;if(pe instanceof RegExp&&pe.global&&!(ve instanceof Vi))return this}var j=T(this.args,w,D,q,z);if(!j)return this;if(me=="replace"&&typeof j[1]=="function")return this;try{return pe[me].apply(pe,j)}catch{X.warn("Error evaluating {this} [{start}]",this)}finally{pe instanceof RegExp&&(pe.lastIndex=0)}}return this;function U(H,x){H instanceof In&&(H=H.name);var R=H.definition();if(R.orig[R.orig.length-1]!==H)return!1;var $=x;return R.references.forEach(function(O){O._eval=function(){return $},bn.push(O)}),!0}}),e(Ai,Tr),e(It,function(w,D,q,z){if(!w.option("templates"))return this;if(this.tag){if(!Rf(w,this.tag))return this;ue=function(pe){return pe}}var E=T(this.expressions,w,D,q,z);if(!E)return this;for(var W=!1,j=ue(this.strings[0]),ie=0;ie<E.length;ie++)j+=E[ie]+ue(this.strings[ie+1]);if(!W)return j;return this._eval=Tr,this;function ue(pe){return pe=Qf(pe),typeof pe!="string"&&(W=!0),pe}})}(function(e,n){e.DEFMETHOD("_eval",n)}),function(e){function n(i){return c(Ue,i,{operator:"!",expression:i})}function r(i,f,o){var g=n(i);return o?ui(g,c(je,f,{body:f}))===g?g:f:ui(g,f)}e(X,function(){return n(this)}),e($i,function(){throw new Error("Cannot negate a statement")}),e(ae,function(i,f){var o=this.clone(),g=this.operator;if(i.option("unsafe_comps"))switch(g){case"<=":return o.operator=">",o;case"<":return o.operator=">=",o;case">=":return o.operator="<",o;case">":return o.operator="<=",o}switch(g){case"==":return o.operator="!=",o;case"!=":return o.operator="==",o;case"===":return o.operator="!==",o;case"!==":return o.operator="===",o;case"&&":return o.operator="||",o.left=o.left.negate(i,f),o.right=o.right.negate(i),r(this,o,f);case"||":return o.operator="&&",o.left=o.left.negate(i,f),o.right=o.right.negate(i),r(this,o,f)}return n(this)}),e(yr,function(){return n(this)}),e(_n,function(i,f){var o=this.clone();return o.consequent=o.consequent.negate(i),o.alternative=o.alternative.negate(i),r(this,o,f)}),e(xt,function(){return n(this)}),e(Xe,function(i){var f=this.expressions.slice();return f.push(f.pop().negate(i)),be(this,f)}),e(Ue,function(){return this.operator=="!"?this.expression:n(this)})}(function(e,n){e.DEFMETHOD("negate",function(r,i){return n.call(this,r,i)})});var Lr=Ln("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),Ii=Ln("Map Set WeakMap WeakSet");hn.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(I(n)&&(Lr[n.name]||this instanceof Ai&&Ii[n.name])||bi(n))return!0}return e.option("annotations")&&this.pure||!e.pure_funcs(this)}),It.DEFMETHOD("is_expr_pure",function(e){var n=this.tag;if(!n)return!0;if(e.option("unsafe")){if(I(n)&&Lr[n.name])return!0;if(n instanceof et&&I(n.expression)){var r=Tt[n.expression.name];return r&&(r[n.property]||n.expression.name=="Math"&&n.property=="random")}}return!e.pure_funcs(this)}),X.DEFMETHOD("is_call_pure",zn),hn.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof et))return!1;var r=n.expression,i,f=n.property;if(r instanceof Dn)i=pn.Array;else if(r.is_boolean(e))i=pn.Boolean;else if(r.is_number(e))i=pn.Number;else if(r instanceof Vi)i=pn.RegExp;else if(r.is_string(e)){if(i=pn.String,f=="replace"){var o=this.args[1];if(o&&!o.is_string(e))return!1}}else n.may_throw_on_access(e)||(i=pn.Object);return i&&i[f]}),function(e){e(X,zn),e(Dn,Qn),e(Ce,function(){switch(this.operator){case"=":return this.right.safe_to_spread();case"&&=":case"||=":case"??=":return this.left.safe_to_spread()&&this.right.safe_to_spread()}return!0}),e(ae,function(){return!ct[this.operator]||this.left.safe_to_spread()&&this.right.safe_to_spread()}),e(ut,Qn),e(dn,Qn),e(st,function(){return Je(this.properties,function(n){return!(n instanceof aa||n instanceof Cn)})}),e(Xe,function(){return this.tail_node().safe_to_spread()}),e(ee,function(){var n=this.fixed_value();return n&&n.safe_to_spread()}),e(ft,Qn)}(function(e,n){e.DEFMETHOD("safe_to_spread",n)}),function(e){function n(i,f,o){return!Je(i,o?function(g){return g instanceof Cn?!o(g,f):!g.has_side_effects(f)}:function(g){return!g.has_side_effects(f)})}function r(i,f){var o=i.expression;return!o.is_string(f)||o.has_side_effects(f)}e(X,Qn),e(Dn,function(i){return n(this.elements,i,r)}),e(Ce,function(i){var f=this.left;if(!(f instanceof vn))return!0;var o=f.expression;return!(o instanceof Wi)||!o.scope.resolve().new||f instanceof at&&f.property.has_side_effects(i)||this.right.has_side_effects(i)}),e(ae,function(i){return this.left.has_side_effects(i)||this.right.has_side_effects(i)||!of(this.operator,this.right,i)}),e(Mt,function(i){return n(this.body,i)}),e(hn,function(i){return!this.is_expr_pure(i)&&(!this.is_call_pure(i)||this.expression.has_side_effects(i))?!0:n(this.args,i,r)}),e(Xi,function(i){return this.expression.has_side_effects(i)||n(this.body,i)}),e(Pt,function(i){var f=this.extends;return f&&(f instanceof ee&&(f=f.fixed_value()),!A(f))?!0:n(this.properties,i)}),e(Mi,function(i){return this.key instanceof X&&this.key.has_side_effects(i)||this.static&&this.value&&this.value.has_side_effects(i)}),e(_n,function(i){return this.condition.has_side_effects(i)||this.consequent.has_side_effects(i)||this.alternative.has_side_effects(i)}),e(ut,zn),e(gt,function(i){return n(this.definitions,i)}),e(Et,function(i){return n(this.elements,i)}),e(Ft,function(i){return this.key instanceof X&&this.key.has_side_effects(i)||this.value.has_side_effects(i)}),e(ii,function(i){return n(this.properties,i)}),e(et,function(i){return this.expression.may_throw_on_access(i)||this.expression.has_side_effects(i)}),e(nt,zn),e(Un,function(i){return this.condition.has_side_effects(i)||this.body&&this.body.has_side_effects(i)||this.alternative&&this.alternative.has_side_effects(i)}),e(Kt,function(i){return this.body.has_side_effects(i)}),e(dn,zn),e(st,function(i){return n(this.properties,i,function(f,o){var g=f.expression;return!g.safe_to_spread()||g.has_side_effects(o)})}),e(Wi,zn),e(Di,function(i){return this.key instanceof X&&this.key.has_side_effects(i)||this.value.has_side_effects(i)}),e(Xe,function(i){return n(this.expressions,i)}),e(je,function(i){return this.body.has_side_effects(i)}),e(at,function(i){return this.expression.may_throw_on_access(i)||this.expression.has_side_effects(i)||this.property.has_side_effects(i)}),e(wi,function(i){return this.expression.has_side_effects(i)||n(this.body,i)}),e(yt,zn),e(ee,function(i){return!this.is_declared(i)||!He(this,i)}),e(It,function(i){return!this.is_expr_pure(i)||n(this.expressions,i)}),e(Xt,function(i){return n(this.body,i)||this.bcatch&&this.bcatch.has_side_effects(i)||this.bfinally&&this.bfinally.has_side_effects(i)}),e(ft,function(i){return ba[this.operator]||this.expression.has_side_effects(i)}),e(Jn,function(){return this.value})}(function(e,n){e.DEFMETHOD("has_side_effects",n)}),function(e){e(X,Qn),e(ut,zn),e(nt,zn),e(dn,zn),e(Wi,zn),e(yt,zn);function n(i,f){for(var o=i.length;--o>=0;)if(i[o].may_throw(f))return!0;return!1}function r(i,f){return i.may_throw(f)||(i instanceof ee&&(i=i.fixed_value()),!(i instanceof dn))||n(i.argnames,f)||n(i.body,f)?!0:qt(i)&&i.value&&i.value.may_throw(f)}e(Dn,function(i){return n(this.elements,i)}),e(Ce,function(i){return this.right.may_throw(i)?!0:!i.has_directive("use strict")&&this.operator=="="&&this.left instanceof ee?!1:this.left.may_throw(i)}),e(mt,function(i){return this.expression.may_throw(i)}),e(ae,function(i){return this.left.may_throw(i)||this.right.may_throw(i)||!of(this.operator,this.right,i)}),e(Mt,function(i){return n(this.body,i)}),e(hn,function(i){if(n(this.args,i))return!0;if(this.is_expr_pure(i))return!1;this.may_throw=Qn;var f=r(this.expression,i);return delete this.may_throw,f}),e(Xi,function(i){return this.expression.may_throw(i)||n(this.body,i)}),e(_n,function(i){return this.condition.may_throw(i)||this.consequent.may_throw(i)||this.alternative.may_throw(i)}),e(In,function(i){return this.name.may_throw(i)||this.value&&this.value.may_throw(i)}),e(gt,function(i){return n(this.definitions,i)}),e(et,function(i){return!this.optional&&this.expression.may_throw_on_access(i)||this.expression.may_throw(i)}),e(Wt,function(i){if(this.init.may_throw(i))return!0;var f=this.object;return f.may_throw(i)||(f=f.tail_node(),!(f instanceof Dn||f.is_string(i)))?!0:this.body.may_throw(i)}),e(Un,function(i){return this.condition.may_throw(i)||this.body&&this.body.may_throw(i)||this.alternative&&this.alternative.may_throw(i)}),e(Kt,function(i){return this.body.may_throw(i)}),e(st,function(i){return n(this.properties,i)}),e(Di,function(i){return this.value.may_throw(i)||this.key instanceof X&&this.key.may_throw(i)}),e(tt,function(i){return this.value&&this.value.may_throw(i)}),e(Xe,function(i){return n(this.expressions,i)}),e(je,function(i){return this.body.may_throw(i)}),e(at,function(i){return!this.optional&&this.expression.may_throw_on_access(i)||this.expression.may_throw(i)||this.property.may_throw(i)}),e(wi,function(i){return this.expression.may_throw(i)||n(this.body,i)}),e(ee,function(i){return!this.is_declared(i)||!He(this,i)}),e(It,function(i){if(n(this.expressions,i))return!0;if(this.is_expr_pure(i)||!this.tag)return!1;this.may_throw=Qn;var f=r(this.tag,i);return delete this.may_throw,f}),e(Xt,function(i){return(this.bcatch?this.bcatch.may_throw(i):n(this.body,i))||this.bfinally&&this.bfinally.may_throw(i)}),e(ft,function(i){return this.expression.may_throw(i)&&!(this.operator=="typeof"&&this.expression instanceof ee)}),e(Jn,function(i){return this.name.may_throw(i)||this.value&&this.value.may_throw(i)})}(function(e,n){e.DEFMETHOD("may_throw",n)}),function(e){function n(r,i){for(var f=r.length;--f>=0;)if(!r[f].is_constant_expression(i))return!1;return!0}e(X,zn),e(Dn,function(r){return n(this.elements,r)}),e(ae,function(r){return this.left.is_constant_expression(r)&&this.right.is_constant_expression(r)&&of(this.operator,this.right)}),e(Pt,function(r){var i=this.extends;return i&&!A(i)?!1:n(this.properties,r)}),e(Mi,function(r){return typeof this.key=="string"&&(!this.value||this.value.is_constant_expression(r))}),e(ut,Qn),e(dn,function(r){var i=this,f=!0,o=[];return i.walk(new on(function(g,p){if(!f)return!0;if(g instanceof ti)return g===i?void 0:(o.push(g),p(),o.pop(),!0);if(g instanceof ee){if(i.inlined||g.redef||g.in_arg)return f=!1,!0;if(i.variables.has(g.name))return!0;var b=g.definition();if(rr(b.scope,o))return!0;if(r&&!b.redefined()){var T=r.find_variable(g.name);if(T?T===b:b.undeclared)return f="f",!0}return f=!1,!0}if(g instanceof Wi)return qt(i)&&Je(o,function(w){return!(w instanceof sn)||qt(w)})&&(f=!1),!0})),f}),e(st,function(r){return n(this.properties,r)}),e(Di,function(r){return typeof this.key=="string"&&this.value.is_constant_expression(r)}),e(ft,function(r){return this.expression.is_constant_expression(r)})}(function(e,n){e.DEFMETHOD("is_constant_expression",n)});function zt(e){return e&&e.aborts()}(function(e){e($i,ta),e(tf,Tr);function n(){var r=this.body.length;return r>0&&zt(this.body[r-1])}e(Ve,n),e(or,n),e(Un,function(){return this.alternative&&zt(this.body)&&zt(this.alternative)&&this})})(function(e,n){e.DEFMETHOD("aborts",n)});var nr=Ln(["use asm","use strict"]);t(ni,function(e,n){return n.option("directives")&&(!nr[e.value]||n.has_directive(e.value)!==e)?c(nt,e):e}),t(xa,function(e,n){return n.option("drop_debugger")?c(nt,e):e}),t(Kt,function(e,n){if(e.body instanceof Un||e.body instanceof Ki){var r=_r([e.body],n);switch(r.length){case 0:e.body=c(nt,e);break;case 1:e.body=r[0];break;default:e.body=c(Ve,e,{body:r});break}}return n.option("unused")&&e.label.references.length==0?e.body:e}),t(Dr,function(e,n){if(!n.option("dead_code"))return e;var r=e.label;if(r){var i=n.loopcontrol_target(e);e.label=null,n.loopcontrol_target(e)===i?gf(r.thedef.references,e):e.label=r}return e}),t(Mt,function(e,n){return e.body=_r(e.body,n),e});function pr(e,n,r){switch(e.body.length){case 0:return r?Dt.skip:c(nt,e);case 1:var i=e.body[0];return!Fe(i)||n instanceof Ci&&i instanceof dt?e:i}return e}t(Ve,function(e,n){return e.body=_r(e.body,n),pr(e,n.parent())});function uf(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof Et&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=e.rest.rest))}t(dn,function(e,n){return uf(e,n),e.body=_r(e.body,n),e});function Cf(e,n){if(!n.option("arrows"))return e;uf(e,n),e.value&&(e.body=[e.first_statement()]);var r=_r(e.body,n);switch(r.length){case 1:var i=r[0];if(i instanceof tt){e.body.length=0,e.value=i.value;break}default:e.body=r,e.value=null;break}return e}t(Bi,Cf),t(fr,Cf),t(Ot,function(e,n){uf(e,n),e.body=_r(e.body,n);var r=n.parent();if(n.option("inline"))for(var i=0;i<e.body.length;i++){var f=e.body[i];if(!(f instanceof ni)){if(f instanceof tt){if(i!=e.body.length-1)break;var o=f.value;if(!o||o.TYPE!="Call"||o.is_expr_pure(n))break;var g=o.expression,p;if(!(g instanceof ee))p=g;else{if(e.name&&e.name.definition()===g.definition())break;p=g.fixed_value()}if(!(p instanceof Pi||p instanceof Ot)||p.rest||p.uses_arguments||p===g&&(p.parent_scope!==e||!Je(p.enclosed,function(D){return D.scope!==e}))||(p!==g||p.name)&&(r instanceof ca||r instanceof Mr)&&r.value===n.self()||p.contains_this())break;var b=p.argnames.length;if(b>0&&n.option("inline")<2||b>e.argnames.length||!Je(e.argnames,function(D){return D instanceof Pn})||!Je(o.args,function(D){return!(D instanceof Cn)}))break;for(var T=0;T<b;T++){var w=o.args[T];if(!(w instanceof ee)||w.definition()!==e.argnames[T].definition())break}if(T<b)break;for(;T<o.args.length&&!o.args[T].has_side_effects(n);T++);if(T<o.args.length)break;if(b<e.argnames.length&&!n.drop_fargs(e,r)){if(!n.drop_fargs(p,o))break;do p.argnames.push(p.make_var(Pn,p,"argument_"+b));while(++b<e.argnames.length)}return g}break}}return e});var Ur=Ln("arguments await yield");sn.DEFMETHOD("merge_variables",function(e){if(!e.option("merge_vars"))return;var n=[],r,i,f={},o=this,g=[],p=[],b=0,T=new Gn,w=Object.create(null),D=Object.create(null),q=new on(function($,O){if($ instanceof Ce){var C=$.left,K=$.right;return C instanceof Rn?(K.walk(q),v(ee,U,C),!0):ct[$.operator.slice(0,-1)]?(C.walk(q),ve(),K.walk(q),C instanceof ee&&U(C),Ae(),!0):C instanceof ee?($.operator!="="&&U(C,!0),K.walk(q),U(C),!0):void 0}if($ instanceof ae)return ct[$.operator]?(rn($),!0):void 0;if($ instanceof Ki){var ne=q.loopcontrol_target($);return ne instanceof Ci||H(ne),!0}if($ instanceof hn){var Z=$.expression;return Z instanceof xt?($.args.forEach(function(de){de.walk(q)}),Z.walk(q)):(O(),En(Z)),!0}if($ instanceof Pt)return $.name&&$.name.walk(q),$.extends&&$.extends.walk(q),$.properties.filter(function(de){return de.key instanceof X&&de.key.walk(q),de.value}).forEach(function(de){de.static?de.value.walk(q):(ve(),f.block=$,de.value.walk(q),Ae())}),!0;if($ instanceof _n)return rn($.condition,$.consequent,$.alternative),!0;if($ instanceof Jr){var ne=q.loopcontrol_target($);return ne instanceof Fr&&H(ne),!0}if($ instanceof Fr){ve(),f.block=$,f.loop=!0;var Q=f;return $.body.walk(q),f.inserted===$&&(f=Q),$.condition.walk(q),Ae(),!0}if($ instanceof Nt)return $.init&&$.init.walk(q),ve(),f.block=$,f.loop=!0,$.condition&&$.condition.walk(q),$.body.walk(q),$.step&&$.step.walk(q),Ae(),!0;if($ instanceof Wt)return $.object.walk(q),ve(),f.block=$,f.loop=!0,$.init.walk(q),$.body.walk(q),Ae(),!0;if($ instanceof Un)return rn($.condition,$.body,$.alternative),!0;if($ instanceof Kt){ve(),f.block=$;var Q=f;return $.body.walk(q),f.inserted===$&&(f=Q),Ae(),!0}if($ instanceof sn){if(ve(),f.block=$,$===o&&(i=f),$ instanceof dn){$.name&&(w[$.name.definition().id]=!1);var B=$.uses_arguments&&!q.has_directive("use strict")?function(de){w[de.definition().id]=!1}:function(de){U(de)};n.push($),$.argnames.forEach(function(de){v(Pn,B,de)}),$.rest&&v(Pn,B,$.rest),n.pop()}return Uf($,q),Ae(),!0}if($ instanceof at){var Z=$.expression;return $.optional?(Z.walk(q),ve(),$.property.walk(q),Ae()):O(),En(Z),!0}if($ instanceof wi){$.expression.walk(q);var Q=f;return $.body.forEach(function(h){h instanceof jr||(h.expression.walk(q),Q===f&&ve())}),f=Q,$.body.forEach(function(h){ve(),f.block=$;var N=f;_i(h,q),f.inserted===$&&(f=N),Ae()}),!0}if($ instanceof pi||$ instanceof zr)return w[$.definition().id]=!1,!0;if($ instanceof ee)return U($,!0),!0;if($ instanceof Xt){var Te=r;return r=$,_i($,q),$.bcatch&&($.bcatch.argname&&$.bcatch.argname.mark_symbol(function(de){if(de instanceof Ui){var h=de.definition();w[h.id]=!1,(h=h.redefined())&&(w[h.id]=!1)}},q),$.bfinally||(r=Te)?_i($.bcatch,q):(ve(),_i($.bcatch,q),Ae())),r=Te,$.bfinally&&$.bfinally.walk(q),!0}if($ instanceof ft){if(!ga[$.operator])return;var Pe=$.expression;return Pe instanceof ee?(U(Pe,!0),!0):void 0}if($ instanceof Jn){var tn=$.value;return tn?tn.walk(q):tn=f.block instanceof Wt&&f.block.init===q.parent(),v(yt,tn?function(de){de instanceof ri?U(de):de.walk(q)}:function(de){if(de instanceof ri){var h=de.definition().id,N=w[h];N?N.push(de):h in w||T.add(h,de)}else de.walk(q)},$.name),!0}if($ instanceof ia)return ve(),f.block=$,f.loop=!0,O(),Ae(),!0;function En(de){if(e.option("ie")){var h=df(de);h instanceof ee&&h.walk(q)}}function rn(de,h,N){var xe=f,he=[xe,xe];if(de instanceof ae)switch(de.operator){case"&&":he[0]=rn(de.left,de.right)[0];break;case"||":case"??":he[1]=rn(de.left,null,de.right)[1];break;default:de.walk(q);break}else de instanceof _n?rn(de.condition,de.consequent,de.alternative):de.walk(q);return f=he[0],h&&(ve(),h.walk(q)),he[0]=f,f=he[1],N&&(ve(),N.walk(q)),he[1]=f,f=xe,he}});q.directives=Object.create(e.directives),o.walk(q);for(var z=!1,E=Object.create(null);g.length&&p.length;){var W=p.shift();if(W){var j=W.definition,ie=w[j.id];if(ie){for(ie={end:ie.end};j.id in E;)j=E[j.id];ie.start=w[j.id].start;var ue=[];do{var pe=g.shift();if(!(W.index>pe.index)){var bn=pe.definition;if(bn.id in D){var me=w[bn.id];if(me){if(me.start.block!==ie.start.block||!R(me,ie)||(me.start.loop||!Ya(j))&&!R(ie,me)||e.option("webkit")&&mr(j)!==mr(bn)||bn.const_redefs||!Je(me.scopes,function($){return $.find_variable(j.name)===j})){ue.push(pe);continue}me.forEach(function($){$.thedef=j,$.name=j.name,$ instanceof ee?(j.references.push($),bn.replaced++):(j.orig.push($),bn.eliminated++)}),bn.fixed||(j.fixed=!1),E[bn.id]=j,z=!0;break}}}}while(g.length);ue.length&&(g=ue.concat(g))}}}return z;function ve(){f=Object.create(f)}function Ae(){f=Object.getPrototypeOf(f)}function v($,O,C){var K=new on(function(ne){if(!(ne instanceof Rn))return ne instanceof In?(ve(),ne.value.walk(q),Ae(),ne.name.walk(K)):ne instanceof Ft?ne.key instanceof X?ne.value instanceof vn?(ve(),f.block=ne,ne.key.walk(q),ne.value.walk(K),Ae()):(ne.key.walk(q),ne.value.walk(K)):ne.value.walk(K):ne instanceof $?O(ne):ne.walk(q),!0});C.walk(K)}function U($,O){var C=$.definition(),K;if(O&&!Je(n,function(B){return K=B.variables.get($.name),!K||!mr(K)?!0:K!==C&&!C.undeclared&&B.parent_scope.find_variable($.name)!==C}))return w[C.id]=w[K.id]=!1;var ne=f;if(r&&(ve(),ne=f,Ae()),C.id in w){var Z=w[C.id];if(!Z)return;if(Z.start.block!==ne.block)return w[C.id]=!1;if(Q($),Z.end=ne,C.id in D)p[D[C.id]]=null;else if(!O)return}else{if((K=o.variables.get(C.name))!==C)return K&&i===ne&&(w[K.id]=!1),w[C.id]=!1;if(e.exposed(C)||Ur[$.name])return w[C.id]=!1;var Z=T.get(C.id)||[];if(Z.scopes=[],Q($),w[C.id]=Z,!O)return Z.start=ne,g.push({index:b++,definition:C});if(ne.block!==o)return w[C.id]=!1;Z.start=i}D[C.id]=p.length,p.push({index:b++,definition:C});function Q(B){Z.push(B),zi(Z.scopes,B.scope);var Te=J(q);Te!==B.scope&&zi(Z.scopes,Te)}}function H($){for(var O=[];;){if(Ct(f,"block")){var C=f.block;if(C instanceof Kt&&(C=C.body),C===$)break}O.push(f),Ae()}for(f.inserted=f.block,ve();O.length;){var K=O.pop();ve(),Ct(K,"block")&&(f.block=K.block),Ct(K,"loop")&&(f.loop=K.loop)}}function x($,O){return $===O||$.isPrototypeOf(O)}function R($,O){return x($.start,$.end)||x($.start,O.start)}});function gr(e,n){for(var r=n.length;--r>=0;)n[r]||(n[r]=c(Gt,e))}function oi(e,n){var r=c(yr,e);return r.name&&(r.name=n?null:c(qa,r.name)),r}function yi(e,n){var r;switch(e.CTOR){case Ir:r=sr;break;case Ar:r=Yi;break;case Pi:r=Ot;break;case Vr:r=ur;break}var i=c(r,e);return i.name=n?null:c(gi,e.name),i}sn.DEFMETHOD("drop_unused",function(e){if(!e.option("unused"))return;var n=this,r=!(n instanceof kt)||e.toplevel.funcs,i=!(n instanceof kt)||e.toplevel.vars,f=/keep_assign/.test(e.option("unused"))?zn:function(h,N){var xe,he=!1;if(h instanceof Ce?(h.write_only||h.operator=="=")&&(xe=we(h.left,N)):h instanceof ft&&h.write_only&&(xe=we(h.expression,N)),!(xe instanceof ee))return;var ln=xe.definition();if(g[ln.id]||e.exposed(ln)||!He(xe,e,he))return;return xe;function we(Ke,yn){if(Ke instanceof vn){var Ye=Ke.expression;if(!Ye.may_throw_on_access(e,!0))return he=!0,yn&&Ke instanceof at&&yn.unshift(Ke.property),we(Ye,yn)}else if(Ke instanceof Ce&&Ke.operator=="="){Ke.write_only="p";var qe=we(Ke.right);return yn?(yn.assign=Ke,qe instanceof ee?qe:Ke.left):qe}return Ke}},o=Object.create(null),g=Object.create(null),p=function(h){return p=N(n,0,Lt),p(h);function N(xe,he,ln){var we=e.parent(he);if(!we)return ln;var Ke=we instanceof dn&&rr(xe,we.argnames);return N(we,he+1,Ke?function(yn){var Ye=ln(yn);if(Ye)return Ye;if(Ye=we.variables.get(yn),Ye){var qe=Ye.orig[0];if(qe instanceof Pn||qe instanceof gi)return Ye}}:we.variables?function(yn){return ln(yn)||we.variables.get(yn)}:ln)}},b=Object.create(null),T=[],w=Object.create(null),D=Object.create(null),q=Object.create(null),z=Object.create(null),E=Object.create(null);n instanceof kt&&e.top_retain&&n.variables.each(function(h){e.top_retain(h)&&!(h.id in w)&&(X.info("Retaining variable {name}",h),w[h.id]=!0,T.push(h))});var W=new Gn,j=new Gn,ie=this,ue=new on(function(h,N){if(h instanceof dn&&h.uses_arguments&&!ue.has_directive("use strict")&&h.each_argname(function(yn){var Ye=yn.definition();Ye.id in w||(w[Ye.id]=!0,T.push(Ye))}),h===n)return;if(ie===n){if(h instanceof mi){var xe=h.name.definition(),he=r&&!xe.exported;!he&&!(xe.id in w)&&(w[xe.id]=!0,T.push(xe));var ln=ue.parent()instanceof Ni;ln?g[xe.id]=!0:he&&!(xe.id in D)&&(D[xe.id]=1),h.extends&&h.extends.walk(ue);var we=[];return h.properties.forEach(function(yn){yn.key instanceof X&&yn.key.walk(ue);var Ye=yn.value;Ye&&(kn(yn)?(!ln&&Ye.contains_this()&&(ln=!0),Ke(Ye)):we.push(Ye))}),we.forEach(he&&ln?Ke:function(yn){j.add(xe.id,yn)}),!0}if(h instanceof dt){var xe=h.name.definition(),he=r&&!xe.exported;return!he&&!(xe.id in w)&&(w[xe.id]=!0,T.push(xe)),j.add(xe.id,h),ue.parent()instanceof Ni?(g[xe.id]=!0,Pe(h,N,!0)):(he&&!(xe.id in D)&&(D[xe.id]=1),!0)}if(h instanceof gt)return h.definitions.forEach(function(yn){var Ye=yn.value,qe=Ye&&(yn.name instanceof Rn||Ye.has_side_effects(e)),Wn=qe&&Ye.tail_node().operator=="=";yn.name.mark_symbol(function(ht){if(ht instanceof yt){var Vn=ht.definition();if(E[Vn.id]=(E[Vn.id]||0)+1,h instanceof bt&&Vn.orig[0]instanceof Ui){var wt=Vn.redefined();wt&&(E[wt.id]=(E[wt.id]||0)+1)}return!(Vn.id in w)&&(!i||Vn.exported||(h instanceof qr?Vn.redefined():Vn.const_redefs)||!(h instanceof bt||Qt(Vn)))&&(w[Vn.id]=!0,T.push(Vn)),Ye&&(qe?Wn&&Z(Vn,ht,z[Vn.id]):j.add(Vn.id,Ye),W.add(Vn.id,yn)),ne(Vn),!0}},ue),qe&&Ye.walk(ue)}),!0;if(h instanceof Pn){var xe=h.definition();return E[xe.id]=(E[xe.id]||0)+1,W.add(xe.id,h),!0}if(h instanceof Zi){var xe=h.definition();return!(xe.id in w)&&(!i||!Qt(xe))&&(w[xe.id]=!0,T.push(xe)),!0}}return Pe(h,N,!0);function Ke(yn){var Ye=ie;ie=h,yn.walk(ue),ie=Ye}});ue.directives=Object.create(e.directives),n.walk(ue);var pe=e.option("keep_fnames")?zn:e.option("ie")?function(h){return!e.exposed(h)&&h.references.length==h.replaced}:function(h){return h.id in w?h.orig.length-h.eliminated<2?!1:h.orig[1]instanceof Pn?!0:Je(h.references,function(N){return!N.in_arg}):!0};e.option("ie")&&j.each(function(h,N){N in w||h.forEach(function(xe){xe.walk(new on(function(he){if(he instanceof Ot&&he.name&&!pe(he.name.definition()))return he.walk(ue),!0;if(he instanceof sn)return!0}))})}),ue=new on(Pe);for(var bn=0;bn<T.length;bn++){var me=j.get(T[bn].id);me&&me.forEach(function(h){h.walk(ue)})}Object.keys(o).forEach(function(h){var N=o[h];if(!N){delete o[h];return}N=N.reduce(function(he,ln){return ln.forEach(function(we){zi(he,we)}),he},[]);var xe=(W.get(h)||[]).filter(function(he){return pf(he instanceof ft?function(ln){return ln===he}:function(ln){return ln===he?!0:ln instanceof ft?!1:R(ln)===R(he)},N)});N.length==xe.length?o[h]=xe:delete o[h]});var ve=[],Ae=[],v=new Jt(function(h){if(h instanceof In)return rn(v,h);if(h instanceof Rn&&h.rest&&(h.rest=h.rest.transform(v)),h instanceof Et){for(var N=!h.rest,xe=h.elements.length;--xe>=0;){var he=h.elements[xe].transform(v);he?(h.elements[xe]=he,N=!1):N?h.elements.pop():h.elements[xe]=c(Gt,h.elements[xe])}return h}if(h instanceof ii){var ln=[];return h.properties.forEach(function(we){var Ke=!1;if(we.key instanceof X&&(we.key=we.key.transform(U),Ke=we.key.has_side_effects(e)),(Ke||h.rest)&&tn(we.value))we.value=we.value.transform(U),ln.push(we);else{var yn=we.value.transform(v);!yn&&h.rest&&(we.value instanceof Et?yn=c(Et,we.value,{elements:[]}):yn=c(ii,we.value,{properties:[]})),yn&&(we.value=yn,ln.push(we))}}),h.properties=ln,h}if(h instanceof yt)return En(h)}),U=new Jt(function(h,N,xe){var he=U.parent();if(i){var ln=[],we=f(h,ln);if(we){var Ke;if(Q(we,h)&&(h instanceof Ce&&(Ke=B(h),h.write_only===!0&&(Ke=Ke.drop_side_effect_free(e))),Ke||(Ke=c(mn,h,{value:0}))),Ke){if(ln.assign){var yn=ln.assign.drop_side_effect_free(e);yn&&(yn.write_only=!0,ln.unshift(yn))}switch((!(he instanceof Xe)||he.tail_node()===h||Ke.has_side_effects(e))&&ln.push(Ke),ln.length){case 0:return Dt.skip;case 1:return St(he,h,ln[0].transform(U));default:return be(h,ln.map(function(We){return We.transform(U)}))}}}else if(h instanceof Or&&h.expression instanceof ee&&K(h.expression.definition(),h)<0)return c(Ue,h,{operator:"+",expression:h.expression})}if(h instanceof ae&&h.operator=="instanceof"){var we=h.right;if(!(we instanceof ee)||we.definition().id in w)return;var Ye=h.left.drop_side_effect_free(e),Ke=c(Cr,h).optimize(e);return Ye?be(h,[Ye,Ke]):Ke}if(h instanceof hn)return ve.push(h),h.args=h.args.map(function(We){return We.transform(U)}),h.expression=h.expression.transform(U),h;if(ie!==n)return;if(r&&h!==n&&h instanceof mi){var qe=h.name.definition();if(!(qe.id in w)){H(h.name,"Dropping unused class {name}"),qe.eliminated++,N(h,U);var Wn=oi(h,!0);return he instanceof Ni?Wn:(Wn=Wn.drop_side_effect_free(e,!0),Wn?c(je,h,{body:Wn}):xe?Dt.skip:c(nt,h))}}if(h instanceof yr&&h.name&&pe(h.name.definition())&&(h.name=null),h instanceof dn){if(r&&h!==n&&h instanceof dt){var qe=h.name.definition();if(!(qe.id in w))return H(h.name,"Dropping unused function {name}"),qe.eliminated++,he instanceof Ni?(Tn(),yi(h,!0)):xe?Dt.skip:c(nt,h)}if(Tn(),h instanceof xt&&h.name&&pe(h.name.definition())&&(h.name=null),!(h instanceof ji)){var ht,Vn,wt=e.drop_fargs(h,he);if(wt&&he instanceof hn&&he.expression===h)for(ht=he.args,Vn=0;Vn<ht.length&&!(ht[Vn]instanceof Cn);Vn++);var Zn=h.argnames,vt=h.rest,At=!1,li=!1;if(vt){if(li=!0,!ht||Vn<Zn.length||vt instanceof Pn)vt=vt.transform(v);else{var Wn=de(vt,c(Dn,he,{elements:ht.slice(Zn.length)}),En,!h.uses_arguments,vt);vt=Wn.name,ht.length=Zn.length,Wn.value.elements.length&&[].push.apply(ht,Wn.value.elements)}vt instanceof Rn&&!vt.rest&&(vt instanceof Et?vt.elements.length==0&&(vt=null):vt.properties.length==0&&(vt=null)),h.rest=vt,vt&&(wt=!1,At=!0)}for(var Er=wt?-1:h.length(),$e=ht&&!h.uses_arguments&&he!==e.parent(),Le=Zn.length;--Le>=0;){var we=Zn[Le];if(we instanceof Pn){var qe=we.definition();qe.id in w?(wt=!1,K(qe,we)<0&&(we.unused=null)):(wt&&(H(we,"Dropping unused function argument {name}"),Zn.pop(),qe.eliminated++),we.unused=!0)}else{li=!0;var an;if(!ht||Vn<Le)an=we.transform(v);else{var Wn=de(we,ht[Le],En,$e,we);an=Wn.name,Wn.value&&(ht[Le]=Wn.value)}an?(wt=!1,Zn[Le]=an,At||(At=!(an instanceof Pn))):wt?(x(we,"Dropping unused default argument {name}"),Zn.pop()):Le>Er?(x(we,"Dropping unused default argument assignment {name}"),we.name instanceof Pn?we.name.unused=!0:At=!0,Zn[Le]=we.name):(x(we,"Dropping unused default argument value {name}"),Zn[Le]=we=we.clone(),we.value=c(mn,we,{value:0}),At=!0)}}li&&!At&&h.uses_arguments&&!U.has_directive("use strict")&&(h.rest=c(Et,h,{elements:[]})),Ae.push(h)}return h}if(h instanceof Li&&h.argname instanceof Rn&&h.argname.transform(v),h instanceof gt&&!(he instanceof Wt&&he.init===h)){var Se=[],Ze=[],Sn=[],Re=[],Qe=0,oe=h instanceof bt;switch(h.definitions.forEach(function(We){We.value&&(We.value=We.value.transform(U));var An=We.value;if(We.name instanceof Rn){var Gi=de(We.name,An,function($t){return!i||$t.definition().id in w||Va($t)||oe&&!He($t)?$t:null},!0);Gi.name?(We=c(Jn,We,{name:Gi.name,value:An=Gi.value}),Ga()):Gi.value&&Re.push(Gi.value);return}var Bt=We.name.definition(),ea=oe?He(We.name):Qt(Bt);if(!ea||!i||Bt.id in w){var Ua;An&&((Ua=K(Bt,We))<0||Yf(An.tail_node()))&&(We=We.clone(),An=An.drop_side_effect_free(e),An&&X.warn("Side effects in definition of variable {name} [{start}]",We.name),h instanceof qr?We.value=An||c(mn,We,{value:0}):(We.value=null,An&&Re.push(An)),An=null,Ua>=0&&(o[Bt.id][Ua]=We));var Wa,Oi;if(!An&&!(h instanceof cr))he instanceof ki?Ga():ea&&E[Bt.id]>1?(X.info("Dropping declaration of variable {name} [{start}]",We.name),E[Bt.id]--,Bt.eliminated++):Ze.push(We);else if(e.option("functions")&&!e.option("ie")&&ea&&An&&E[Bt.id]==1&&Bt.assignments==0&&(Oi=An.tail_node())instanceof xt&&!G(Bt)&&!qt(Oi)&&Lf(Oi,Bt.references)&&hi(Oi)&&(Wa=Yt(Oi,We.name.name))!==!1){X.warn("Declaring {name} as function [{start}]",We.name);var ma;switch(Oi.CTOR){case sr:ma=Ir;break;case Yi:ma=Ar;break;case Ot:ma=Pi;break;case ur:ma=Vr;break}var Mn=c(ma,Oi);Mn.name=c(lr,We.name);var hf=We.name.scope.resolve().def_function(Mn.name);Wa&&Wa.forEach(function($t){$t.name=hf.name,$t.thedef=hf,$t.reference()}),Se.push(Mn),An!==Oi&&[].push.apply(Re,An.expressions.slice(0,-1))}else ea&&E[Bt.id]>1&&!(he instanceof ki)&&Bt.orig.indexOf(We.name)>Bt.eliminated&&(E[Bt.id]--,Qe++),Ga()}else Va(We.name)?(An=An&&An.drop_side_effect_free(e),An&&Re.push(An),E[Bt.id]>1?(X.warn("Dropping duplicated declaration of variable {name} [{start}]",We.name),E[Bt.id]--,Bt.eliminated++):(We.value=null,Ze.push(We))):(An=An&&An.drop_side_effect_free(e),An?(X.warn("Side effects in initialization of unused variable {name} [{start}]",We.name),Re.push(An)):H(We.name,"Dropping unused variable {name}"),Bt.eliminated++);function Yf($t){return $t instanceof ee&&$t.definition()===Bt}function Lf($t,Sr){return Sr.length==0?$t===We.name.fixed_value():Je(Sr,function(ir){return $t===ir.fixed_value()})}function hi($t){return!oe||e.has_directive("use strict")||!($t instanceof Ot)?he instanceof sn:he instanceof Mt||he instanceof Nt&&he.init===h||he instanceof Un}function Yt($t,Sr){if(!$t.name)return null;var ir=$t.name.definition();if(ir.orig.length>1)return null;if(ir.assignments>0)return!1;if(ir.name==Sr)return ir;if(e.option("keep_fnames"))return!1;var Ja;switch(Sr){case"await":Ja=di;break;case"yield":Ja=Hi;break}return Je(ir.references,function(vf){var Nr=vf.scope;if(Nr.find_variable(Sr)!==Bt)return!1;if(Ja)do if(Nr=Nr.resolve(),Ja(Nr))return!1;while(Nr!==$t&&(Nr=Nr.parent_scope));return!0})&&ir}function Va($t){var Sr=$t.definition();return Sr.orig[0]instanceof Ui&&Sr.scope.resolve()===$t.scope.resolve()}function Ga(){Re.length>0&&(Sn.length==0?Se.push(c(je,h,{body:be(h,Re)})):An?(Re.push(An),We.value=be(An,Re)):We.value=c(Ue,We,{operator:"void",expression:be(We,Re)}),Re=[]),Sn.push(We)}}),Ze.length){case 0:if(Sn.length==0)break;if(Sn.length==Qe){[].unshift.apply(Re,Sn.map(function(We){X.info("Dropping duplicated definition of variable {name} [{start}]",We.name);var An=We.name.definition(),Gi=c(ee,We.name);An.references.push(Gi);var Bt=c(Ce,We,{operator:"=",left:Gi,right:We.value}),ea=K(An,We);return ea>=0&&(o[An.id][ea]=Bt),An.assignments++,An.eliminated++,Bt}));break}case 1:if(Sn.length==0){var Ne=Ze[0].name.definition().id;if(Ne in b){h.definitions=Ze,b[Ne].init=h;break}}default:var ze;Sn.length>0&&(ze=Sn[0].value)instanceof Xe&&(Sn[0].value=ze.tail_node(),Se.push(c(je,h,{body:be(ze,ze.expressions.slice(0,-1))}))),h.definitions=Ze.concat(Sn),Se.push(h)}return Re.length>0&&Se.push(c(je,h,{body:be(h,Re)})),$(Se,h,xe)}if(h instanceof Ce){if(N(h,U),!(h.left instanceof Rn))return h;var Wn=de(h.left,h.right,function(An){return An},h.write_only===!0);return Wn.name?c(Ce,h,{operator:h.operator,left:Wn.name,right:Wn.value}):Wn.value?Wn.value:he instanceof Xe&&he.tail_node()!==h?Dt.skip:c(mn,h,{value:0})}if(h instanceof Kt&&h.body instanceof Nt){if(N(h,U),h.body instanceof Ve){var en=h.body;return h.body=en.body.pop(),en.body.push(h),xe?Dt.splice(en.body):en}return h}if(h instanceof sn)return Tn(),h;if(h instanceof Zi)return!e.option("imports")||h.definition().id in w?h:xe?Dt.skip:null;function Tn(){var We=ie;ie=h,N(h,U),ie=We}},function(h,N){if(h instanceof Ve)return pr(h,U.parent(),N);if(h instanceof ki){var xe=h.body;return xe instanceof Ve?(h.body=xe.body.pop(),xe.body.push(h),N?Dt.splice(xe.body):xe):void 0}if(h instanceof Nt)return Yr(h,N);if(h instanceof oa){if(!i||!e.option("loops")||!Be(h.body))return;var he=Te(h);if(!he)return;var ln=he.definition();if(ln.id in w)return;H(he,"Dropping unused loop variable {name}"),b[ln.id]===h&&delete b[ln.id];var we=[],Ke=h.object.drop_side_effect_free(e);return Ke&&(X.warn("Side effects in object of for-in loop [{start}]",Ke),we.push(c(je,h,{body:Ke}))),h.init instanceof gt&&ln.orig[0]instanceof Ui&&we.push(h.init),$(we,h,N)}if(h instanceof Da)return h.properties&&h.properties.length==0&&(h.properties=null),h;if(h instanceof Xe)return h.expressions.length>1?void 0:St(U.parent(),h,h.expressions[0])});U.push(e.parent()),U.directives=Object.create(e.directives),n.transform(U),n instanceof dn&&n.body.length==1&&n.body[0]instanceof ni&&n.body[0].value=="use strict"&&(n.body.length=0),ve.forEach(function(h){Xf(h,e,Ae)});function H(h,N){X[h.definition().references.length>0?"info":"warn"](N+" [{start}]",h)}function x(h,N){h.name instanceof Pn?H(h.name,N):X.info(N+" [{start}]",h)}function R(h){return h[h instanceof Ce?"right":"value"]}function $(h,N,xe){switch(h.length){case 0:return xe?Dt.skip:c(nt,N);case 1:return h[0];default:return xe?Dt.splice(h):c(Ve,N,{body:h})}}function O(h,N){return h.scope.resolve()!==n?!1:((!h.fixed||!N.fixed)&&(o[h.id]=!1),o[h.id]!==!1)}function C(h,N){o[h.id]||(o[h.id]=[]),N.fixed.assigns&&zi(o[h.id],N.fixed.assigns)}function K(h,N){var xe=o[h.id];return xe&&xe.indexOf(N)}function ne(h){D[h.id]>1&&!(h.id in w)&&(w[h.id]=!0,T.push(h)),D[h.id]=0}function Z(h,N,xe){h.id in w||(N&&xe?(w[h.id]=N,T.push(h)):(q[h.id]=N,z[h.id]=xe))}function Q(h,N){var xe=h.definition(),he=w[xe.id];return he?N[N instanceof Ce?"left":"expression"]!==h?!1:he===h&&xe.references.length-xe.replaced==1||K(xe,N)<0:!0}function B(h){var N=h.right;if(!h.write_only||!(N instanceof ae&&ct[N.operator])||!(N.left instanceof ee)||!(h.left instanceof ee))return N;var xe=h.left.definition();return N.left.definition()!==xe||N.right.has_side_effects(e)?N:(O(xe,N.left)&&C(xe,N.left),N.right)}function Te(h){var N=h.init;if(N instanceof gt)return N=N.definitions[0].name,N instanceof yt&&N;for(;N instanceof vn;)N=N.expression.tail_node();if(N instanceof ee)return N}function Pe(h,N,xe){if(h instanceof Ce&&h.left instanceof ee){var he=h.left.definition();he.scope.resolve()===n&&W.add(he.id,h)}if(h instanceof ee&&h.in_arg&&(E[h.definition().id]=0),h instanceof ft&&h.expression instanceof ee){var he=h.expression.definition();he.scope.resolve()===n&&W.add(he.id,h)}var ln=[],we=f(h,ln);if(we){var Ke=we.definition();if(Ke.scope.resolve()!==n&&n.variables.get(we.name)!==Ke||G(Ke)&&!Je(n.argnames,function(vt){return!vt.match_symbol(function(At){if(At instanceof Pn){var li=At.definition();return li.references.length>li.replaced}},!0)})||h.write_only==="p"&&h.right.may_throw_on_access(e,!0))return;var yn=ln.assign;if(yn&&(yn.write_only=!0,yn.walk(ue)),ln.forEach(function(vt){vt.walk(ue)}),h instanceof Ce){var Ye=B(h),qe=!1;if(xe&&h.write_only===!0&&!Ye.has_side_effects(e)?j.add(Ke.id,Ye):(Ye.walk(ue),qe=Ye.tail_node().operator=="="),h.left===we)(!h.write_only||qe)&&Z(Ke,we,z[Ke.id]);else{var Wn=we.fixed_value();(!Wn||!Wn.is_constant())&&Z(Ke,q[Ke.id],!0)}}return O(Ke,we)&&Fi(we,h)!==we&&C(Ke,we),ne(Ke),!0}if(h instanceof ae){if(h.operator!="instanceof")return;var we=h.right;if(!(we instanceof ee))return;var ht=we.definition().id;return D[ht]?(h.left.walk(ue),D[ht]++,!0):void 0}if(h instanceof oa){if(h.init instanceof ee&&ie===n){var ht=h.init.definition().id;ht in b||(b[ht]=h)}if(!i||!e.option("loops")||!Be(h.body)||h.init.has_side_effects(e))return;var we=Te(h);if(!we)return;var he=we.definition();if(he.scope.resolve()!==n){var Vn=p(we.name);if(Vn===he||Vn&&Vn.redefined()===he)return}return h.object.walk(ue),!0}if(h instanceof ee){var Ke=h.definition();if(Ke.id in w||(w[Ke.id]=!0,T.push(Ke)),V(Ke.scope,h.scope)){var wt=Ke.redefined();wt&&!(wt.id in w)&&(w[wt.id]=!0,T.push(wt))}return O(Ke,h)&&C(Ke,h),!0}if(h instanceof sn){var Zn=ie;return ie=h,N(),ie=Zn,!0}}function tn(h){return(h instanceof In?h.name:h)instanceof yt}function En(h){return h.definition().id in w?h:(h instanceof Pn&&(h.unused=!0),null)}function rn(h,N){N.value=N.value.transform(U);var xe=N.name.transform(h);if(!xe){if(N.name instanceof Rn)return null;var he=N.value.drop_side_effect_free(e);if(!he)return null;H(N.name,"Side effects in default value of unused variable {name}"),N=N.clone(),N.name.unused=null,N.value=he}return N}function de(h,N,xe,he,ln){var we=new Jt(function(qe){if(qe instanceof In)if(e.option("default_values")&&N&&N.is_defined(e))qe===ln?ln=qe=qe.name:qe=qe.name;else{var Wn=he;he=!1;var ht=rn(we,qe);return he=Wn,!ht&&he&&N&&(N=N.drop_side_effect_free(e)),ht}if(qe instanceof Et){var Wn=he,Vn=N;N instanceof ee&&(he=!1,N=N.fixed_value());var wt,Zn;N instanceof Dn?(wt=!0,Zn=N.elements):(wt=N&&N.is_string(e),Zn=!1);var vt=[],At=he&&[],li=0;if(qe.elements.forEach(function(oe,Ne){N=Zn&&Zn[Ne],N instanceof Gt?N=null:N instanceof Cn&&(he&&(At.length=li,gr(Vn,At),[].push.apply(At,Zn.slice(Ne)),Vn.elements=At),N=Zn=!1),oe=oe.transform(we),oe&&(vt[li]=oe),he&&N&&(At[li]=N),(oe||N||!he||!Zn)&&li++}),N=Zn&&c(Dn,Vn,{elements:Zn.slice(qe.elements.length)}),qe.rest){var Er=he;he=!1,qe.rest=qe.rest.transform(e.option("rests")?we:U),he=Er,qe.rest&&(vt.length=li)}if(he&&(N&&!qe.rest&&(N=N.drop_side_effect_free(e)),N instanceof Dn?N=N.elements:N instanceof Xe?N=N.expressions:N&&(N=[N]),N&&N.length&&(At.length=li,[].push.apply(At,N))),N=Vn,he=Wn,Zn&&At&&(gr(N,At),N=N.clone(),N.elements=At),!wt)vt.length=qe.elements.length;else if(!qe.rest)switch(vt.length){case 0:if(qe===ln)break;return he&&(N=N.drop_side_effect_free(e)),null;case 1:if(!he||qe===ln)break;var $e=vt[0];if($e.has_side_effects(e)||N.has_side_effects(e)&&$e.match_symbol(function(oe){return oe instanceof vn}))break;return N=c(at,qe,{expression:N,property:c(mn,qe,{value:0})}),$e}return gr(qe,vt),qe.elements=vt,qe}if(qe instanceof ii){var Wn=he,Vn=N;N instanceof ee&&(he=!1,N=N.fixed_value());var Le,an,Zn;N instanceof st&&(Le=[],an=new Gn,Zn=N.properties.map(function(ze,en){if(ze=ze.clone(),ze instanceof Cn)an=!1;else{var Tn=ze.key;Tn instanceof X&&(Tn=Tn.evaluate(e,!0)),Tn instanceof X?an=!1:an&&!(ze instanceof Kr)&&an.set(Tn,ze),Le[en]=Tn}return ze})),qe.rest&&(N=!1,qe.rest=qe.rest.transform(e.option("rests")?we:U));var Se=new Gn,Ze=he&&new Gn,Sn=[];if(qe.properties.map(function(ze){var en=ze.key;return en instanceof X&&(ze.key=en=en.transform(U),en=en.evaluate(e,!0)),en instanceof X?Ze=!1:Se.set(en,!Se.has(en)),en}).forEach(function(ze,en){var Tn=qe.properties[en],We;if(ze instanceof X)he=!1,N=!1,We=Tn.value.transform(we)||Ye(Tn.value);else{he=Ze&&Se.get(ze);var An=an&&an.get(ze);An?(N=An.value,N instanceof ji&&(N=!1)):N=!1,We=Tn.value.transform(we),We?Ze&&Ze.set(ze,!1):((qe.rest||Ke(Tn))&&(We=Ye(Tn.value)),Ze&&!Ze.has(ze)&&(An?(Ze.set(ze,An),N===null&&an.set(ze,Ke(An)&&c(Zt,An,{key:An.key,value:c(mn,An,{value:0})}))):Ze.set(ze,!0))),N&&(An.value=N)}We&&(Tn.value=We,Sn.push(Tn))}),N=Vn,he=Wn,Ze&&Le&&(N=N.clone(),N.properties=Dt(Zn,function(ze,en){if(ze instanceof Cn)return ze;var Tn=Le[en];if(Tn instanceof X)return ze;if(Ze.has(Tn)){var We=Ze.get(Tn);if(!We)return ze;if(We===ze)return an.get(Tn)||Dt.skip}else if(qe.rest)return ze;var An=ze.value.drop_side_effect_free(e);return An?(ze.value=An,ze):Ke(ze)?c(Zt,ze,{key:ze.key,value:c(mn,ze,{value:0})}):Dt.skip})),N&&!qe.rest)switch(Sn.length){case 0:if(qe===ln||N.may_throw_on_access(e,!0))break;return he&&(N=N.drop_side_effect_free(e)),null;case 1:if(!he||qe===ln)break;var Re=Sn[0];if(Re.key instanceof X||Re.value.has_side_effects(e)||N.has_side_effects(e)&&Re.value.match_symbol(function(ze){return ze instanceof vn}))break;return N=c(at,qe,{expression:N,property:ai(Re.key,Re)}),Re.value}return qe.properties=Sn,qe}return qe instanceof Gt?qe=null:qe=xe(qe),!qe&&he&&N&&(N=N.drop_side_effect_free(e)),qe});return{name:h.transform(we),value:N};function Ke(qe){return qe.key instanceof X&&qe.key.has_side_effects(e)}function yn(qe){if(qe instanceof Ce)qe.write_only=!1,yn(qe.right);else if(qe instanceof ae){if(!ct[qe.operator])return;yn(qe.left),yn(qe.right)}else qe instanceof _n?(yn(qe.consequent),yn(qe.alternative)):qe instanceof Xe?yn(qe.tail_node()):qe instanceof ft&&(qe.write_only=!1)}function Ye(qe){return qe instanceof In?Ye(qe.name):qe instanceof Rn?(N===null?N=c(mn,qe,{value:0}):N&&(N.may_throw_on_access(e,!0)?N=c(Dn,qe,{elements:N instanceof Xe?N.expressions:[N]}):yn(N)),c(ii,qe,{properties:[]})):(qe.unused=null,qe)}}}),sn.DEFMETHOD("hoist_declarations",function(e){if(!e.has_directive("use asm")){var n=e.option("hoist_funs"),r=e.option("hoist_vars"),i=this;if(r){var f=0;i.walk(new on(function(D){if(f>1||D instanceof ki||D instanceof sn&&D!==i)return!0;if(D instanceof bt)return f++,!0})),f<=1&&(r=!1)}if(!(!n&&!r)){var o=new Gn,g=[],p=[],b=new Gn,T=new Jt(function(D,q,z){if(D!==i){if(D instanceof ni)return g.push(D),z?Dt.skip:c(nt,D);if(D instanceof dt){if(!n)return D;var E=T.parent();return E instanceof ki||E instanceof Ni||E!==i&&e.has_directive("use strict")?D:(p.push(D),z?Dt.skip:c(nt,D))}if(D instanceof bt){if(!r)return D;var E=T.parent();if(E instanceof ki||!Je(D.definitions,function(ue){var pe=ue.name;return pe instanceof ri&&!o.has(pe.name)&&i.find_variable(pe.name)===pe.definition()}))return D;D.definitions.forEach(function(ue){b.set(ue.name.name,ue)});var W=D.to_assignments();if(E instanceof Wt&&E.init===D){if(W)return W;var j=D.definitions[0].name;return c(ee,j)}return E instanceof Nt&&E.init===D?W:W?c(je,D,{body:W}):z?Dt.skip:c(nt,D)}if(D instanceof sn)return D;if(D instanceof pi)return o.set(D.name,!0),D}});if(i.transform(T),b.size()>0){var w=[];i instanceof dn&&i.each_argname(function(D){Je(D.definition().references,function(q){return!q.in_arg})&&b.del(D.name)}),b.each(function(D,q){D=D.clone(),D.name=D.name.clone(),D.value=null,w.push(D),b.set(q,D),D.name.definition().orig.unshift(D.name)}),w.length>0&&p.push(c(bt,i,{definitions:w}))}i.body=g.concat(p,i.body)}}});function kr(e,n){e.walk(new on(function(r){if(r instanceof tt)return n(r),!0;if(r instanceof sn&&r!==e)return!0}))}function Nf(e){var n=Object.create(null);return kr(e,function(r){var i=r.value;if(i&&(i=i.tail_node()),i instanceof ee){var f=i.definition().id;n[f]=(n[f]||0)+1}}),n}function S(e,n,r){if(r.exposed(e))return!1;switch(e.references.length-e.replaced-(n[e.id]||0)){case e.drop_return:return"d";case e.bool_return:return!0}}function M(e,n){kr(e,function(r){r.in_bool=!0;var i=r.value;if(i){var f=Fn(n,i);f?f instanceof X||(i=i.drop_side_effect_free(n),r.value=i?be(r.value,[i,c(mn,r.value,{value:1})]):c(mn,r.value,{value:1})):(i=i.drop_side_effect_free(n),r.value=i?be(r.value,[i,c(mn,r.value,{value:0})]):null)}})}sn.DEFMETHOD("process_returns",Lt),Pi.DEFMETHOD("process_returns",function(e){if(e.option("booleans")&&!(e.parent()instanceof Ni))switch(S(this.name.definition(),Nf(this),e)){case"d":_e(e,this,!0);break;case!0:M(this,e);break}}),Ot.DEFMETHOD("process_returns",function(e){if(!e.option("booleans"))return;var n=!0,r=Nf(this);if(this.name&&!w(this.name.definition()))return;var i=e.parent();if(i instanceof Ce){if(i.operator!="=")return;var f=i.left;if(!(f instanceof ee)||!w(f.definition()))return}else if(i instanceof hn&&i.expression!==this){var o=i.expression;if(o instanceof ee&&(o=o.fixed_value()),!(o instanceof dn)||o.uses_arguments||o.pinned())return;for(var g=i.args,f,p=0;p<g.length;p++){var b=g[p];if(b===this){if(f=o.argnames[p],!f&&o.rest)return;break}if(b instanceof Cn)return}if(f instanceof In&&(f=f.name),f instanceof Pn&&!w(f.definition()))return}else if(i.TYPE=="Call"){e.pop();var T=e.in_boolean_context();switch(e.push(this),T){case!0:n=!1;case"d":break;default:return}}else return;n?_e(e,this,!0):M(this,e);function w(D){switch(S(D,r,e)){case!0:n=!1;case"d":return!0}}}),ti.DEFMETHOD("var_names",function(){var e=this._var_names;return e||(this._var_names=e=new Gn,this.enclosed.forEach(function(n){e.set(n.name,!0)}),this.variables.each(function(n,r){e.set(r,!0)})),e}),sn.DEFMETHOD("make_var",function(e,n,r){var i=[this];n instanceof yt&&n.definition().references.forEach(function(b){var T=b.scope;do{if(!zi(i,T))return;T=T.parent_scope}while(T&&T!==this)}),r=r.replace(/^[^a-z_$]|[^a-z0-9_$]/gi,"_");for(var f=r,o=0;!Je(i,function(b){return!b.var_names().has(f)});o++)f=r+"$"+o;var g=c(e,n,{name:f,scope:this}),p=this.def_variable(g);return i.forEach(function(b){b.enclosed.push(p),b.var_names().set(f,!0)}),g}),sn.DEFMETHOD("hoist_properties",function(e){if(!e.option("hoist_props")||e.has_directive("use asm"))return;var n=this;if(qt(n)&&n.value)return;var r=n instanceof kt&&e.top_retain||zn,i=Object.create(null),f=new Jt(function(g,p){if(g instanceof Ce){if(g.operator!="="||!g.write_only||!o(g.left,g.right,1))return;p(g,f);var b=new Gn,T=[],w=[];return g.right.properties.forEach(function(W){var j=E(ri,g.left,W.key);w.push(c(Jn,g,{name:j,value:null}));var ie=c(ee,g,{name:j.name,scope:n,thedef:j.definition()});ie.reference(),T.push(c(Ce,g,{operator:"=",left:ie,right:W.value}))}),b.value=g.right,i[g.left.definition().id]=b,n.body.splice(n.body.indexOf(f.stack[1])+1,0,c(bt,g,{definitions:w})),be(g,T)}if(g instanceof sn){if(g===n)return;var D=f.parent();return D.TYPE=="Call"&&D.expression===g?void 0:g}if(g instanceof Jn){if(!o(g.name,g.value,0))return;p(g,f);var b=new Gn,q=[],z=g.clone();return z.value=g.name instanceof pi?c(mn,g,{value:0}):null,q.push(z),g.value.properties.forEach(function(j){q.push(c(Jn,g,{name:E(g.name.CTOR,g.name,j.key),value:j.value}))}),b.value=g.value,i[g.name.definition().id]=b,Dt.splice(q)}function E(W,j,ie){var ue=n.make_var(W,j,j.name+"_"+ie);return b.set(ie,ue.definition()),ue}});n.transform(f),n.transform(new Jt(function(g,p){if(g instanceof vn){if(!(g.expression instanceof ee))return;var b=i[g.expression.definition().id];if(!b||g.expression.fixed_value()!==b.value)return;var T=b.get(g.get_property()),w=c(ee,g,{name:T.name,scope:g.expression.scope,thedef:T});return w.reference(),w}if(g instanceof ee){var b=i[g.definition().id];return!b||g.fixed_value()!==b.value?void 0:c(st,g,{properties:[]})}}));function o(g,p,b){if(g instanceof jt){var T=g.definition();if(T.assignments==b&&T.references.length-T.replaced!=b&&!T.single_use&&n.find_variable(g.name)===T&&!r(T)&&g.fixed_value()===p){var w=g.fixed||T.fixed;if(!w.direct_access&&!(w.escaped&&w.escaped.depth==1))return p instanceof st&&p.properties.length>0&&He(g,e)&&Je(p.properties,function(D){return Hf(D)&&D.key!=="__proto__"})}}}});function te(e,n){if(!e.name||!n.option("ie"))return!0;var r=e.name.definition();return n.exposed(r)?!1:Je(r.references,function(i){return!(i instanceof ee)})}function _e(e,n,r){if(n instanceof dn){var i=qt(n),f=di(n),o=!1,g=!1;if(i&&e.option("arrows")){if(!n.value)g=!0;else if(!f||Si(e,n.value)){var p=n.value.drop_side_effect_free(e);p!==n.value&&(o=!0,n.value=p)}}else if(!Hi(n))if(!r&&n.name){var b=n.name.definition();g=b.references.length==b.replaced}else g=!0;if(g&&(n.process_expression(!1,function(q){var z=q.value;if(z){if(f&&!Si(e,z))return q;z=z.drop_side_effect_free(e,!0)}return o=!0,z?c(je,q,{body:z}):c(nt,q)}),kr(n,function(q){var z=q.value;if(z){if(f&&!Si(e,z))return;var E=z.drop_side_effect_free(e);E!==z&&(o=!0,E&&f&&!Si(e,E)&&(E=E.negate(e)),q.value=E)}})),f&&e.option("awaits")){g&&n.process_expression("awaits",function(q){var z=q.body;if(z instanceof mt){if(Si(e,z.expression)){if(o=!0,z=z.expression.drop_side_effect_free(e,!0),!z)return c(nt,q);q.body=z}}else if(z instanceof Xe){for(var E=z.expressions,W=E.length;--W>=0;){var j=E[W];if(!(j instanceof mt))break;var ie=j.expression;if(!Si(e,ie)||(o=!0,E[W]=ie.drop_side_effect_free(e)))break}switch(W){case-1:return c(nt,q);case 0:q.body=E[0];break;default:E.length=W+1;break}}return q});var T=!g&&n.name||i&&n.value&&!Si(e,n.value),w=new on(function(q){if(T)return!0;if(w.parent()===n&&q.may_throw(e)||q instanceof mt||q instanceof Ta)return T=!0;if(q instanceof tt)return q.value&&!Si(e,q.value)?T=!0:void 0;if(q instanceof sn&&q!==n)return!0});if(n.walk(w),!T){var D;switch(n.CTOR){case fr:D=Bi;break;case sr:D=Ot;break;case Yi:D=ur;break}return c(D,n)}}return o&&n.clone()}}(function(e){function n(o,g,p,b){for(var T=o.length,w=[],D=!1,q=0;q<T;q++){var z=o[q],E;b&&z instanceof Cn?E=b(z,g,p):E=z.drop_side_effect_free(g,p),E!==z&&(D=!0),E&&(w.push(E),p=!1)}return w.length?D?w:o:null}function r(o,g,p){var b=o.expression;return b.is_string(g)?b.drop_side_effect_free(g,p):o}function i(o){return o instanceof Cn?c(Dn,o,{elements:[o]}):o}e(X,Tr),e(ji,ta),e(Dn,function(o,g){var p=n(this.elements,o,g,r);return p?p===this.elements&&Je(p,function(b){return b instanceof Cn})?this:be(this,p.map(i)):null}),e(Ce,function(o){var g=this.left;if(g instanceof vn){var p=g.expression;if(p.may_throw_on_access(o,!0))return this;if(o.has_directive("use strict")&&p.is_constant())return this}return g.has_side_effects(o)?this:ct[this.operator.slice(0,-1)]?this:(this.write_only=!0,df(g).is_constant_expression(o.find_parent(sn))?this.right.drop_side_effect_free(o):this)}),e(mt,function(o){if(!o.option("awaits"))return this;var g=this.expression;if(!Si(o,g))return this;g instanceof Ue&&g.operator=="!"&&(g=g.expression);var p=g.drop_side_effect_free(o);if(p===g)return this;p?Si(o,p)||(p=p.negate(o)):p=c(mn,g,{value:0});var b=this.clone();return b.expression=p,b}),e(ae,function(o,g){var p=this.left,b=this.right,T=this.operator;if(!of(T,b,o)){var W=p.drop_side_effect_free(o,g);if(W===p)return this;var w=this.clone();return w.left=W||c(mn,p,{value:0}),w}var D=b.drop_side_effect_free(o,g);if(!D)return p.drop_side_effect_free(o,g);if(ct[T]&&D.has_side_effects(o)){var w=this;if(D!==b&&(w=w.clone(),w.right=D.drop_side_effect_free(o)),T=="??")return w;var q=w.clone();q.operator=T=="&&"?"||":"&&",q.left=p.negate(o,g);var z=q.right.tail_node();z instanceof ae&&q.operator==z.operator&&If(q);var E=g?Qr:ui;return T=="&&"?E(w,q):E(q,w)}var W=p.drop_side_effect_free(o,g);return W?(D=D.drop_side_effect_free(o),D?be(this,[W,D]):W):D});function f(o,g){o.new=!0;var p=Je(o.body,function(b){return!b.has_side_effects(g)})&&Je(o.argnames,function(b){return!b.match_symbol(zn)})&&!(o.rest&&o.rest.match_symbol(zn));return o.new=!1,p}e(hn,function(o,g){var p=this;if(p.is_expr_pure(o)){p.pure&&X.warn("Dropping __PURE__ call [{start}]",p);var b=n(p.args,o,g,r);return b&&be(p,b.map(i))}var T=p.expression;if(p.is_call_pure(o)){var w=p.args.slice();return w.unshift(T.expression),w=n(w,o,g,r),w&&be(p,w.map(i))}if(o.option("yields")&&Hi(T)){var D=p.clone();D.expression=c(Ot,T),D.expression.body=[];var q=D.transform(o);if(q!==D)return q.drop_side_effect_free(o,g)}var z=_e(o,T);if(z&&(p=p.clone(),p.expression=z,T._squeezed&&(p.expression._squeezed=!0)),p instanceof Ai){var E=T;if(E instanceof ee&&(E=E.fixed_value()),E instanceof dn){if(f(E,o)){var w=p.args.slice();return w.unshift(T),w=n(w,o,g,r),w&&be(p,w.map(i))}E.contains_this()||(p=c(hn,p),p.expression=p.expression.clone(),p.args=p.args.slice())}}return p.call_only=!0,p}),e(yr,function(o,g){for(var p=this,b=[],T=[],w=0,D=p.properties,q=0;q<D.length;q++){var z=D[q];if(z.key instanceof X&&b.push(z.key),!!kn(z)){var E=z.value;if(E.has_side_effects(o)){if(E.contains_this())return p;z instanceof Gr?(w++,T.push(z)):T.push(E)}}}var W=p.extends;if(W&&(W instanceof ee&&(W=W.fixed_value()),W=!A(W),W||b.unshift(p.extends)),b=n(b,o,g),b&&(g=!1),T=n(T,o,g),!b){if(!W&&!T&&!p.name)return null;b=[]}if(W||p.name||!o.has_directive("use strict")){var j=oi(p);return W||(j.extends=null),j.properties=[],T?T.length==w?(b.length&&T.unshift(c(Rr,p,{key:be(p,b),value:null})),j.properties=T):j.properties.push(c(Rr,p,{static:!0,key:b.length?be(p,b):"c",value:ie()})):b.length&&j.properties.push(c(ca,p,{key:be(p,b),value:c(Ot,p,{argnames:[],body:[]}).init_vars(j)})),j}return T&&b.push(c(hn,p,{expression:c(Bi,p,{argnames:[],body:[],value:ie()}).init_vars(p.parent_scope),args:[]})),be(p,b);function ie(){return be(p,T.map(function(ue){if(!(ue instanceof Gr))return ue;var pe=c(Bi,ue.value);return pe.argnames=[],c(hn,ue,{expression:pe,args:[]})}))}}),e(_n,function(o){var g=this.consequent.drop_side_effect_free(o),p=this.alternative.drop_side_effect_free(o);if(g===this.consequent&&p===this.alternative)return this;var b;o.option("ie")&&(b=[],g instanceof Ot&&(b.push(g),g=null),p instanceof Ot&&(b.push(p),p=null));var T;return g?p?(T=this.clone(),T.consequent=g,T.alternative=p):T=c(ae,this,{operator:"&&",left:this.condition,right:g}):T=p?c(ae,this,{operator:"||",left:this.condition,right:p}):this.condition.drop_side_effect_free(o),b?(T&&b.push(T),b.length==0?null:be(this,b)):T}),e(ut,ta),e(et,function(o,g){var p=this.expression;return p.may_throw_on_access(o)?this:p.drop_side_effect_free(o,g)}),e(Ot,function(o){return te(this,o)?null:this}),e(xt,ta),e(st,function(o,g){var p=[];this.properties.forEach(function(T){T instanceof Cn?p.push(T):(T.key instanceof X&&p.push(T.key),p.push(T.value))});var b=n(p,o,g,function(T,w,D){var q=T.expression;return q.safe_to_spread()?q.drop_side_effect_free(w,D):T});return b?b===p&&!Je(b,function(T){return!(T instanceof Cn)})?this:be(this,b.map(function(T){return T instanceof Cn?c(st,T,{properties:[T]}):T})):null}),e(Wi,ta),e(Xe,function(o,g){var p=n(this.expressions,o,g);if(!p)return null;var b=p.length-1,T=p[b];if(o.option("awaits")&&b>0&&T instanceof mt&&T.expression.is_constant()){p=p.slice(0,-1),b--;var w=p[b];T.expression=Si(o,w)?w:w.negate(o),p[b]=T}var D,q,z;return o.option("conditionals")&&b>0&&(D=p[b-1])instanceof Ce&&D.operator=="="&&(z=D.left)instanceof ee&&(q=Zf(o,z.definition(),D.right,T))&&(D=D.clone(),D.right=q,p=p.slice(0,-2),p.push(D.drop_side_effect_free(o,g))),p===this.expressions?this:be(this,p)}),e(at,function(o,g){var p=this.expression;if(p.may_throw_on_access(o))return this;var b=this.property;return p=p.drop_side_effect_free(o,g),p?(b=b.drop_side_effect_free(o),b?be(this,[p,b]):p):b.drop_side_effect_free(o,g)}),e(ee,function(o){return this.is_declared(o)&&He(this,o)?null:this}),e(It,function(o,g){var p=this;if(p.is_expr_pure(o)){var b=p.expressions;return b.length==0?null:be(p,b).drop_side_effect_free(o,g)}var T=p.tag,w=_e(o,T);return w&&(p=p.clone(),p.tag=w,T._squeezed&&(p.tag._squeezed=!0)),p}),e(ft,function(o,g){var p=this.expression;if(ba[this.operator])return this.write_only=!p.has_side_effects(o),this;if(this.operator=="typeof"&&p instanceof ee&&He(p,o))return null;var b=p.drop_side_effect_free(o,g);return g&&b&&l(b)?b===p&&this.operator=="!"?this:b.negate(o,g):b})})(function(e,n){e.DEFMETHOD("drop_side_effect_free",n)}),t(je,function(e,n){if(n.option("side_effects")){var r=e.body,i=r.drop_side_effect_free(n,!0);if(!i)return X.warn("Dropping side-effect-free statement [{start}]",e),c(nt,e);if(i!==r)return c(je,e,{body:i})}return e}),t(ia,function(e,n){return n.option("loops")?c(Nt,e).optimize(n):e});function nn(e,n,r){r||(r=Dr);var i=!1,f=new on(function(o){if(i||o instanceof sn)return!0;if(o instanceof r&&f.loopcontrol_target(o)===e)return i=!0});return n instanceof Kt&&f.push(n),f.push(e),e.body.walk(f),i}t(Fr,function(e,n){if(!n.option("loops"))return e;var r=Fn(n,e.condition);if(!(r instanceof X)){if(r&&!nn(e,n.parent(),Jr))return c(Nt,e,{body:c(Ve,e.body,{body:[e.body,c(je,e.condition,{body:e.condition})]})}).optimize(n);if(!nn(e,n.parent()))return c(Ve,e.body,{body:[e.body,c(je,e.condition,{body:e.condition})]}).optimize(n)}if(e.body instanceof Ve&&!nn(e,n.parent(),Jr)){for(var i=e.body.body,f=i.length;--f>=0;){var o=i[f];if(o instanceof Un&&!o.alternative&&o.body instanceof Ki&&n.loopcontrol_target(o.body)===e){if(g(o.condition))break;e.condition=c(ae,e,{operator:"&&",left:o.condition.negate(n),right:e.condition}),i.splice(f,1)}else if(o instanceof je){if(g(o.body))break;e.condition=be(e,[o.body,e.condition]),i.splice(f,1)}else if(!fi(o,!0))break}e.body=pr(e.body,n.parent())}if(e.body instanceof nt)return c(Nt,e).optimize(n);if(e.body instanceof je)return c(Nt,e,{condition:be(e.condition,[e.body.body,e.condition]),body:c(nt,e)}).optimize(n);return e;function g(p){var b=!1;return p.walk(new on(function(T){if(b)return!0;if(T instanceof ee)return rr(T.definition(),e.enclosed)||(b=!0),!0})),b}});function fn(e,n){var r=g(e.body);if(n.option("dead_code")&&(r instanceof Ki||r instanceof Jr&&p(r)||r instanceof Vt)){var i=[];ar(e.init)?i.push(e.init):e.init&&i.push(c(je,e.init,{body:e.init}));var f=p(r)||r instanceof Vt;return e.condition&&f?i.push(c(Un,e,{condition:e.condition,body:r,alternative:null})):e.condition?i.push(c(je,e.condition,{body:e.condition})):f&&i.push(r),Qi(n,e.body,i),c(Ve,e,{body:i})}if(r instanceof Un){var o=g(r.body);if(o instanceof Ki&&!p(o)){e.condition?e.condition=c(ae,e.condition,{left:e.condition,operator:"&&",right:r.condition.negate(n)}):e.condition=r.condition.negate(n);var i=Me(r.alternative);return Qi(n,r.body,i),b(i)}if(o=g(r.alternative),o instanceof Ki&&!p(o)){e.condition?e.condition=c(ae,e.condition,{left:e.condition,operator:"&&",right:r.condition}):e.condition=r.condition;var i=Me(r.body);return Qi(n,r.alternative,i),b(i)}}return e;function g(T){return T instanceof Ve?T.body[0]:T}function p(T){return n.loopcontrol_target(T)!==n.self()}function b(T){return e.body instanceof Ve?(e.body=e.body.clone(),e.body.body=T.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=c(Ve,e.body,{body:T}).transform(n),fn(e,n)}}t(Nt,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var r=Fn(n,e.condition);if(r)r instanceof X||(e.body=c(Ve,e.body,{body:[c(je,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){var i=[];return ar(e.init)?i.push(e.init):e.init&&i.push(c(je,e.init,{body:e.init})),i.push(c(je,e.condition,{body:e.condition})),Qi(n,e.body,i),c(Ve,e,{body:i}).optimize(n)}}return fn(e,n)}),t(Wt,function(e,n){if(n.option("varify")&&De(e.init)){var r=e.init.definitions[0].name;(r instanceof Rn||r instanceof zr)&&!r.match_symbol(function(i){if(i instanceof yt){var f=i.definition();return!Ya(f)||xr(n,f)}},!0)&&(e.init=Wr(e.init,e.resolve()))}return e});function Nn(e,n,r){if(e instanceof Xe&&(e=e.tail_node()),!(e instanceof ae))return;if(!(e.left instanceof On)){switch(e.operator){case"&&":Nn(e.left,n),Nn(e.right,n);break;case"||":Nn(q(e.left),r),Nn(q(e.right),r);break}return}if(!(e.right instanceof Ue)||e.right.operator!="typeof")return;var i=e.right.expression;if(!I(i))return;var f,o=e.left.value=="undefined";switch(e.operator){case"==":f=o?r:n;break;case"!=":f=o?n:r;break;default:return}if(!f)return;var g=!1,p=i.definition(),b,T=[],w=[],D=new on(function(z,E){if(g)return!0;if(z instanceof Ce){var W=z.left;if(!(W instanceof ee&&W.definition()===p))return;switch(z.right.walk(D),z.operator){case"=":case"&&=":g=!0}return!0}if(z instanceof hn){E(),b=z.expression.tail_node();var j;return b instanceof ee&&(b=b.fixed_value(),j=T.length),b instanceof dn?zi(w,b)&&b.walk(D):g=!0,j>=0&&(T.length=j),!0}if(z instanceof ua){var j=T.length;return E(),g&&(T.length=j),!0}if(z instanceof Nt){z.init&&z.init.walk(D);var j=T.length;return z.condition&&z.condition.walk(D),z.body.walk(D),z.step&&z.step.walk(D),g&&(T.length=j),!0}if(z instanceof Wt){z.object.walk(D);var j=T.length;return z.init.walk(D),z.body.walk(D),g&&(T.length=j),!0}if(z instanceof sn)return z===b?void 0:!0;if(z instanceof ee)return z.definition()===p&&T.push(z),!0});f.walk(D),T.forEach(function(z){z.defined=!0});function q(z){if(z instanceof ae)switch(z.operator){case"==":return z=z.clone(),z.operator="!=",z;case"!=":return z=z.clone(),z.operator="==",z}}}function Fn(e,n,r){if(n.truthy)return!0;if(!si(n))return n.falsy&&!r?!1:n.is_truthy()?!0:n.evaluate(e,!0)}function rt(e,n){var r,i=0,f=!1,o=e.self();if(!ar(o))for(;;){if(r=o,o=e.parent(i++),o instanceof ae)switch(r){case o.left:if(ct[o.operator])continue;break;case o.right:if(p(o.left))switch(o.operator){case"&&":n[f?"falsy":"truthy"]=!0;break;case"||":case"??":n[f?"truthy":"falsy"]=!0;break}break}else if(o instanceof _n){var g=o.condition;if(g===r)continue;if(p(g))switch(r){case o.consequent:n[f?"falsy":"truthy"]=!0;break;case o.alternative:n[f?"truthy":"falsy"]=!0;break}}else{if(o instanceof Vt)break;if(o instanceof Un)break;if(o instanceof Xe){if(o.expressions[0]===r)continue}else if(o instanceof je)break}return}for(;;){if(r=o,o=e.parent(i++),o instanceof Ve){if(o.body[0]===r)continue}else if(o instanceof Un&&p(o.condition))switch(r){case o.body:n[f?"falsy":"truthy"]=!0;break;case o.alternative:n[f?"truthy":"falsy"]=!0;break}return}function p(b){return n.equals(b)?!0:!(b instanceof Ue)||b.operator!="!"||!n.equals(b.expression)?!1:(f=!0,!0)}}t(Un,function(e,n){if(Be(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;if(n.option("booleans")&&!e.condition.has_side_effects(n)&&rt(n,e.condition),n.option("dead_code")){var r=Fn(n,e.condition);if(r){if(!(r instanceof X)){X.warn("Condition always true [{start}]",e.condition);var i=[c(je,e.condition,{body:e.condition}).transform(n),e.body];return e.alternative&&Qi(n,e.alternative,i),c(Ve,e,{body:i}).optimize(n)}}else{X.warn("Condition always false [{start}]",e.condition);var i=[c(je,e.condition,{body:e.condition}).transform(n)];return Qi(n,e.body,i),e.alternative&&i.push(e.alternative),c(Ve,e,{body:i}).optimize(n)}}var f=e.condition.negate(n),o=e.condition.print_to_string().length,g=f.print_to_string().length,p=g<o;if(e.alternative&&p){p=!1,e.condition=f;var b=e.body;e.body=e.alternative,e.alternative=Be(b)?null:b}var T=[],w=[],D=[],q=Q(e.body,T,w,D),z=[],E=[],W=[],j=Q(e.alternative,z,E,W);if(q instanceof Ve||j instanceof Ve){var i=[],ie=[];if(q&&([].push.apply(i,T),[].push.apply(ie,w),q instanceof Ve?e.body=q:q.length==0?e.body=c(nt,e.body):e.body=c(je,e.body,{body:be(e.body,q)}),D.forEach(Ee)),j&&([].push.apply(i,z),[].push.apply(ie,E),j instanceof Ve?e.alternative=j:j.length==0?e.alternative=null:e.alternative=c(je,e.alternative,{body:be(e.alternative,j)}),W.forEach(Ee)),ie.length>0&&i.push(c(bt,e,{definitions:ie})),i.length>0)return i.push(e.transform(n)),c(Ve,e,{body:i}).optimize(n)}else if(q&&j){var i=T.concat(z);return(w.length>0||E.length>0)&&i.push(c(bt,e,{definitions:w.concat(E)})),q.length==0?i.push(c(je,e.condition,{body:j.length>0?c(ae,e,{operator:"||",left:e.condition,right:be(e.alternative,j)}).transform(n):e.condition.clone()}).optimize(n)):j.length==0?(o===g&&!p&&e.condition instanceof ae&&e.condition.operator=="||"&&(p=!0),i.push(c(je,e,{body:c(ae,e,{operator:p?"||":"&&",left:p?f:e.condition,right:be(e.body,q)}).transform(n)}).optimize(n))):i.push(c(je,e,{body:c(_n,e,{condition:e.condition,consequent:be(e.body,q),alternative:be(e.alternative,j)})}).optimize(n)),D.forEach(Ee),W.forEach(Ee),c(Ve,e,{body:i}).optimize(n)}if(Be(e.body)&&(e=c(Un,e,{condition:f,body:e.alternative,alternative:null})),e.alternative instanceof Vt&&e.body.TYPE==e.alternative.TYPE){var ue=e.body.value,pe=e.alternative.value;if(!ue&&!pe)return c(Ve,e,{body:[c(je,e,{body:e.condition}),e.body]}).optimize(n);if(ue&&pe||!K()){var bn=c(e.body.CTOR,e,{value:c(_n,e,{condition:e.condition,consequent:ue||c(_t,e.body).transform(n),alternative:pe||c(_t,e.alternative).transform(n)})});return bn instanceof tt&&(bn.in_bool=e.body.in_bool||e.alternative.in_bool),bn}}if(e.body instanceof Un&&!e.body.alternative&&!e.alternative&&(e=c(Un,e,{condition:c(ae,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),zt(e.body)&&e.alternative){var me=e.alternative;return e.alternative=null,c(Ve,e,{body:[e,me]}).optimize(n)}if(zt(e.alternative)){var i=e.body;return e.body=e.alternative,e.condition=p?f:e.condition.negate(n),e.alternative=null,c(Ve,e,{body:[e,i]}).optimize(n)}if(e.alternative){for(var ve=C(e.body),Ae=ne(ve),v=C(e.alternative),U=ne(v),H=[];Ae>=0&&U>=0;){var x=ve[Ae],R=v[U];if(x.equals(R))ve.splice(Ae--,1),v.splice(U--,1),H.unshift(Bn(x,R));else{if(!(x instanceof je)||!(R instanceof je))break;var $=x.body.tail_node(),O=R.body.tail_node();if(!$.equals(O))break;Ae=Z(ve,x.body,Ae),U=Z(v,R.body,U),H.unshift(c(je,$,{body:Bn($,O)}))}}if(H.length>0)return e.body=ve.length>0?c(Ve,e,{body:ve}):c(nt,e),e.alternative=v.length>0?c(Ve,e,{body:v}):null,H.unshift(e),c(Ve,e,{body:H}).optimize(n)}return n.option("typeofs")&&Nn(e.condition,e.body,e.alternative),e;function C(B){return B instanceof Ve?B.body:[B]}function K(){var B=!1,Te=0,Pe=n.self();do if(Pe instanceof Li)n.parent(Te).bfinally&&(B=!0),Te++;else if(Pe instanceof ra)Te++;else{if(Pe instanceof sn)return B&&d(Pe);Pe instanceof Xt&&Pe.bfinally&&(B=!0)}while(Pe=n.parent(Te++))}function ne(B){for(var Te=B.length;--Te>=0&&fi(B[Te],!0););return Te}function Z(B,Te,Pe){return Te instanceof Xe?B[Pe]=c(je,Te,{body:be(Te,Te.expressions.slice(0,-1))}):B.splice(Pe--,1),Pe}function Q(B,Te,Pe,tn){if(B==null)return[];if(B instanceof Ve){for(var En=[],rn=0;rn<B.body.length;rn++){var de=B.body[rn];if(!(de instanceof nt)){if(de instanceof Vt){if(rn==0)return;En.length>0&&(de=de.clone(),En.push(de.value||c(_t,de).transform(n)),de.value=be(B,En));var h=B.clone();return h.body=h.body.slice(rn+1),h.body.unshift(de),h}if(de instanceof dt)Te.push(de);else if(de instanceof je){if(!n.option("sequences")&&En.length>0)return;En.push(de.body)}else if(de instanceof bt){if(!n.option("sequences")&&En.length>0)return;de.remove_initializers(n,Pe),de.definitions.forEach(N)}else return}}return En}if(B instanceof dt)return Te.push(B),[];if(B instanceof nt)return[];if(B instanceof je)return[B.body];if(B instanceof bt){var En=[];return B.remove_initializers(n,Pe),B.definitions.forEach(N),En}function N(xe){xe.value&&En.push(c(Ce,xe,{operator:"=",left:xe.name.convert_symbol(ee,function(he){tn.push(he)}),right:xe.value}))}}}),t(wi,function(e,n){if(!n.option("switches")||!n.option("dead_code"))return e;for(var r=[],i,f=[],o,g,p=[],b=0,T=e.body.length;b<T;b++){if(i=e.body[b],i instanceof jr){var w=r[r.length-1];if(o||me(i.body[0],n)&&(!w||zt(w))){Ae(i,w);continue}else o=i}else{var D=i.expression,q=c(ae,e,{operator:"===",left:e.expression,right:D}).evaluate(n,!0);if(!q){D.has_side_effects(n)&&p.push(D),Ae(i,r[r.length-1]);continue}if(!(q instanceof X)){if(o){var z=r.indexOf(o);r.splice(z,1),Ae(o,r[z-1]),o=null}for(D.has_side_effects(n)?g=i:o=i=c(jr,i);++b<T;)Ae(e.body[b],i)}}if(b+1>=T||zt(i)){var w=r[r.length-1],E=i.body;if(zt(w))switch(w.body.length-E.length){case 1:var W=w.body[w.body.length-1];if(!me(W,n))break;E=E.concat(W);case 0:var j=c(Ve,w),ie=c(Ve,i,{body:E});j.equals(ie)&&(w.body=[])}}p.length&&(i instanceof jr?r.push(c(Xi,e,{expression:be(e,p),body:[]})):(p.push(i.expression),i.expression=be(e,p)),p=[]),r.push(i)}for(p.length&&!g&&r.push(c(Xi,e,{expression:be(e,p),body:[]}));i=r[r.length-1];){var W=i.body[i.body.length-1];if(me(W,n)&&i.body.pop(),i===o){if(!it(i))break}else{if(i.expression.has_side_effects(n))break;if(o){if(!it(o)||r[r.length-2]!==o)break;o.body=o.body.concat(i.body),i.body=[]}else if(!it(i))break}Ae(i),r.pop()===o&&(o=null)}if(!i)return f.push(c(je,e.expression,{body:e.expression})),p.length&&f.push(c(je,e,{body:be(e,p)})),c(Ve,e,{body:f}).optimize(n);if(i===o)for(;(i=r[r.length-2])&&!(i instanceof jr||!it(i));){var D=i.expression;if(D.has_side_effects(n)){var w=r[r.length-3];if(w&&!zt(w))break;o.body.unshift(c(je,e,{body:D}))}Ae(i),r.splice(-2,1)}if(r[0].body=f.concat(r[0].body),e.body=r,n.option("conditionals"))switch(r.length){case 1:if(!ve(r[0]))break;var D=r[0].expression,E=r[0].body.slice();return r[0]!==o&&r[0]!==g?c(Un,e,{condition:c(ae,e,{operator:"===",left:e.expression,right:D}),body:c(Ve,e,{body:E}),alternative:null}).optimize(n):(D&&E.unshift(c(je,D,{body:D})),E.unshift(c(je,e.expression,{body:e.expression})),c(Ve,e,{body:E}).optimize(n));case 2:if(!rr(o,r)||!ve(r[1]))break;var E=r[0].body.slice(),ue=E.length&&me(E[E.length-1],n);if(ue&&E.pop(),!Je(E,ve))break;var pe=r[1].body.length&&c(Ve,r[1]),bn=c(Un,e,{condition:c(ae,e,r[0]===o?{operator:"!==",left:e.expression,right:r[1].expression}:{operator:"===",left:e.expression,right:r[0].expression}),body:c(Ve,r[0],{body:E}),alternative:ue&&pe||null});return!ue&&pe&&(bn=c(Ve,e,{body:[bn,pe]})),bn.optimize(n)}return e;function me(v,U){return v instanceof Ki&&U.loopcontrol_target(v)===e}function ve(v){var U=!1,H=new on(function(x){if(U||x instanceof dn||x instanceof je)return!0;me(x,H)&&(U=!0)});return H.push(e),v.walk(H),!U}function Ae(v,U){U&&!zt(U)?U.body=U.body.concat(v.body):Qi(n,v,f)}}),t(Xt,function(e,n){if(e.body=_r(e.body,n),n.option("dead_code")){if(it(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol(function(i){return i instanceof Ui&&!He(i)},!0))){var r=[];return e.bcatch&&(Qi(n,e.bcatch,r),r.forEach(function(i){i instanceof bt&&i.definitions.forEach(function(f){var o=f.name.definition().redefined();o&&(f.name=f.name.clone(),f.name.thedef=o)})})),r.unshift(c(Ve,e).optimize(n)),e.bfinally&&r.push(c(Ve,e.bfinally).optimize(n)),c(Ve,e,{body:r}).optimize(n)}if(e.bfinally&&it(e.bfinally)){var r=c(Ve,e.bfinally).optimize(n);if(r=e.body.concat(r),!e.bcatch)return c(Ve,e,{body:r}).optimize(n);e.body=r,e.bfinally=null}}return e});function ci(e){return function(n,r){var i=!1;return this.definitions.forEach(function(f){f.value&&(i=!0),f.name.match_symbol(function(o){o instanceof yt&&r.push(c(Jn,o,{name:o,value:e(n,o)}))},!0)}),i}}qr.DEFMETHOD("remove_initializers",ci(function(e,n){return c(_t,n).optimize(e)})),cr.DEFMETHOD("remove_initializers",ci(ta)),bt.DEFMETHOD("remove_initializers",ci(ta)),gt.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(n,r){var i=r.name.definition(),f=r.value;if(f){f instanceof Xe&&(f=f.clone());var o=c(ee,r.name),g=c(Ce,r,{operator:"=",left:o,right:f});n.push(g);var p=function(){return g.right};p.assigns=[g],p.direct_access=i.direct_access,p.escaped=i.escaped,o.fixed=p,i.references.forEach(function(b){if(b.fixed){var T=b.fixed.assigns;T&&T[0]===r&&(T.length>1||b.fixed.to_binary||b.fixed.to_prefix?T[0]=g:(b.fixed=p,i.fixed===b.fixed&&(i.fixed=p)))}}),i.references.push(o)}return i.assignments++,i.eliminated++,i.single_use=!1,n},[]);return e.length==0?null:be(this,e)});function Qt(e){return e.name!="arguments"&&e.orig.length<(e.orig[0]instanceof gi?3:2)}function xr(e,n){if(e.exposed(n))return!0;for(var r=n.scope.resolve(),i=n.scope;i!==r;)if(i=i.parent_scope,i.var_names().has(n.name))return!0}function Wr(e,n){return c(bt,e,{definitions:e.definitions.map(function(r){return c(Jn,r,{name:r.name.convert_symbol(ri,function(i,f){var o=i.definition();o.orig[o.orig.indexOf(f)]=i,o.scope!==n&&(o.scope=n,n.variables.set(o.name,o),n.enclosed.push(o),n.var_names().set(o.name,!0))}),value:r.value})})})}function da(e,n){var r=n.definition();return(r.fixed||r.fixed===0)&&Qt(r)&&Ya(r)&&!xr(e,r)}function Ra(e,n){return n.option("varify")&&Je(e.definitions,function(r){return!r.name.match_symbol(function(i){if(i instanceof yt)return!da(n,i)},!0)})?Wr(e,n.find_parent(sn)):e}t(qr,Ra),t(cr,Ra);function ja(e,n){if(n.option("optional_chains")&&e.terminal)do{var r=e.expression;if(e.optional){var i=Fn(n,r,!0);if(i==null)return c(Ue,e,{operator:"void",expression:r}).optimize(n);i instanceof X||(e.optional=!1)}e=r}while((e.TYPE=="Call"||e instanceof vn)&&!e.terminal)}function tr(e,n){var r=e.expression;if(!(r instanceof Xe))return e;var i=r.expressions.slice(),f=e.clone();return f.expression=i.pop(),i.push(f),be(e,i)}function Xf(e,n,r){var i=e.expression,f=i instanceof ee?i.fixed_value():i;if(f instanceof dn&&!f.uses_arguments&&!f.pinned()&&!(r&&r.indexOf(f)<0)){var o=e.args;if(Je(o,function(ue){return!(ue instanceof Cn)})){var g=f.argnames,p=f===i&&!f.name;if(f.rest){if(!(p&&n.option("rests")))return;var b=g.length;for(o=o.slice(0,b);o.length<b;)o.push(c(_t,e).optimize(n));o.push(c(Dn,e,{elements:e.args.slice(b)})),g=g.concat(f.rest),f.rest=null}else o=o.slice(),g=g.slice();for(var T=0,w=0,D=p&&n.option("default_values"),q=p&&n.drop_fargs(f,e)?function(ue,pe){return ue?ue instanceof Et?ue.elements.length==0&&!ue.rest&&pe instanceof Dn:ue instanceof ii?ue.properties.length==0&&!ue.rest&&pe&&!pe.may_throw_on_access(n):ue.unused:!0}:zn,z=[],E=0;E<o.length;E++){var W=g[E];if(D&&W instanceof In&&o[E].is_defined(n)&&(g[E]=W=W.name),!W||W.unused!==void 0){var j=o[E].drop_side_effect_free(n);if(q(W)){W&&g.splice(E,1),o.splice(E,1),j&&z.push(j),E--;continue}else if(j)z.push(j),o[T++]=be(e,z),z=[];else if(W)if(z.length)o[T++]=be(e,z),z=[];else{o[T++]=c(mn,o[E],{value:0});continue}}else if(q(W,o[E])){var j=o[E].drop_side_effect_free(n);g.splice(E,1),o.splice(E,1),j&&z.push(j),E--;continue}else z.push(o[E]),o[T++]=be(e,z),z=[];w=T}for(;E<g.length;E++)q(g[E])&&g.splice(E--,1);if(f.argnames=g,o.length=w,e.args=o,!!z.length){var ie=be(e,z);o.push(o.length<g.length?c(Ue,e,{operator:"void",expression:ie}):ie)}}}}function Ha(e,n){n||(n=e.find_parent(sn));var r=[];return(di(n)||n instanceof kt&&e.option("module"))&&r.push("await"),Hi(n)&&r.push("yield"),r.length&&Ln(r)}function Pf(e,n){if(!n)return!0;var r=!0,i=new on(function(f){if(!r)return!0;if(f instanceof sn){if(f===e)return;if(qt(f))for(var o=0;r&&o<f.argnames.length;o++)f.argnames[o].walk(i);else f instanceof dt&&n[f.name.name]&&(r=!1);return!0}f instanceof jt&&n[f.name]&&f!==e.name&&(r=!1)});return e.walk(i),r}function ws(e,n){return e.in_strict_mode(n)||!n.has_directive("use strict")}t(hn,function(e,n){var r=e.expression,i=ja(e,n);if(i)return i;if(n.option("sequences")){if(r instanceof vn){var f=tr(r);if(f!==r){var o=e.clone();return o.expression=f.expressions.pop(),f.expressions.push(o),f.optimize(n)}}else if(!pt(r.tail_node())){var f=tr(e);if(f!==e)return f.optimize(n)}}if(n.option("unused")&&Xf(e,n),n.option("unsafe")){if(I(r))switch(r.name){case"Array":if(e.args.length==1){var g=e.args[0];if(g instanceof mn)try{var p=g.value;if(p>6)break;for(var b=Array(p),T=0;T<p;T++)b[T]=c(Gt,e);return c(Dn,e,{elements:b})}catch{X.warn("Invalid array length: {length} [{start}]",{length:p,start:e.start});break}if(!g.is_boolean(n)&&!g.is_string(n))break}return c(Dn,e,{elements:e.args});case"Object":if(e.args.length==0)return c(st,e,{properties:[]});break;case"String":if(e.args.length==0)return c(On,e,{value:""});if(e.args.length==1)return c(ae,e,{operator:"+",left:c(On,e,{value:""}),right:e.args[0]}).optimize(n);break;case"Number":if(e.args.length==0)return c(mn,e,{value:0});if(e.args.length==1)return c(Ue,e,{operator:"+",expression:c(ae,e,{operator:"+",left:c(On,e,{value:""}),right:e.args[0]})}).optimize(n);break;case"Boolean":if(e.args.length==0)return c(Cr,e).optimize(n);if(e.args.length==1)return c(Ue,e,{operator:"!",expression:c(Ue,e,{operator:"!",expression:e.args[0]})}).optimize(n);break;case"RegExp":var w=[];if(Je(e.args,function($e){var Le=$e.evaluate(n);return w.unshift(Le),$e!==Le}))try{return wr(n,e,c(Vi,e,{value:RegExp.apply(RegExp,w)}))}catch{X.warn("Error converting {this} [{start}]",e)}break}else if(r instanceof et)switch(r.property){case"toString":var D=r.expression;if(e.args.length==0&&!(D.may_throw_on_access(n)||D instanceof ha))return c(ae,e,{operator:"+",left:c(On,e,{value:""}),right:D}).optimize(n);break;case"join":if(r.expression instanceof Dn&&e.args.length<2)e:{var q=e.args[0];if(r.expression.elements.length==0&&!(q instanceof Cn))return q?be(e,[q,c(On,e,{value:""})]).optimize(n):c(On,e,{value:""});if(q&&(q=q.evaluate(n),q instanceof X))break e;for(var b=[],z=[],T=0;T<r.expression.elements.length;T++){var E=r.expression.elements[T],W=E.evaluate(n);if(W!==E)z.push(W);else{if(E instanceof Cn)break e;z.length>0&&(b.push(c(On,e,{value:z.join(q)})),z.length=0),b.push(E)}}if(z.length>0&&b.push(c(On,e,{value:z.join(q)})),b.length==1)return b[0].is_string(n)?b[0]:c(ae,b[0],{operator:"+",left:c(On,e,{value:""}),right:b[0]});if(q==""){var g;return b[0].is_string(n)||b[1].is_string(n)?g=b.shift():g=c(On,e,{value:""}),b.reduce(function(an,Se){return c(ae,Se,{operator:"+",left:an,right:Se})},g).optimize(n)}var j=e.clone();return j.expression=j.expression.clone(),j.expression.expression=j.expression.expression.clone(),j.expression.expression.elements=b,wr(n,e,j)}break;case"charAt":if(e.args.length<2){var j=c(ae,e,{operator:"||",left:c(at,e,{expression:r.expression,property:e.args.length?c(ae,e.args[0],{operator:"|",left:c(mn,e,{value:0}),right:e.args[0]}):c(mn,e,{value:0})}).optimize(n),right:c(On,e,{value:""})});return j.is_string=Qn,j.optimize(n)}break;case"apply":if(e.args.length==2&&e.args[1]instanceof Dn){var ie=e.args[1].elements.slice();return ie.unshift(e.args[0]),c(hn,e,{expression:c(et,r,{expression:r.expression,property:"call"}),args:ie}).optimize(n)}break;case"call":var ue=r.expression;if(ue instanceof ee&&(ue=ue.fixed_value()),ue instanceof dn&&!ue.contains_this())return(e.args.length?be(e,[e.args[0],c(hn,e,{expression:r.expression,args:e.args.slice(1)})]):c(hn,e,{expression:r.expression,args:[]})).optimize(n);break}else if(n.option("side_effects")&&r instanceof hn&&r.args.length==1&&I(r.expression)&&r.expression.name=="Object"){var o=e.clone();return o.expression=St(e,r,r.args[0]),o.optimize(n)}}if(n.option("unsafe_Function")&&I(r)&&r.name=="Function"){if(e.args.length==0)return c(Ot,e,{argnames:[],body:[]}).init_vars(r.scope);if(Je(e.args,function($e){return $e instanceof On}))try{var Ae="n(function("+e.args.slice(0,-1).map(function($e){return $e.value}).join()+"){"+e.args[e.args.length-1].value+"})",pe=Ia(Ae),bn={ie:n.option("ie")};pe.figure_out_scope(bn);var me=new sa(n.options);pe=pe.transform(me),pe.figure_out_scope(bn),pe.compute_char_frequency(bn),pe.mangle_names(bn);var ve;pe.walk(new on(function($e){if(ve)return!0;if($e instanceof dn)return ve=$e,!0}));var Ae=Of();return Ve.prototype._codegen.call(ve,Ae),e.args=[c(On,e,{value:ve.argnames.map(function($e){return $e.print_to_string()}).join()}),c(On,e.args[e.args.length-1],{value:Ae.get().replace(/^\{|\}$/g,"")})],e}catch($e){if($e instanceof pa)X.warn("Error parsing code passed to new Function [{start}]",e.args[e.args.length-1]),X.warn($e.toString());else throw $e}}var v=r instanceof ee?r.fixed_value():r,U=n.parent(),H=n.self(),x=v instanceof dn&&(!di(v)||n.option("awaits")&&U instanceof mt)&&(!Hi(v)||n.option("yields")&&H instanceof xi&&H.nested),R=x&&v.first_statement(),$=0,O=!1,C=!Je(e.args,function($e){return!($e instanceof Cn)}),K=x&&Je(v.argnames,function($e,Le){if($==1&&e.args[Le]instanceof Cn&&($=2),$e instanceof In){$||($=1);var an=$==1&&e.args[Le];if(si(an)||($=2),La(v,$e.value))return!1;$e=$e.name}return!($e instanceof Rn&&(O=!0,La(v,$e)))})&&!(v.rest instanceof Rn&&La(v,v.rest)),ne=K&&n.option("inline")&&!e.is_expr_pure(n)&&(r===v||ws(v,n));if(ne&&R instanceof tt){var W=R.value;if(r===v&&!v.name&&(!W||W.is_constant_expression())&&Pf(v,Ha(n)))return be(e,ln(W)).optimize(n)}if(x&&!v.contains_this()){var Z,W,Q=!1;if(ne&&!v.uses_arguments&&!v.pinned()&&!(v.name&&v instanceof xt)&&(r===v||!lf(n,Z=r.definition(),v)&&v.is_constant_expression(J(n)))&&(W=yn(R))){var B=r===v||Z.single_use&&Z.references.length-Z.replaced==1;if(qe()){var ie=e.args.slice(),Te=[],Pe=W.clone(!0).transform(new Jt(function(Se){if(Se instanceof ee){var Ze=Se.definition();if(v.variables.get(Se.name)!==Ze)return Te.push(Se),Se;var Sn=Ye(Ze),Re=ie[Sn];if(!Re)return c(_t,e);ie[Sn]=null;var Qe=this.parent();return Qe?St(Qe,Se,Re):Re}})),tn=v.inlined;r!==v&&(v.inlined=!0);var En=[];ie.forEach(function(Se){Se&&(Se=Se.clone(!0),Se.walk(new on(function(Ze){Ze instanceof ee&&Te.push(Ze)})),En.push(Se))},[]),En.push(Pe);var j=be(e,En).optimize(n);if(v.inlined=tn,j=St(U,H,j),B||ui(j,e)===j)return Te.forEach(function(Se){Se.scope=r===v?v.parent_scope:r.scope,Se.reference();var Ze=Se.definition();B&&Ze.replaced++,Ze.single_use=!1}),j;j.has_side_effects(n)||(e.drop_side_effect_free=function(Se,Ze){var Sn=this,Re=Sn.args.slice();return Re.unshift(Sn.expression),be(Sn,Re).drop_side_effect_free(Se,Ze)})}var rn,de,h,N;if(B&&wt()){v._squeezed=!0,r!==v&&(v.parent_scope=r.scope);var j=be(e,Er()).optimize(n);return St(U,H,j)}}if(n.option("side_effects")&&K&&Je(v.body,Be)&&(v===r?te(v,n):!$&&!O&&!v.rest)&&!(qt(v)&&v.value)&&Pf(v,Ha(n)))return be(e,ln()).optimize(n)}if(n.option("drop_console")&&r instanceof vn){for(var xe=r.expression;xe.expression;)xe=xe.expression;if(I(xe)&&xe.name=="console")return c(_t,e).optimize(n)}if(n.option("negate_iife")&&U instanceof je&&l(H))return e.negate(n,!0);return Ie(n,e);function he($e){return c(at,$e,{expression:c(Dn,$e,{elements:[]}),property:c(mn,$e,{value:0})})}function ln($e){var Le=e.args.slice(),an=$>1||O||v.rest;if((an||C)&&(Le=[c(Dn,e,{elements:Le})]),an){var Se=new Jt(function(Re,Qe){if(Re instanceof In)return c(In,Re,{name:Re.name.transform(Se)||he(Re),value:Re.value});if(Re instanceof Et){var oe=[];return Re.elements.forEach(function(en,Tn){en=en.transform(Se),en&&(oe[Tn]=en)}),gr(Re,oe),c(Et,Re,{elements:oe})}if(Re instanceof ii){var Ne=[],ze=[];return Re.properties.forEach(function(en){var Tn=en.key,We=en.value.transform(Se);We?(ze.length&&(Tn instanceof X||(Tn=ai(Tn,en)),ze.push(Tn),Tn=be(Re,ze),ze=[]),Ne.push(c(Ft,en,{key:Tn,value:We}))):Tn instanceof X&&ze.push(Tn)}),ze.length&&Ne.push(c(Ft,Re,{key:be(Re,ze),value:he(Re)})),c(ii,Re,{properties:Ne})}if(Re instanceof Pn)return null}),Ze=[];v.argnames.forEach(function(Re,Qe){Re=Re.transform(Se),Re&&(Ze[Qe]=Re)});var Sn=v.rest&&v.rest.transform(Se);Sn&&(Ze.length=v.argnames.length),gr(v,Ze),Le[0]=c(Ce,e,{operator:"=",left:c(Et,v,{elements:Ze,rest:Sn}),right:Le[0]})}else v.argnames.forEach(function(Re){Re instanceof In&&Le.push(Re.value)});return Le.push($e||c(_t,e)),Le}function we(){return e.call_only?c(mn,e,{value:0}):c(_t,e)}function Ke($e){if(!$e)return we();if($e instanceof tt)return $e.value||we();if($e instanceof je)return e.call_only?$e.body:c(Ue,$e,{operator:"void",expression:$e.body})}function yn($e){var Le=v.body.length;if(Le<2&&($e=Ke($e),$e))return $e;if(n.option("inline")<3)return!1;$e=null;for(var an=0;an<Le;an++){var Se=v.body[an];if(Se instanceof bt){if(Q){if(!$e)continue;if(!($e instanceof je))return!1;ot(Se)||($e=null)}else if(!ot(Se)){if($e&&!($e instanceof je))return!1;$e=null,Q=!0}}else{if(Se instanceof Ir||Se instanceof Pi||Se instanceof nt)continue;if($e)return!1;$e=Se}}return Ke($e)}function Ye($e){for(var Le=v.argnames.length;--Le>=0;)if(v.argnames[Le].definition()===$e)return Le}function qe(){if(!($||O||C||Q||v.rest)&&!(n.option("inline")<2&&v.argnames.length)&&v.variables.all(function(oe){return oe.references.length-oe.replaced<2&&oe.orig[0]instanceof Pn})){var $e=n.find_parent(sn),Le=!1,an=Ha(n,$e),Se,Ze=[],Sn=!1,Re=new on(function(oe,Ne){if(Le)return!0;if(oe instanceof ae&&ct[oe.operator]||oe instanceof _n){Ze=null;return}if(oe instanceof sn||an&&oe instanceof jt&&an[oe.name])return Le=!0;if(oe instanceof ee){var ze=oe.definition();if(v.variables.get(oe.name)!==ze){Ze=null;return}if(ze.init instanceof dt||Fi(oe,Re.parent()))return Le=!0;var en=Ye(ze);if(Se<en||(Se=en),!Ze)return;Sn?Ze=null:Ze.push(v.argnames[en]);return}if(!Sn){if(oe instanceof Ce&&oe.left instanceof vn)return oe.left.expression.walk(Re),oe.left instanceof at&&oe.left.property.walk(Re),oe.right.walk(Re),Sn=!0,!0;if(oe.has_side_effects(n))return Ne(),Sn=!0,!0}});if(W.walk(Re),!Le){var Qe=e.args.length;if(Ze&&v.argnames.length>=Qe){for(Qe=v.argnames.length;Qe-- >Se&&v.argnames[Qe]===Ze.pop(););Qe++}return Qe<=Se||Je(e.args.slice(Se,Qe),Sn&&!Ze?function(oe){return oe.is_constant_expression($e)}:function(oe){return!oe.has_side_effects(n)})}}}function Wn($e,Le){return $e.has(Le)||wn[Le]||N.var_names().has(Le)}function ht($e,Le){var an=!1;return v.each_argname(function(Se){if(!an&&!Se.unused){if(!Le||Wn($e,Se.name))return an=!0;rn.set(Se.name,!0),h&&h.push(Se.definition())}}),!an}function Vn($e,Le){for(var an=0;an<v.body.length;an++){var Se=v.body[an];if(Se instanceof dt){var Ze=Se.name;if(!Le||rn.has(Ze.name)||Wn($e,Ze.name)||!Je(Se.enclosed,function(Re){return Re.scope===N||Re.scope===Se||!$e.has(Re.name)}))return!1;h&&h.push(Ze.definition());continue}if(Se instanceof bt){if(!Le)return!1;for(var Sn=Se.definitions.length;--Sn>=0;){var Ze=Se.definitions[Sn].name;if(Wn($e,Ze.name))return!1;h&&h.push(Ze.definition())}}}return!0}function wt(){var $e=new Gn,Le=0,an;N=H;do if(N.variables&&N.variables.each(function(Sn){$e.set(Sn.name,!0)}),an=N,N=n.parent(Le++),N instanceof Rr){if(!N.static)return!1}else if(N instanceof ua)h=[];else if(N instanceof Nt){if(N.init===an)continue;h=[]}else if(N instanceof Wt){if(N.init===an||N.object===an)continue;h=[]}while(!(N instanceof sn));if(de=N.body.indexOf(an)+1,!de||!Pf(v,Ha(n,N)))return!1;var Se=(r!==v||v.parent_scope.resolve()===N)&&!N.pinned();N instanceof kt&&(n.toplevel.vars?$e.set("arguments",!0):Se=!1),rn=new Gn;var Ze=n.option("inline");return!ht($e,Ze>=2&&Se)||!Vn($e,Ze>=3&&Se)?!1:!h||h.length==0||!jf(v,h)}function Zn($e,Le,an,Se){var Ze=an.definition();if(N.var_names().has(an.name)||(N.var_names().set(an.name,!0),$e.push(c(Jn,an,{name:an,value:null}))),N.variables.set(an.name,Ze),N.enclosed.push(Ze),!!Se){var Sn=c(ee,an);Ze.assignments++,Ze.references.push(Sn),Le.push(c(Ce,e,{operator:"=",left:Sn,right:Se}))}}function vt($e,Le){for(var an=v.argnames.length,Se=e.args.length;--Se>=an;)Le.push(e.args[Se]);var Ze=[];for(Se=an;--Se>=0;){var Sn=v.argnames[Se],Re;Sn instanceof In?(Ze.push(Sn),Re=Sn.name):Re=Sn;var Qe=e.args[Se];if(Re.unused||N.var_names().has(Re.name))Qe&&Le.push(Qe);else{var oe=c(ri,Re),Ne=Re.definition();Ne.orig.push(oe),Ne.eliminated++,Re.unused!==void 0?(Zn($e,Le,oe),Qe&&Le.push(Qe)):(!Qe&&Sn===Re&&(h||Re.name=="arguments"&&!qt(v)&&qt(N))&&(Qe=c(_t,e)),Zn($e,Le,oe,Qe))}}for($e.reverse(),Le.reverse(),Se=Ze.length;--Se>=0;){var ze=Ze[Se];if(ze.name.unused!==void 0)Le.push(ze.value);else{var en=c(ee,ze.name);ze.name.definition().references.push(en),Le.push(c(Ce,ze,{operator:"=",left:en,right:ze.value}))}}}function At($e,Le){Le.push(c(Ce,e,{operator:"=",left:c(Et,e,{elements:v.argnames.map(function(Se){return Se.unused?c(Gt,Se):Se.convert_symbol(ee,an)}),rest:v.rest&&v.rest.convert_symbol(ee,an)}),right:c(Dn,e,{elements:e.args.slice()})}));function an(Se,Ze){if(Ze.unused)return he(Ze);var Sn=Ze.definition();Sn.assignments++,Sn.references.push(Se);var Re=c(ri,Ze);Sn.orig.push(Re),Sn.eliminated++,Zn($e,Le,Re)}}function li($e,Le){var an=[de,0],Se=[],Ze=[],Sn=[],Re=[],Qe=[];return v.body.filter(h?function(oe){if(!(oe instanceof dt))return!0;var Ne=c(ri,Bf(oe.name)),ze=Ne.definition();return ze.fixed=!1,ze.orig.push(Ne),ze.eliminated++,Zn($e,Ze,Ne,yi(oe,!0)),!1}:function(oe){if(!(oe instanceof dt))return!0;var Ne=oe.name.definition();return N.functions.set(Ne.name,Ne),N.variables.set(Ne.name,Ne),N.enclosed.push(Ne),N.var_names().set(Ne.name,!0),an.push(oe),!1}).forEach(function(oe){if(!(oe instanceof bt)){oe instanceof je&&Qe.push(oe.body);return}for(var Ne=0;Ne<oe.definitions.length;Ne++){var ze=oe.definitions[Ne],en=Bf(ze.name),Tn=ze.value;Tn&&Qe.length>0&&(Qe.push(Tn),Tn=be(ze,Qe),Qe=[]),Zn(Se,Sn,en,Tn),h&&(rn.has(en.name)||en.definition().orig.length==1&&v.functions.has(en.name)||Re.push(Es(n,en)))}}),[].push.apply($e,Se),[].push.apply(Le,Re),[].push.apply(Le,Ze),[].push.apply(Le,Sn),an}function Er(){var $e=[],Le=[];$>1||O||C||v.rest?At($e,Le):vt($e,Le);var an=li($e,Le);return Le.push(W),$e.length&&an.push(c(bt,v,{definitions:$e})),[].splice.apply(N.body,an),v.enclosed.forEach(function(Se){N.var_names().has(Se.name)||(N.enclosed.push(Se),N.var_names().set(Se.name,!0))}),Le}}),t(Ai,function(e,n){if(n.option("unsafe")){var r=e.expression;if(I(r))switch(r.name){case"Array":case"Error":case"Function":case"Object":case"RegExp":return c(hn,e).transform(n)}}if(n.option("sequences")){var i=tr(e);if(i!==e)return i.optimize(n)}return n.option("unused")&&Xf(e,n),e});function Zf(e,n,r,i){if(!(i instanceof ae)||!(i.operator=="&&"||i.operator=="||")||!(i.right instanceof Ce)||i.right.operator!="="||!(i.right.left instanceof ee)||i.right.left.definition()!==n||r.has_side_effects(e)||!f(i.left)||!f(i.right.right))return;return n.replaced++,i.operator=="&&"?c(_n,i,{condition:i.left,consequent:i.right.right,alternative:r}):c(_n,i,{condition:i.left,consequent:r,alternative:i.right.right});function f(o){if(!o.has_side_effects(e)){var g=!1;return o.walk(new on(function(p){if(g)return!0;if(p instanceof ee&&p.definition()===n)return g=!0})),!g}}}t(Xe,function(e,n){var r=f(),i=r.length-1;if(p(),o(),i==0)return e=St(n.parent(),n.self(),r[0]),e instanceof Xe||(e=e.optimize(n)),e;return e.expressions=r,e;function f(){if(!n.option("side_effects"))return e.expressions;var b=[],T=ka(n),w=e.expressions.length-1;return e.expressions.forEach(function(D,q){q<w&&(D=D.drop_side_effect_free(n,T)),D&&(Ht(b,D),T=!1)}),b}function o(){if(n.option("side_effects")){for(;i>0&&si(r[i],n);)i--;i<r.length-1&&(r[i]=c(Ue,e,{operator:"void",expression:r[i]}),r.length=i+1)}}function g(b){return b instanceof Ce&&b.operator=="="&&b.left instanceof ee&&b.left.definition()}function p(){for(var b=1;b<i;b++){var T=r[b-1],w=g(T);if(w){var D=r[b];if(n.option("conditionals")){var q=Zf(n,w,T.right,D);if(q){T.right=q,r.splice(b--,1),i--;continue}}n.option("dead_code")&&g(D)===w&&D.right.is_constant_expression(w.scope.resolve())&&(r[--b]=T.right)}}}}),t(Or,function(e,n){if(n.option("sequences")){var r=tr(e);if(r!==e)return r.optimize(n)}return Ie(n,e)});var Ks=Ln("+ -"),Xs=Ln("* / %");t(Ue,function(e,n){var r=e.operator,i=e.expression;if(n.option("sequences")&&T()){var f=tr(e);if(f!==e)return f.optimize(n)}switch(r){case"+":if(!n.option("evaluate")||!i.is_number(n,!0))break;var o=n.parent();if(o instanceof Ue&&o.operator=="delete")break;return i;case"-":if(i instanceof Hr&&(i=i.transform(n)),i instanceof mn||i instanceof Hr)return e;break;case"!":if(!n.option("booleans"))break;if(i.is_truthy())return be(e,[i,c(Cr,e)]).optimize(n);if(n.in_boolean_context()){if(i instanceof Ue&&i.operator=="!")return i.expression;if(i instanceof ae){var g=ka(n);e=(g?Qr:ui)(e,i.negate(n,g))}}break;case"delete":if(!n.option("evaluate")||b(i))break;return be(e,[i,c(Br,e)]).optimize(n);case"typeof":if(!n.option("booleans")||!n.in_boolean_context())break;X.warn("Boolean expression always true [{start}]",e);var p=[c(Br,e)];return i instanceof ee&&He(i,n)||p.unshift(i),be(e,p).optimize(n);case"void":if(!n.option("side_effects"))break;return i=i.drop_side_effect_free(n),i?(e.expression=i,e):c(_t,e).optimize(n)}if(n.option("evaluate")&&i instanceof ae&&Ks[r]&&Xs[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n)))return c(ae,e,{operator:i.operator,left:c(Ue,i.left,{operator:r,expression:i.left}),right:i.right});return Ie(n,e);function b(w){return w instanceof Hr||w instanceof Ca||w instanceof ff||w instanceof vn||w instanceof ee||w instanceof _t}function T(){switch(r){case"delete":return!b(i.tail_node());case"typeof":return!I(i.tail_node());default:return!0}}}),t(mt,function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var r=tr(e);if(r!==e)return r.optimize(n)}if(n.option("side_effects")){var i=e.expression;if(i instanceof mt||i instanceof Ue&&i.expression instanceof mt)return i.optimize(n);for(var f=0,o=e,g;g=n.parent(f++);o=g){if(qt(g)){if(g.value===o)return i.optimize(n)}else if(g instanceof tt){var p=!0;do if(o=g,g=n.parent(f++),g instanceof Xt&&(g.bfinally||g.bcatch)!==o){p=!1;break}while(g&&!(g instanceof sn));if(p)return i.optimize(n)}else if(g instanceof Xe&&g.tail_node()===o)continue;break}}return e}),t(xi,function(e,n){if(!n.option("yields"))return e;if(n.option("sequences")){var r=tr(e);if(r!==e)return r.optimize(n)}var i=e.expression;if(e.nested&&i.TYPE=="Call"){var f=i.clone().optimize(n);if(f.TYPE!="Call")return f}return e}),ae.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof vn){if(!(this.left.expression instanceof Xe))return this;var n=this.left.expression.expressions.slice(),r=this.clone();return r.left=r.left.clone(),r.left.expression=n.pop(),n.push(r),be(this,n)}if(this.left instanceof Xe){var n=this.left.expressions.slice(),r=this.clone();return r.left=n.pop(),n.push(r),be(this,n)}if(this.right instanceof Xe){if(this.left.has_side_effects(e))return this;for(var i=this.operator=="="&&this.left instanceof ee,n=this.right.expressions,f=n.length-1,o=0;o<f&&!(!i&&n[o].has_side_effects(e));o++);if(o==f){n=n.slice();var r=this.clone();return r.right=n.pop(),n.push(r),be(this,n)}if(o>0){var r=this.clone();return r.right=be(this.right,n.slice(o)),n=n.slice(0,o),n.push(r),be(this,n)}}return this});var Zs=Ln("indexOf lastIndexOf"),Qs=Ln("== === != !== * & | ^");function Ba(e,n){return e instanceof Ce?!n&&e.operator=="="&&Ba(e.right):e instanceof Ai?!n:e instanceof Xe?Ba(e.tail_node(),n):e instanceof ee?!n&&Ba(e.fixed_value()):e instanceof Dn||e instanceof Pt||e instanceof dn||e instanceof st}function of(e,n,r){switch(e){case"in":return Ba(n)||r&&r.option("unsafe_comps");case"instanceof":return n instanceof ee&&(n=n.fixed_value()),m(n)||r&&r.option("unsafe_comps");default:return!0}}function Si(e,n){if(n.is_constant())return!0;if(n instanceof Ce)return n.operator!="="||Si(e,n.right);if(n instanceof ae)return!ct[n.operator]||Si(e,n.left)&&Si(e,n.right);if(n instanceof hn)return di(n.expression);if(n instanceof _n)return Si(e,n.consequent)&&Si(e,n.alternative);if(n instanceof Xe)return Si(e,n.tail_node());if(n instanceof ee){var r=n.fixed_value();return r&&Si(e,r)}if(n instanceof It)return!n.tag||Rf(e,n.tag);if(n instanceof ft)return!0}function Ff(e,n){return e instanceof Ce?Hn(e.left,n)?e:e.left:e instanceof Xe?Ff(e.tail_node(),n):e instanceof Ue&&ga[e.operator]?Hn(e.expression,n)?e:e.expression:e}function cf(e,n){return n instanceof et?cf(e,n.expression):n instanceof at?cf(e,n.expression)&&cf(e,n.property):n instanceof jt?!0:!n.has_side_effects(e)}function If(e,n){var r=e.right.tail_node();if(r!==e.right){var i=e.right.expressions.slice(0,-1);i.push(r.left),r=r.clone(),r.left=be(e.right,i),e.right=r}e.left=c(ae,e,{operator:e.operator,left:e.left,right:r.left,start:e.left.start,end:r.left.end}),e.right=r.right,n?e.left=e.left.transform(n):e.operator==r.left.operator&&If(e.left)}t(ae,function(e,n){if(Qs[e.operator]&&e.right.is_constant()&&!e.left.is_constant()&&!(e.left instanceof ae&&hr[e.left.operator]>=hr[e.operator])&&ne(),n.option("sequences")){var r=e.lift_sequences(n);if(r!==e)return r.optimize(n)}if(n.option("assignments")&&ct[e.operator]){var i=Ff(e.left,n),f=e.right;if(i instanceof ee&&f instanceof Ce&&f.operator=="="&&i.equals(f.left)){i=i.clone();var o=c(Ce,e,{operator:"=",left:i,right:c(ae,e,{operator:e.operator,left:e.left,right:f.right})});i.fixed&&(i.fixed=function(){return o.right},i.fixed.assigns=[o]);var g=i.definition();return g.references.push(i),g.replaced++,o.optimize(n)}}if(n.option("comparisons"))switch(e.operator){case"===":case"!==":if(si(e.left,n)&&e.right.is_defined(n))return X.warn("Expression always defined [{start}]",e),be(e,[e.right,c(e.operator=="==="?Cr:Br,e)]).optimize(n);var p=!0;(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean(n)&&e.right.is_boolean(n)||cf(n,e.left)&&e.left.equals(e.right))&&(e.operator=e.operator.slice(0,2));case"==":case"!=":if(!p&&si(e.left,n))e.left=c($r,e.left);else if(n.option("typeofs")&&e.left instanceof On&&e.left.value=="undefined"&&e.right instanceof Ue&&e.right.operator=="typeof"){var b=e.right.expression;(b instanceof ee?b.is_declared(n):!(b instanceof vn&&n.option("ie")))&&(e.right=b,e.left=c(_t,e.left).optimize(n),e.operator.length==2&&(e.operator+="="))}else if(e.left instanceof ee&&e.right instanceof ee&&e.left.definition()===e.right.definition()&&Ba(e.left))return c(e.operator[0]=="="?Br:Cr,e).optimize(n);break;case"&&":case"||":var T=e.left;if(!(T instanceof ae)||T.operator!=(e.operator=="&&"?"!==":"===")||!(e.right instanceof ae)||T.operator!=e.right.operator)break;if(si(T.left,n)&&e.right.left instanceof $r||T.left instanceof $r&&si(e.right.left,n)){var b=T.right;if(b instanceof Ce&&b.operator=="="&&(b=b.left),b.has_side_effects(n)||!b.equals(e.right.right))break;return T.operator=T.operator.slice(0,-1),T.left=c($r,e),T}break}var w=!1,D=n.parent();if(n.option("booleans")){var i=Ff(e.left,n);if(ct[e.operator]&&!i.has_side_effects(n)){if(i.equals(e.right))return St(D,n.self(),e.left).optimize(n);rt(n,i)}w=n.in_boolean_context()}if(w)switch(e.operator){case"+":var q=e.left.evaluate(n,!0);if(q&&typeof q=="string"||(q=e.right.evaluate(n,!0))&&typeof q=="string"){X.warn("+ in boolean context always true [{start}]",e);var z=[];if(e.left.evaluate(n)instanceof X&&z.push(e.left),e.right.evaluate(n)instanceof X&&z.push(e.right),z.length<2)return z.push(c(Br,e)),be(e,z).optimize(n);e.truthy=!0}break;case"==":if(e.left instanceof On&&e.left.value==""&&e.right.is_string(n))return c(Ue,e,{operator:"!",expression:e.right}).optimize(n);break;case"!=":if(e.left instanceof On&&e.left.value==""&&e.right.is_string(n))return e.right.optimize(n);break}if(n.option("comparisons")&&e.is_boolean(n)){if(D.TYPE!="Binary"){var E=c(Ue,e,{operator:"!",expression:e.negate(n)});if(wr(n,e,E)===E)return E}switch(e.operator){case">":ne("<");break;case">=":ne("<=");break}}if(n.option("conditionals")&&ct[e.operator]){if(e.left instanceof ae&&e.operator==e.left.operator){var W=c(ae,e,{operator:e.operator,left:e.left.right,right:e.right}),j=W.transform(n);W!==j&&(e.left=e.left.left,e.right=j)}var ie=e.right.tail_node();ie instanceof ae&&e.operator==ie.operator&&If(e,n)}if(n.option("strings")&&e.operator=="+"){if(e.right instanceof On&&e.right.value==""&&e.left.is_string(n))return e.left.optimize(n);if(e.left instanceof On&&e.left.value==""&&e.right.is_string(n))return e.right.optimize(n);if(e.left instanceof ae&&e.left.operator=="+"&&e.left.left instanceof On&&e.left.left.value==""&&e.right.is_string(n)&&(e.left.right.is_constant()||!e.right.has_side_effects(n)))return e.left=e.left.right,e.optimize(n);var ie=e.right.tail_node();ie instanceof ae&&e.operator==ie.operator&&(e.left.is_string(n)&&ie.is_string(n)||ie.left.is_string(n)&&(e.left.is_constant()||!ie.right.has_side_effects(n)))&&If(e,n)}if(n.option("evaluate")){var ue=!0;switch(e.operator){case"&&":var me=Fn(n,e.left);if(me){if(!(me instanceof X))return X.warn("Condition left of && always true [{start}]",e),be(e,[e.left,e.right]).optimize(n)}else return X.warn("Condition left of && always false [{start}]",e),St(D,n.self(),e.left).optimize(n);if(e.right.evaluate(n,!0)){if((w||D.operator=="&&"&&D.left===n.self())&&!(e.right.evaluate(n)instanceof X))return X.warn("Dropping side-effect-free && [{start}]",e),e.left.optimize(n)}else{if(w&&!(e.right.evaluate(n)instanceof X))return X.warn("Boolean && always false [{start}]",e),be(e,[e.left,c(Cr,e)]).optimize(n);e.falsy=!0}if(e.left.operator=="||"){var pe=Fn(n,e.left.right);if(!pe)return c(_n,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(n)}break;case"??":var bn=!0;case"||":var me=Fn(n,e.left,bn);if(bn?me==null:!me)return X.warn("Condition left of {operator} always {value} [{start}]",{operator:e.operator,value:bn?"nullish":"false",start:e.start}),be(e,[e.left,e.right]).optimize(n);if(!(me instanceof X))return X.warn("Condition left of {operator} always {value} [{start}]",{operator:e.operator,value:bn?"defined":"true",start:e.start}),St(D,n.self(),e.left).optimize(n);var ve;if(!bn&&(ve=e.right.evaluate(n,!0))&&!(ve instanceof X)){if(w&&!(e.right.evaluate(n)instanceof X))return X.warn("Boolean || always true [{start}]",e),be(e,[e.left,c(Br,e)]).optimize(n);e.truthy=!0}else if((w||D.operator=="||"&&D.left===n.self())&&!e.right.evaluate(n))return X.warn("Dropping side-effect-free {operator} [{start}]",e),e.left.optimize(n);if(!bn&&e.left.operator=="&&"){var pe=Fn(n,e.left.right);if(pe&&!(pe instanceof X))return c(_n,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(n)}break;case"+":if(e.left instanceof ut&&e.right instanceof ae&&e.right.operator=="+"&&e.right.left instanceof ut&&e.right.is_string(n)&&(e=c(ae,e,{operator:"+",left:c(On,e.left,{value:""+e.left.value+e.right.left.value,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof ut&&e.left instanceof ae&&e.left.operator=="+"&&e.left.right instanceof ut&&e.left.is_string(n)&&(e=c(ae,e,{operator:"+",left:e.left.left,right:c(On,e.right,{value:""+e.left.right.value+e.right.value,start:e.left.right.start,end:e.right.end})})),e.right instanceof Ue&&e.right.operator=="-"&&e.left.is_number(n)){e=c(ae,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof Ue&&e.left.operator=="-"&&K()&&e.right.is_number(n)){e=c(ae,e,{operator:"-",left:e.right,right:e.left.expression});break}if(n.option("unsafe_math")&&e.left instanceof ae&&hr[e.left.operator]==hr[e.operator]&&e.right.is_constant()&&(e.right.is_boolean(n)||e.right.is_number(n))&&e.left.is_number(n)&&!e.left.right.is_constant()&&(e.left.left.is_boolean(n)||e.left.left.is_number(n))){e=c(ae,e,{operator:e.left.operator,left:c(ae,e,{operator:e.operator,left:e.right,right:e.left.left}),right:e.left.right});break}case"-":if(e.right instanceof Ue&&e.right.operator=="-"&&e.left.is_number(n)&&e.right.expression.is_number(n)){e=c(ae,e,{operator:"+",left:e.left,right:e.right.expression});break}case"*":case"/":ue=n.option("unsafe_math"),e.operator!="+"&&["left","right"].forEach(function(Z){var Q=e[Z];if(Q instanceof Ue&&Q.operator=="+"){var B=Q.expression;(B.is_boolean(n)||B.is_number(n)||B.is_string(n))&&(e[Z]=B)}});case"&":case"|":case"^":if(e.operator!="-"&&e.operator!="/"&&(e.left.is_boolean(n)||e.left.is_number(n))&&(e.right.is_boolean(n)||e.right.is_number(n))&&K()&&!(e.left instanceof ae&&e.left.operator!=e.operator&&hr[e.left.operator]>=hr[e.operator])&&(e=wr(n,e,c(ae,e,{operator:e.operator,left:e.right,right:e.left}),e.right instanceof ut&&!(e.left instanceof ut))),!ue||!e.is_number(n))break;if(e.right instanceof ae&&e.right.operator!="%"&&hr[e.right.operator]==hr[e.operator]&&e.right.is_number(n)&&(e.operator!="+"||e.right.left.is_boolean(n)||e.right.left.is_number(n))&&(e.operator!="-"||!e.left.is_negative_zero())&&(e.right.left.is_constant_expression()||!e.right.right.has_side_effects(n))&&!x(e.right.right)&&(e=c(ae,e,{operator:R(e.operator,e.right.operator),left:c(ae,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right}),e.operator=="+"&&!e.right.is_boolean(n)&&!e.right.is_number(n)&&(e.right=c(Ue,e.right,{operator:"+",expression:e.right}))),e.right instanceof ut&&e.left instanceof ae&&e.left.operator!="%"&&hr[e.left.operator]==hr[e.operator]&&e.left.is_number(n)){if(e.left.left instanceof ut){var i=$(e.operator,e.left.left,e.right,{start:e.left.left.start,end:e.right.end});e=$(e.left.operator,Ie(n,i),e.left.right,e)}else if(e.left.right instanceof ut){var Ae=R(e.left.operator,e.operator),ie=Ie(n,$(Ae,e.left.right,e.right,e.left));ie.is_constant()&&!(e.left.operator=="-"&&e.right.value!=0&&+ie.value==0&&e.left.left.is_negative_zero())&&(e=$(e.left.operator,e.left.left,ie,e))}}break;case"instanceof":if(m(e.right))return be(e,[e,c(Cr,e)]).optimize(n);break}if(!(D instanceof Ue&&D.operator=="delete")){if(e.left instanceof mn&&!e.right.is_constant())switch(e.operator){case"+":if(e.left.value==0){if(e.right.is_boolean(n))return c(Ue,e,{operator:"+",expression:e.right}).optimize(n);if(e.right.is_number(n)&&!e.right.is_negative_zero())return e.right}break;case"*":if(e.left.value==1)return c(Ue,e,{operator:"+",expression:e.right}).optimize(n);break}if(e.right instanceof mn&&!e.left.is_constant())switch(e.operator){case"+":if(e.right.value==0){if(e.left.is_boolean(n))return c(Ue,e,{operator:"+",expression:e.left}).optimize(n);if(e.left.is_number(n)&&!e.left.is_negative_zero())return e.left}break;case"-":if(e.right.value==0)return c(Ue,e,{operator:"+",expression:e.left}).optimize(n);break;case"/":if(e.right.value==1)return c(Ue,e,{operator:"+",expression:e.left}).optimize(n);break}}}if(n.option("typeofs"))switch(e.operator){case"&&":Nn(e.left,e.right,null);break;case"||":Nn(e.left,null,e.right);break}if(n.option("unsafe")){var v=O(e.right);if(w&&v&&(e.operator=="=="||e.operator=="!=")&&e.left instanceof mn&&e.left.value==0)return(e.operator=="=="?c(Ue,e,{operator:"!",expression:e.right}):e.right).optimize(n);var U=O(e.left);if(n.option("comparisons")&&C()){var H=c(Ue,e,{operator:"!",expression:c(Ue,e,{operator:"~",expression:U?e.left:e.right})});switch(e.operator){case"<":if(U)break;case"<=":case"!=":H=c(Ue,e,{operator:"!",expression:H});break}return H.optimize(n)}}return Ie(n,e);function x(Z){var Q=!1;return Z.walk(new on(function(B){if(Q)return!0;if(B instanceof Ce){if(B.left instanceof vn)return Q=!0}else if(B instanceof ft&&ba[B.operator]&&B.expression instanceof vn)return Q=!0})),Q}function R(Z,Q){switch(Z){case"-":return Q=="+"?"-":"+";case"/":return Q=="*"?"/":"*";default:return Q}}function $(Z,Q,B,Te){return Z=="+"&&(!Q.is_boolean(n)&&!Q.is_number(n)&&(Q=c(Ue,Q,{operator:"+",expression:Q})),!B.is_boolean(n)&&!B.is_number(n)&&(B=c(Ue,B,{operator:"+",expression:B}))),c(ae,Te,{operator:Z,left:Q,right:B})}function O(Z){return Z.TYPE=="Call"&&Z.expression instanceof et&&Zs[Z.expression.property]}function C(){switch(e.operator){case"<=":return v&&e.left instanceof mn&&e.left.value==0;case"<":if(U&&e.right instanceof mn&&e.right.value==0)return!0;case"==":case"!=":return v?e.left instanceof mn&&e.left.value==-1||e.left instanceof Ue&&e.left.operator=="-"&&e.left.expression instanceof mn&&e.left.expression.value==1:!1}}function K(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function ne(Z){if(K()){Z&&(e.operator=Z);var Q=e.left;e.left=e.right,e.right=Q}}}),t(za,function(e){return e});function lf(e,n,r){var i=0,f=e.self();do if(f===r||m(f)&&f.name&&f.name.definition()===n)return f;while(f=e.parent(i++))}function Ya(e){var n=e.scope.resolve();return Je(e.references,function(r){return n===r.scope.resolve()})}t(ee,function(e,n){if(!n.option("ie")&&I(e)&&!(e.scope.resolve().uses_with&&n.find_parent(br)))switch(e.name){case"undefined":return c(_t,e).optimize(n);case"NaN":return c(Ca,e).optimize(n);case"Infinity":return c(Hr,e).optimize(n)}var r=n.parent();if(n.option("reduce_vars")&&Fi(n.self(),r)!==n.self()){var i=e.definition(),f=e.fixed_value(),o=i.single_use&&!(r instanceof hn&&r.is_expr_pure(n));if(o)if(m(f)){if((i.scope!==e.scope.resolve(!0)||i.in_loop)&&(!n.option("reduce_funcs")||i.escaped.depth==1||f.inlined))o=!1;else if(i.redefined())o=!1;else if(lf(n,i,f))o=!1;else if(f.name&&f.name.definition()!==i)o=!1;else if(f.parent_scope!==e.scope||mr(i)){if(!ws(f,n))o=!1;else if((o=f.is_constant_expression(e.scope))=="f"){var g=e.scope;do(g instanceof dt||g instanceof xt)&&(g.inlined=!0);while(g=g.parent_scope)}}else(f.name&&(f.name.name=="await"&&di(f)||f.name.name=="yield"&&Hi(f))||f.has_side_effects(n)||n.option("ie")&&f instanceof Pt)&&(o=!1);o&&(f.parent_scope=e.scope)}else(!f||i.recursive_refs>0||!f.is_constant_expression()||f.drop_side_effect_free(n))&&(o=!1);if(o){if(i.single_use=!1,f._squeezed=!0,f.single_use=!0,f instanceof mi&&(f=oi(f)),f instanceof dt&&(f=yi(f)),m(f)){var p=[],g=e.scope;do if(p.push(g),g===i.scope)break;while(g=g.parent_scope);f.enclosed.forEach(function(Ae){if(!f.variables.has(Ae.name))for(var v=0;v<p.length;v++){var U=p[v];if(!zi(U.enclosed,Ae))return;U.var_names().set(Ae.name,!0)}})}var b;if(i.recursive_refs>0){b=f.clone(!0);var T=b.name.definition(),w=b.variables.get(b.name.name),D=w&&w.orig[0],q,z;b instanceof Pt?(q="def_function",z=qa):(q="def_variable",z=gi),D instanceof z||(D=c(z,b.name),D.scope=b,b.name=D,w=b[q](D),w.recursive_refs=i.recursive_refs),b.walk(new on(function(ve){if(ve instanceof yt){if(ve!==D){var Ae=ve.definition();Ae.orig.push(ve),Ae.eliminated++}return}if(ve instanceof ee){var Ae=ve.definition();if(Ae===T)ve.thedef=Ae=w;else{Ae.single_use=!1;var v=ve.fixed_value();m(v)&&v.name&&v.name.definition()===Ae&&Ae.scope===v.name.scope&&f.variables.get(v.name.name)===Ae&&(v.name=v.name.clone(),ve.thedef=Ae=b.variables.get(v.name.name)||b[q](v.name))}Ae.references.push(ve)}}))}else f instanceof sn?(n.push(f),b=f.optimize(n),n.pop()):b=f.optimize(n),b=b.transform(new Jt(function(ve,Ae){return ve instanceof sn||(ve=ve.clone(),Ae(ve,this)),ve}));return i.replaced++,b}var E;if(f&&(E=e.fixed||i.fixed).should_replace!==!1){var W,j;if(f instanceof $a?!mr(i)&&Ya(i)&&!bn(i)&&(j=f):(W=f.evaluate(n,!0))!==f&&typeof W!="function"&&(W===null||typeof W!="object"||n.option("unsafe_regexp")&&W instanceof RegExp&&!i.cross_loop&&Ya(i))&&(j=ai(W,f)),j){if(E.should_replace===void 0){var ie=j.optimize(n).print_to_string().length;me(f)||(ie=Math.min(ie,f.print_to_string().length));var ue=i.name.length;if(n.option("unused")&&!n.exposed(i)){var pe=i.references.length-i.replaced-i.assignments;pe=Math.min(pe,i.references.filter(function(ve){return ve.fixed===E}).length),ue+=(ue+2+ie)/Math.max(1,pe)}E.should_replace=ie-Math.floor(ue)<n.eval_threshold}if(E.should_replace){var b;return me(f)?(b=j.optimize(n),b===j&&(b=b.clone(!0))):(b=ui(j.optimize(n),f),(b===j||b===f)&&(b=b.clone(!0))),i.replaced++,b}}}}return e;function bn(ve){for(var Ae=e.scope;Ae!==ve.scope;){if(Ae instanceof Pt)return!0;Ae=Ae.parent_scope}}function me(ve){var Ae;return ve.walk(new on(function(v){if(v instanceof ee&&(Ae=!0),Ae)return!0})),Ae}});function Rf(e,n){return e.option("unsafe")&&n instanceof et&&n.property=="raw"&&I(n.expression)&&n.expression.name=="String"}function Qf(e){var n=!1;if(e=e.replace(/\\(u\{[^{}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,function(r,i){var f=hs(i);if(typeof f=="string")return f;n=!0}),!n)return e}t(It,function(e,n){if(!n.option("templates"))return e;var r=e.tag;if(!r||Rf(n,r)){for(var i=[],f=[],o=0,g;o<e.strings.length;o++){var p=e.strings[o];if(!r){var b=Qf(p);b&&(p=W(b))}if(o>0){var T=e.expressions[o-1],w=j(T);if(w){var D=f[f.length-1],q=D+w+p,z;if(r||typeof(z=Qf(q))==g){f[f.length-1]=z?W(z):q;continue}}i.push(T)}f.push(p),r||(g=typeof b)}if(!r&&f.length>1){if(f[f.length-1]=="")return c(ae,e,{operator:"+",left:c(It,e,{expressions:i.slice(0,-1),strings:f.slice(0,-1)}).transform(n),right:i[i.length-1]}).optimize(n);if(f[0]==""){for(var E=c(ae,e,{operator:"+",left:c(On,e,{value:""}),right:i[0]}),o=1;f[o]==""&&o<i.length;o++)E=c(ae,e,{operator:"+",left:E,right:i[o]});return wr(n,e,c(ae,e,{operator:"+",left:E.transform(n),right:c(It,e,{expressions:i.slice(o),strings:f.slice(o)}).transform(n)}).optimize(n))}}e.expressions=i,e.strings=f}return Ie(n,e);function W(ie){return ie.replace(/\r|\\|`|\${/g,function(ue){return"\\"+(ue=="\r"?"r":ue)})}function j(ie){var ue=ie.evaluate(n);if(ue!==ie&&!(r&&/\r|\\|`/.test(ue))&&(ue=W(""+ue),!(ue.length>ie.print_to_string().length+3)))return ue}});function es(e,n){return e instanceof ee||e.TYPE===n.TYPE}t(_t,function(e,n){if(n.option("unsafe_undefined")){var r=J(n).find_variable("undefined");if(r){var i=c(ee,e,{name:"undefined",scope:r.scope,thedef:r});return i.is_undefined=!0,i}}var f=Fi(n.self(),n.parent());return f&&es(f,e)?e:c(Ue,e,{operator:"void",expression:c(mn,e,{value:0})})}),t(Hr,function(e,n){var r=Fi(n.self(),n.parent());return r&&es(r,e)||n.option("keep_infinity")&&!r&&!J(n).find_variable("Infinity")?e:c(ae,e,{operator:"/",left:c(mn,e,{value:1}),right:c(mn,e,{value:0})})}),t(Ca,function(e,n){var r=Fi(n.self(),n.parent());return r&&es(r,e)||!r&&!J(n).find_variable("NaN")?e:c(ae,e,{operator:"/",left:c(mn,e,{value:0}),right:c(mn,e,{value:0})})});function jf(e,n){var r=!1,i=new on(function(o){if(r)return!0;if(o instanceof ee&&rr(o.definition(),n))return r=!0}),f=new on(function(o){if(r)return!0;if(o instanceof dn&&o!==e){if(!(o.name||di(o)||Hi(o))){var g=f.parent();if(g instanceof hn&&g.expression===o)return}return o.walk(i),!0}});return e.walk(f),r}var eu=Ln("+ - * / % >> << >>> | ^ &"),nu=Ln("* | ^ &");t(Ce,function(e,n){if(n.option("dead_code")){if(e.left instanceof vn){if(e.operator=="="){if(e.redundant){var r=[e.left.expression];return e.left instanceof at&&r.push(e.left.property),r.push(e.right),be(e,r).optimize(n)}if(e.left.equals(e.right)&&!e.left.has_side_effects(n))return e.right;var i=e.left.expression;if(i instanceof dn||!n.has_directive("use strict")&&i instanceof ut&&!i.may_throw_on_access(n))return e.left instanceof et?e.right:be(e,[e.left.property,e.right]).optimize(n)}}else if(e.left instanceof ee&&He(e.left,n)){var f;if(e.operator=="="&&e.left.equals(e.right)&&!((f=n.parent())instanceof Ue&&f.operator=="delete"))return e.right;if(e.left.is_immutable())return ie();var o=e.left.definition(),g=o.scope.resolve(),p=g===n.find_parent(dn),b=0,T;if(f=n.self(),!(g.uses_arguments&&mr(o))||n.has_directive("use strict"))do{if(T=f,f=n.parent(b++),f instanceof Ce){if(f.left instanceof ee&&f.left.definition()===o){if(W(b,f,!p))break;return ie(o)}if(f.left.match_symbol(function(ue){if(ue instanceof vn)return!0}))break;continue}if(f instanceof Vt){if(!p||W(b,f)||jf(g,[o]))break;return ie(o)}if(f instanceof je){if(!p||jf(g,[o]))break;var w;do if(w=f,f=n.parent(b++),f===g&&Ei(f.body,w))return ie(o);while(E(w,f));break}if(f instanceof Jn){if(!(f.name instanceof yt)||f.name.definition()!==o)continue;if(W(b,f))break;return ie(o)}}while(z(T,f))}}if(n.option("sequences")){var D=e.lift_sequences(n);if(D!==e)return D.optimize(n)}if(n.option("assignments")){if(e.operator=="="&&e.left instanceof ee&&e.right instanceof ae){if(e.right.left instanceof ee&&e.right.left.name==e.left.name&&eu[e.right.operator])return j(e.right.right);if(e.right.right instanceof ee&&e.right.right.name==e.left.name&&nu[e.right.operator]&&!e.right.left.has_side_effects(n))return j(e.right.left)}if((e.operator=="-="||e.operator=="+="&&(e.left.is_boolean(n)||e.left.is_number(n)))&&e.right instanceof mn&&e.right.value==1){var q=e.operator.slice(0,-1);return c(Ue,e,{operator:q+q,expression:e.left})}}return Ie(n,e);function z(ue,pe){if(pe instanceof ae)switch(ue){case pe.left:return pe.right.is_constant_expression(g);case pe.right:return!0;default:return!1}if(pe instanceof _n)switch(ue){case pe.condition:return pe.consequent.is_constant_expression(g)&&pe.alternative.is_constant_expression(g);case pe.consequent:case pe.alternative:return!0;default:return!1}if(pe instanceof Xe){var bn=pe.expressions,me=bn.indexOf(ue);if(me<0)return!1;for(var ve=bn.length;--ve>me;)if(!bn[ve].is_constant_expression(g))return!1;return!0}return pe instanceof Ue}function E(ue,pe){if(pe instanceof Ve||pe instanceof Li||pe instanceof ra)return Ei(pe.body,ue);if(pe instanceof Un)return pe.body===ue||pe.alternative===ue;if(pe instanceof Xt)return pe.bfinally?pe.bfinally===ue:pe.bcatch===ue}function W(ue,pe,bn){var me=e.right;e.right=c($r,me);var ve=pe.may_throw(n);return e.right=me,ce(n,ue,pe,g,ve,bn)}function j(ue){var pe=e.left.fixed;return pe&&(pe.to_binary=re(function(bn){return bn.left},pe)),c(Ce,e,{operator:e.right.operator+"=",left:e.left,right:ue})}function ie(ue){return ue&&(ue.fixed=!1),(e.operator!="="?c(ae,e,{operator:e.operator.slice(0,-1),left:e.left,right:e.right}):St(n.parent(),e,e.right)).optimize(n)}}),t(_n,function(e,n){if(n.option("sequences")&&e.condition instanceof Xe){var r=e.condition.expressions.slice(),i=e.clone();return i.condition=r.pop(),r.push(i),be(e,r).optimize(n)}if(!n.option("conditionals"))return e;var f=e.condition;if(n.option("booleans")&&!f.has_side_effects(n)&&rt(n,f),f=Fn(n,f),f){if(!(f instanceof X))return X.warn("Condition always true [{start}]",e),be(e,[e.condition,e.consequent]).optimize(n)}else return X.warn("Condition always false [{start}]",e),be(e,[e.condition,e.alternative]).optimize(n);var o=ka(n),g=f.negate(n,o);(o?Qr:ui)(f,g)===g&&(e=c(_n,e,{condition:g,consequent:e.alternative,alternative:e.consequent}),g=f,f=e.condition);var p=e.consequent,b=e.alternative,T=Ff(f,n);if(cf(n,T)){if(T.equals(p))return c(ae,e,{operator:"||",left:f,right:b}).optimize(n);if(T.equals(b))return c(ae,e,{operator:"&&",left:f,right:p}).optimize(n)}var w=p.tail_node();if(w instanceof Ce){var D=w.operator=="=",q=D?b.tail_node():b;if((D||p===w)&&q instanceof Ce&&w.operator==q.operator&&w.left.equals(q.left)&&(D&&w.left instanceof ee||!f.has_side_effects(n)&&v(p)&&v(b)))return c(Ce,e,{operator:w.operator,left:w.left,right:c(_n,e,{condition:f,consequent:U(p),alternative:U(b)})})}var q=b.tail_node();if(w.equals(q))return be(e,p.equals(b)?[f,p]:[c(_n,e,{condition:f,consequent:H(p),alternative:H(b)}),q]).optimize(n);var z=Ae(p,b,!0);if(z)return z;var E;if(p instanceof hn&&b.TYPE==p.TYPE&&(E=bn(p,b))>=0&&p.expression.equals(b.expression)&&!f.has_side_effects(n)&&!p.expression.has_side_effects(n)){var i=p.clone(),W=p.args[E];return i.args[E]=W instanceof Cn?c(Cn,e,{expression:c(_n,e,{condition:f,consequent:W.expression,alternative:b.args[E].expression})}):c(_n,e,{condition:f,consequent:W,alternative:b.args[E]}),i}if(w instanceof _n&&w.alternative.equals(b))return c(_n,e,{condition:c(ae,e,{left:f,operator:"&&",right:me(p,w,"condition")}),consequent:w.consequent,alternative:Bn(w.alternative,b)});if(w instanceof _n&&w.consequent.equals(b))return c(_n,e,{condition:c(ae,e,{left:g,operator:"||",right:me(p,w,"condition")}),consequent:Bn(w.consequent,b),alternative:w.alternative});if(q instanceof _n&&p.equals(q.consequent))return c(_n,e,{condition:c(ae,e,{left:f,operator:"||",right:me(b,q,"condition")}),consequent:Bn(p,q.consequent),alternative:q.alternative});if(q instanceof _n&&p.equals(q.alternative))return c(_n,e,{condition:c(ae,e,{left:g,operator:"&&",right:me(b,q,"condition")}),consequent:q.consequent,alternative:Bn(p,q.alternative)});if(w instanceof ae&&w.operator=="&&"&&w.right.equals(b))return c(ae,e,{operator:"&&",left:c(ae,e,{operator:"||",left:g,right:me(p,w,"left")}),right:Bn(w.right,b)}).optimize(n);if(w instanceof ae&&w.operator=="||"&&w.right.equals(b))return c(ae,e,{operator:"||",left:c(ae,e,{operator:"&&",left:f,right:me(p,w,"left")}),right:Bn(w.right,b)}).optimize(n);if(q instanceof ae&&q.operator=="&&"&&q.right.equals(p))return c(ae,e,{operator:"&&",left:c(ae,e,{operator:"||",left:f,right:me(b,q,"left")}),right:Bn(p,q.right)}).optimize(n);if(q instanceof ae&&q.operator=="||"&&q.right.equals(p))return c(ae,e,{operator:"||",left:c(ae,e,{operator:"&&",left:g,right:me(b,q,"left")}),right:Bn(p,q.right)}).optimize(n);var j=n.option("booleans")&&n.in_boolean_context();if(ue(p))return pe(b)?ie(f):c(ae,e,{operator:"||",left:ie(f),right:b}).optimize(n);if(pe(p))return ue(b)?ie(f.negate(n)):c(ae,e,{operator:"&&",left:ie(f.negate(n)),right:b}).optimize(n);if(ue(b))return c(ae,e,{operator:"||",left:ie(f.negate(n)),right:p}).optimize(n);if(pe(b))return c(ae,e,{operator:"&&",left:ie(f),right:p}).optimize(n);return n.option("typeofs")&&Nn(f,p,b),e;function ie(x){return x.is_boolean(n)?x:c(Ue,x,{operator:"!",expression:x.negate(n)})}function ue(x){return x instanceof Br||j&&x instanceof ut&&x.value||x instanceof Ue&&x.operator=="!"&&x.expression instanceof ut&&!x.expression.value}function pe(x){return x instanceof Cr||j&&(x instanceof ut&&!x.value||x instanceof Ue&&x.operator=="void"&&!x.expression.has_side_effects(n))||x instanceof Ue&&x.operator=="!"&&x.expression instanceof ut&&x.expression.value}function bn(x,R){var $=x.args,O=R.args,C=$.length;if(C!=O.length)return-2;for(var K=0;K<C;K++)if(!$[K].equals(O[K])){if($[K]instanceof Cn!=O[K]instanceof Cn)return-3;for(var ne=K+1;ne<C;ne++)if(!$[ne].equals(O[ne]))return-2;return K}return-1}function me(x,R,$){if(x===R)return R[$];var O=x.expressions.slice(0,-1);return O.push(R[$]),be(x,O)}function ve(x,R){if(x.TYPE==R.TYPE&&x.optional==R.optional){if(x instanceof hn)return bn(x,R)!=-1?void 0:x.TYPE!="Call"||!(x.expression instanceof vn||R.expression instanceof vn)||ve(x.expression,R.expression);if(x instanceof vn){var $=x.property,O=R.property;return($ instanceof X?$.equals(O):$==O)&&!(x.expression instanceof ha||R.expression instanceof ha)}}}function Ae(x,R,$){var O=x.tail_node(),C=R.tail_node();if(!ve(O,C))return!$&&c(_n,e,{condition:f,consequent:x,alternative:R});var K=O.clone(),ne=me(x,O,"expression"),Z=me(R,C,"expression"),Q=Ae(ne,Z);return O.expression instanceof Xe&&(Q=St(O,O.expression,Q)),K.expression=Q,K}function v(x){return x===x.tail_node()||Je(x.expressions.slice(0,-1),function(R){return!R.has_side_effects(n)})}function U(x){if(!(x instanceof Xe))return x.right;var R=x.expressions.slice();return R.push(R.pop().right),be(x,R)}function H(x){return x instanceof Xe?be(x,x.expressions.slice(0,-1)):c(mn,x,{value:0})}}),t(Na,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return c(mn,e,{value:+e.value});var r=n.parent();return r instanceof ae&&(r.operator=="=="||r.operator=="!=")?(X.warn("Non-strict equality against boolean: {operator} {value} [{start}]",{operator:r.operator,value:e.value,start:r.start}),c(mn,e,{value:+e.value})):c(Ue,e,{operator:"!",expression:c(mn,e,{value:1-e.value})})}),t(Cn,function(e,n){var r=e.expression;return n.option("spreads")&&r instanceof Dn&&!(n.parent()instanceof st)?Dt.splice(r.elements.map(function(i){return i instanceof Gt?c(_t,i).optimize(n):i})):e});function ks(e,n){if(!e)return!1;var r=n.parent();return r.TYPE!="Call"||r.expression!==n.self()?!0:e instanceof ee&&(e=e.fixed_value(),!e)?!1:e instanceof dn&&!e.contains_this()}t(at,function(e,n){var r=e.expression,i=e.property,f=ja(e,n);if(f)return f;if(n.option("properties")){var o=i.evaluate(n);if(o!==i){if(typeof o=="string")if(o=="undefined")o=void 0;else{var g=parseFloat(o);g.toString()==o&&(o=g)}i=e.property=ui(i,ai(o,i).transform(n));var p=""+o;if(Fa(p)&&p.length<=i.print_to_string().length+1)return c(et,e,{optional:e.optional,expression:r,property:p,quoted:!0}).optimize(n)}}var b=n.parent(),T=Fi(n.self(),b),w,D,q,z;if(n.option("arguments")&&r instanceof ee&&G(w=r.definition())&&!r.in_arg&&i instanceof mn&&Math.floor(z=i.value)==z&&(D=w.scope)===U()&&D.uses_arguments<(T?2:3)){b instanceof Ue&&b.operator=="delete"&&(w.deleted||(w.deleted=[]),w.deleted[z]=!0);var E=D.argnames[z];if(w.deleted&&w.deleted[z])E=null;else if(E){var W;(!(E instanceof Pn)||E.name=="await"||r.scope.find_variable(E.name)!==(W=E.definition())||(n.has_directive("use strict")||D.name||D.rest||!(q instanceof hn&&z<q.args.length&&Je(q.args.slice(0,z+1),function(x){return!(x instanceof Cn)}))||!Je(D.argnames,function(x){return x instanceof Pn}))&&(H()||W.assignments||W.orig.length>1))&&(E=null)}else if((T||!H())&&z<D.argnames.length+5&&n.drop_fargs(D,q)&&!D.rest)for(;z>=D.argnames.length;)E=D.make_var(Pn,D,"argument_"+D.argnames.length),D.argnames.push(E);if(E&&pf(function(x){return x.name===E.name},D.argnames)===E){T&&w.reassigned--;var j=c(ee,E);return j.reference(),E.unused=void 0,j}}if(T)return e;if(n.option("sequences")&&b.TYPE!="Call"&&!(b instanceof Wt&&b.init===e)){var ie=tr(e);if(ie!==e)return ie.optimize(n)}if(o!==i){var ue=e.flatten_object(p,n);ue&&(r=e.expression=ue.expression,i=e.property=ue.property)}var pe;if(n.option("properties")&&n.option("side_effects")&&i instanceof mn&&r instanceof Dn&&Je(pe=r.elements,function(x){return!(x instanceof Cn)})){var z=i.value,bn=pe[z];if(ks(bn,n)){for(var me=bn instanceof Gt,ve=!me,Ae=[],v=pe.length;--v>z;){var g=pe[v].drop_side_effect_free(n);g&&(Ae.unshift(g),ve&&g.has_side_effects(n)&&(ve=!1))}for(ve||Ae.unshift(bn);--v>=0;){var g=pe[v].drop_side_effect_free(n);g?Ae.unshift(g):me?Ae.unshift(c(Gt,pe[v])):z--}return ve?(Ae.push(bn),be(e,Ae).optimize(n)):c(at,e,{expression:c(Dn,r,{elements:Ae}),property:c(mn,i,{value:z})})}}return Ie(n,e);function U(){for(var x=0,R;R=n.parent(x++);)if(R instanceof dn){if(R instanceof ji)return;if(qt(R))continue;return q=n.parent(x),R}}function H(){return!n.option("reduce_vars")||w.reassigned}}),xt.DEFMETHOD("contains_super",function(){var e=!1,n=this;return n.walk(new on(function(r){if(e)return!0;if(r instanceof ha)return e=!0;if(r!==n&&r instanceof sn&&!qt(r))return!0})),e}),function(e){e(Bi,zn),e(fr,zn),e(X,function(){var n=!1,r=this;return r.walk(new on(function(i){if(n)return!0;if(i instanceof $a)return n=!0;if(i!==r&&i instanceof sn&&!qt(i))return!0})),n})}(function(e,n){e.DEFMETHOD("contains_this",n)});function Hf(e){return e instanceof Zt&&typeof e.key=="string"&&!(e instanceof Mr&&e.value.contains_super())}vn.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")&&e!=="__proto__"){var r=this,i=r.expression;if(i instanceof st)for(var f=i.properties,o=f.length;--o>=0;){var g=f[o];if(g.key===e){if(!Je(f,Hf)||!ks(g.value,n))return;for(var p,b,T=[],w=0;w<f.length;w++){var D=f[w].value;if(f[w]instanceof Mr){var q=!(D.uses_arguments||Hi(D)||D.contains_this());if(q){b||(b=n.find_parent(sn));var z=Ha(n,b);D.each_argname(function(W){z[W.name]&&(q=!1)})}var E;if(q)E=di(D)?fr:Bi;else if(o!=w||(p=n.parent())instanceof hn&&p.expression===r)E=D.CTOR;else return;D=c(E,D)}T.push(D)}return c(at,r,{expression:c(Dn,i,{elements:T}),property:c(mn,r,{value:o})})}}}}),t(et,function(e,n){(e.property=="arguments"||e.property=="caller")&&X.warn("Function.prototype.{property} not supported [{start}]",e);var r=n.parent();if(Fi(n.self(),r))return e;var i=ja(e,n);if(i)return i;if(n.option("sequences")&&r.TYPE!="Call"&&!(r instanceof Wt&&r.init===e)){var f=tr(e);if(f!==e)return f.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof et&&e.expression.property=="prototype"){var o=e.expression.expression;if(I(o))switch(o.name){case"Array":e.expression=c(Dn,e.expression,{elements:[]});break;case"Function":e.expression=c(Ot,e.expression,{argnames:[],body:[]}).init_vars(o.scope);break;case"Number":e.expression=c(mn,e.expression,{value:0});break;case"Object":e.expression=c(st,e.expression,{properties:[]});break;case"RegExp":e.expression=c(Vi,e.expression,{value:/t/});break;case"String":e.expression=c(On,e.expression,{value:""});break}}var g=e.flatten_object(e.property,n);return g?g.optimize(n):Ie(n,e)}),t(Et,function(e,n){return n.option("rests")&&e.rest instanceof Et?c(Et,e,{elements:e.elements.concat(e.rest.elements),rest:e.rest.rest}):e}),t(Ft,function(e,n){if(n.option("objects")){var r=e.key;r instanceof X&&(r=r.evaluate(n),r!==e.key&&(e.key=""+r))}return e}),t(st,function(e,n){if(!n.option("objects"))return e;var r=!1,i=!1,f=!1,o=n.has_directive("use strict"),g=[],p=new Gn,b=[];if(e.properties.forEach(function(q){if(!(q instanceof Cn))return D(q);i=!0;var z=q.expression;n.option("spreads")&&z instanceof st&&Je(z.properties,function(E){return E instanceof aa||E instanceof Cn?!1:E.key!=="__proto__"||E instanceof Kr?!0:!E.value.has_side_effects(n)})?(r=!0,z.properties.forEach(function(E){var W=E.key,j=E instanceof Kr;if(W==="__proto__"){if(!j)return;W=ai(W,E)}D(j?c(Zt,E,{key:W,value:c(_t,E).optimize(n)}):E)})):(f=!0,w(),b.push(q))}),w(),!r)return e;if(i&&f&&b.length==1){var T=b[0];T instanceof Di&&T.key instanceof mn&&(T.key=""+T.key.value)}return c(st,e,{properties:b});function w(){g.forEach(function(q){var z=p.get(q);switch(z.length){case 0:return;case 1:return b.push(z[0])}r=!0;var E=o&&!f&&z.pop();b.push(z.length==1?z[0]:c(Zt,e,{key:z[0].key,value:be(e,z.map(function(W){return W.value}))})),E&&b.push(E),z.length=0}),g=[],p=new Gn}function D(q){var z=q.key;z instanceof X&&(i=!0,z=z.evaluate(n),z===q.key||z==="__proto__"?f=!0:z=q.key=""+z),Hf(q)?(q.value.has_side_effects(n)&&w(),g.push(z),p.add(z,q)):(w(),b.push(q)),i&&!f&&typeof z=="string"&&ge.test(z)&&(f=!0,p.has(z)&&(q=p.get(z)[0]),q.key=c(mn,q,{value:+z}))}});function Bf(e){var n=e.definition().redefined();return n&&(e=e.clone(),e.thedef=n),e}function La(e,n){var r=!1;return n.walk(new on(function(i){if(r)return!0;if(i instanceof ee&&e.variables.get(i.name)===i.definition())return r=!0})),r}function xs(e,n){var r=[];e.references.forEach(function(i){var f=i.fixed;!f||!zi(r,f)||(f.assigns?f.assigns.unshift(n):f.assigns=[n])})}function Es(e,n){var r=c(ee,n),i=c(Ce,n,{operator:"=",left:r,right:c(_t,n).transform(e)}),f=n.definition();return f.fixed&&(r.fixed=function(){return i.right},r.fixed.assigns=[i],xs(f,i)),f.assignments++,f.references.push(r),i}(function(e){e(X,Lt),e(Ce,Lt),e(mt,function(r,i,f,o){if(r.option("awaits")){var g=this,p=g.expression.try_inline(r,i,f,o,!0);if(p)return f||kr(p,function(b){b.in_bool=!1;var T=b.value;T instanceof mt||(b.value=c(mt,g,{expression:T||c(_t,b).transform(r)}))}),zt(p)?p:c(Ve,g,{body:[p,c(je,g,{body:c(mt,g,{expression:c(mn,g,{value:0})})})]})}}),e(ae,function(r,i,f,o,g){if(f===void 0)return;var p=this,b=p.operator;if(!ct[b])return;var T=p.right.try_inline(r,i,f,o,g);if(!T)return;return c(Un,p,{condition:w(p.left),body:T,alternative:f?null:c(tt,p,{value:c(_t,p).transform(r)})});function w(D){switch(b){case"&&":return D;case"||":return D.negate(r);case"??":return c(ae,p,{operator:"==",left:c($r,p),right:D})}}}),e(Ve,function(r,i,f,o){if(!f&&this.variables){var g=this.body,p=g.length-1;if(!(p<0)){var b=g[p].try_inline(r,this,f,o);if(b)return g[p]=b,this}}}),e(hn,function(r,i,f,o,g){if(r.option("inline")<4)return;var p=this;if(p.is_expr_pure(r))return;var b=p.expression;if(!(b instanceof xt)||b.name||b.uses_arguments||b.pinned()||Hi(b))return;var T=qt(b);if(T&&b.value||b.body[0]instanceof ni||b.contains_this())return;i||(i=J(r));var w=new Gn;for(w.set("NaN",!0);!(i instanceof sn);)i.variables.each(function(me){w.set(me.name,!0)}),i=i.parent_scope;if(!rr(i,r.stack)||i.pinned()&&b.variables.size()>(T?0:1))return;if(i instanceof kt){if(b.variables.size()>(T?0:1)&&(!r.toplevel.vars||b.functions.size()>0&&!r.toplevel.funcs))return;w.set("arguments",!0)}var D=!g&&di(b);if(D&&(!r.option("awaits")||!di(i)||p.may_throw(r)))return;var q=i.var_names();if(o&&(o=[]),!b.variables.all(function(me,ve){return o&&o.push(me),!w.has(ve)&&!q.has(ve)?!0:!T&&ve=="arguments"&&me.orig.length==1})||o&&o.length>0&&jf(b,o))return;var z=!0;if(!Je(b.argnames,function(me){var ve=!1,Ae=new on(function(v){if(ve)return!0;if(v instanceof In)return La(b,v.value)?ve=!0:(v.name.walk(Ae),!0);if(v instanceof Ft)return v.key instanceof X&&La(b,v.key)?ve=!0:(v.value.walk(Ae),!0);if(v instanceof Pn&&!Je(v.definition().orig,function(U){return!(U instanceof lr)}))return ve=!0});return me.walk(Ae),ve?!1:(me instanceof Pn||(z=!1),!0)}))return;if(b.rest){if(La(b,b.rest))return;z=!1}var E;if(f?E=function(me){var ve=!1;return me.walk(new on(function(Ae){if(ve)return!0;if(D&&(Ae instanceof mt||Ae instanceof Ta)||Ae instanceof tt)return ve=!0;if(Ae instanceof sn)return!0})),!ve}:(g||di(b)||d(i))&&(E=function(me){var ve=!1,Ae=new on(function(v){if(ve)return!0;if(v instanceof tt)return ve=!0;if(v instanceof sn)return!0});return me.walk(new on(function(v){if(ve)return!0;if(v instanceof Xt)return v.bfinally&&Je(v.body,function(U){return U.walk(Ae),!ve})&&v.bcatch&&v.bcatch.walk(Ae),!0;if(v instanceof sn)return!0})),!ve}),E&&!Je(b.body,E)||!Pf(b,Ha(r,i)))return;b.functions.each(function(me,ve){i.functions.set(ve,me)});var W=[];b.variables.each(function(me,ve){if(!(!T&&ve=="arguments"&&me.orig.length==1)&&(q.set(ve,!0),i.enclosed.push(me),i.variables.set(ve,me),me.single_use=!1,!!o&&me.references.length!=me.replaced&&me.orig.length!=me.eliminated&&!(me.orig.length==1&&b.functions.has(ve))&&Je(me.orig,function(v){return v instanceof pi?!1:v instanceof Pn?!v.unused&&me.scope.resolve()!==b:!(v instanceof zr)}))){var Ae=me.orig[0];Ae instanceof Ui||W.push(c(je,Ae,{body:Es(r,Bf(Ae))}))}});var j=Object.create(null),ie=new Gn;if(z&&Je(p.args,function(me){return!(me instanceof Cn)})){var ue=p.args.slice();b.argnames.forEach(function(me){var ve=ue.shift();if(me.unused){ve&&W.push(c(je,p,{body:ve}));return}var Ae=c(Jn,p,{name:me.convert_symbol(ri,bn),value:ve||c(_t,p).transform(r)});me instanceof Pn&&xs(me.definition(),Ae),W.push(c(bt,p,{definitions:[Ae]}))}),ue.length&&W.push(c(je,p,{body:be(p,ue)}))}else W.push(c(bt,p,{definitions:[c(Jn,p,{name:c(Et,p,{elements:b.argnames.map(function(me){return me.unused?c(Gt,me):me.convert_symbol(ri,bn)}),rest:b.rest&&b.rest.convert_symbol(ri,bn)}),value:c(Dn,p,{elements:p.args.slice()})})]}));ie.each(function(me,ve){var Ae=j[ve];[].unshift.apply(Ae.orig,me),Ae.eliminated+=me.length}),[].push.apply(W,o?b.body.filter(function(me){if(!(me instanceof dt))return!0;var ve=c(ri,Bf(me.name)),Ae=ve.definition();return Ae.fixed=!1,Ae.orig.push(ve),Ae.eliminated++,W.push(c(bt,me,{definitions:[c(Jn,me,{name:ve,value:yi(me,!0)})]})),!1}):b.body);var pe=c(Ve,p,{body:W});return f||(D&&kr(pe,function(me){var ve=me.value;si(ve)||(me.value=c(mt,p,{expression:ve}))}),W.push(c(tt,p,{value:d(i)?c(_t,p).transform(r):null}))),pe;function bn(me,ve){var Ae=ve.definition();j[Ae.id]=Ae,ie.add(Ae.id,me)}}),e(_n,function(r,i,f,o,g){var p=this,b=p.consequent.try_inline(r,i,f,o,g),T=p.alternative.try_inline(r,i,f,o,g);if(!b&&!T)return;return c(Un,p,{condition:p.condition,body:b||w(p.consequent),alternative:T||w(p.alternative)});function w(D){return f?c(je,D,{body:D}):c(tt,D,{value:D})}}),e(Nt,function(r,i,f,o){var g=this.body.try_inline(r,i,!0,!0);g&&(this.body=g);var p=this.init;return p&&(p=p.try_inline(r,i,!0,o),p)?(this.init=null,p instanceof Ve?(p.body.push(this),p):c(Ve,p,{body:[p,this]})):g&&this}),e(Wt,function(r,i,f,o){var g=this.body.try_inline(r,i,!0,!0);g&&(this.body=g);var p=this.object;if(p instanceof Xe){var b=n(r,i,!0,o,!1,p,1);if(b)return this.object=p.tail_node(),b.body.push(this),b}return g&&this}),e(Un,function(r,i,f,o){var g=this.body.try_inline(r,i,f,o);g&&(this.body=g);var p=this.alternative;p&&(p=p.try_inline(r,i,f,o),p&&(this.alternative=p));var b=this.condition;if(b instanceof Xe){var T=n(r,i,!0,o,!1,b,1);if(T)return this.condition=b.tail_node(),T.body.push(this),T}return(g||p)&&this}),e(Ci,function(r,i,f,o){var g=this.body.try_inline(r,i,!0,!0);if(g)return this.body=g,this}),e(Kt,function(r,i,f,o){var g=this.body.try_inline(r,i,f,o);if(g){if(this.body instanceof Ci&&g instanceof Ve){var p=g.body.pop();return this.body=p,g.body.push(this),g}return this.body=g,this}}),e(Ai,Lt),e(tt,function(r,i,f,o){var g=this.value;return g&&g.try_inline(r,i,void 0,o==="try")});function n(r,i,f,o,g,p,b){for(var T=[],w=p.expressions,D=f,q=w.length-(b||0),z=q;--q>=0;D=!0,g=!1){var E=w[q].try_inline(r,i,D,o,g);E&&(W(),T.push(E))}if(T.length==0)return;return W(),!f&&T[0]instanceof je&&(T[0]=c(tt,p,{value:T[0].body})),c(Ve,p,{body:T.reverse()});function W(){z>q+1&&T.push(c(je,p,{body:be(p,w.slice(q+1,z))})),z=q}}e(Xe,function(r,i,f,o,g){return n(r,i,f,o,g,this)}),e(je,function(r,i,f,o){for(var g=this.body;g instanceof Ue;){var p=g.operator;if(ba[p]||p=="void")break;g=g.expression}return!f&&!si(g)&&(g=c(Ue,this,{operator:"void",expression:g})),g.try_inline(r,i,f||!1,o)}),e(Ue,function(r,i,f,o,g){var p=this,b=p.operator;if(!ba[b]){!f&&b=="void"&&(f=!1);var T=p.expression.try_inline(r,i,f,o,g);if(T)return f||kr(T,function(w){w.in_bool=!1;var D=w.value;b=="void"&&si(D)||(w.value=c(Ue,p,{operator:b,expression:D||c(_t,w).transform(r)}))}),T}}),e(br,function(r,i,f,o){var g=this.body.try_inline(r,i,f,o);g&&(this.body=g);var p=this.expression;if(p instanceof Xe){var b=n(r,i,!0,o,!1,p,1);if(b)return this.expression=p.tail_node(),b.body.push(this),b}return g&&this}),e(xi,function(r,i,f,o){if(r.option("yields")&&this.nested){var g=this.expression;if(g.TYPE=="Call"){var p=g.expression;switch(p.CTOR){case Yi:p=c(sr,p);break;case ur:p=c(Ot,p);break;default:return}return g=g.clone(),g.expression=p,g.try_inline(r,i,f,o)}}})})(function(e,n){e.DEFMETHOD("try_inline",n)}),t(tt,function(e,n){var r=e.value;return r&&n.option("side_effects")&&si(r,n)&&!d(n.find_parent(sn))&&(e.value=null),e})}(function(t,a){t.DEFMETHOD("optimize",function(u){var s=this;if(s._optimized||u.has_directive("use asm"))return s;var m=a(s,u);return m._optimized=!0,m})});function Ls(t){return t.type=="comment2"&&/@preserve|@license|@cc_on/i.test(t.value)}function Of(t){t=Pr(t,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,extendscript:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var a=zn;if(t.comments){var u=t.comments;if(typeof t.comments=="string"&&/^\/.*\/[a-zA-Z]*$/.test(t.comments)){var s=t.comments.lastIndexOf("/");u=new RegExp(t.comments.substr(1,s-1),t.comments.substr(s+1))}u instanceof RegExp?a=function(se){return se.type!="comment5"&&u.test(se.value)}:typeof u=="function"?a=function(se){return se.type!="comment5"&&u(this,se)}:u==="some"?a=Ls:a=Qn}function m(se){if(typeof se=="number")return new Array(se+1).join(" ");if(!se)return"";if(!/^\s*$/.test(se))throw new Error("unsupported indentation: "+JSON.stringify(""+se));return se}var A=0,G=1,V=m(t.indent_start),He=m(t.indent_level),fe=He.length+1>>1,P,re=0,ge=!0,ke=t.source_map&&[],ye,L,Ee,gn,jn=!1,k=!1,d,J,ce="";function wn(){P="",Ee=!1,gn=!1,J=[];var se=d;return d="",se}wn();var Hn=t.ascii_only?function(se,Ie){return Ie&&(se=se.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(qn){return"\\u{"+(qn.charCodeAt(0)-55232<<10|qn.charCodeAt(1)-56320).toString(16)+"}"})),se.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(qn){var pn=qn.charCodeAt(0).toString(16);if(pn.length<=2&&!Ie){for(;pn.length<2;)pn="0"+pn;return"\\x"+pn}else{for(;pn.length<4;)pn="0"+pn;return"\\u"+pn}})}:function(se){for(var Ie="",qn=0,pn=0;qn<se.length;qn++){var Tt=se.charCodeAt(qn);if(Fs(Tt)){if(cs(se.charCodeAt(qn+1))){qn++;continue}}else if(!cs(Tt))continue;Ie+=se.slice(pn,qn)+"\\u"+Tt.toString(16),pn=qn+1}return pn==0?se:Ie+se.slice(pn)};function c(se){return"'"+se.replace(/\x27/g,"\\'")+"'"}function be(se){return'"'+se.replace(/\x22/g,'\\"')+'"'}var ai=[null,c,be,function(se,Ie){return Ie=="'"?c(se):be(se)}][t.quote_style]||function(se,Ie,qn,pn){return qn>pn?c(se):be(se)};function pt(se,Ie){var qn=0,pn=0;return se=se.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(Tt,bi){switch(Tt){case'"':return++qn,'"';case"'":return++pn,"'";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return t.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\uFEFF":return"\\ufeff";case"\0":return/[0-9]/.test(se.charAt(bi+1))?"\\x00":"\\0"}return Tt}),ai(Hn(se),Ie,qn,pn)}var St=ke?function(se,Ie){ke.forEach(function(qn){qn.line+=se,qn.col+=Ie})}:Lt,Bn=ke?function(){ke.forEach(function(se){t.source_map.add(se.token.file,se.line,se.col,se.token.line,se.token.col,!se.name&&se.token.type=="name"?se.token.value:se.name)}),ke=[]}:Lt;function Ht(se){ce+=d.slice(0,re),d=d.slice(re);var Ie=d.length;for(St(se,Ie-A),G+=se,A=Ie;se--;)ce+=`
`}var De=t.max_line_len?function(se){if(ge){A>t.max_line_len&&X.warn("Output exceeds {max_line_len} characters",t);return}A>t.max_line_len&&(Ht(1),ge=!0),(ge||se)&&Bn()}:Lt,Fe=Ln("( [ + * / - , .");function Me(se,Ie,qn){return Af(se)&&(Af(Ie)||Ie=="\\")||Ie=="/"&&Ie==se||(Ie=="+"||Ie=="-")&&Ie==P||P=="--"&&Ie==">"||P=="!"&&qn=="--"||se=="/"&&(qn=="in"||qn=="instanceof")}var Be=t.beautify||t.comments||t.max_line_len||t.preserve_line||t.shebang||!t.semicolons||t.source_map||t.width?function(se){var Ie=se.charAt(0);jn&&Ie&&(jn=!1,Ie!=`
`&&(Be(`
`),Ut())),k&&Ie&&(k=!1,/[\s;})]/.test(Ie)||it());var qn=P.slice(-1);if(gn&&(gn=!1,qn==":"&&Ie=="}"||qn!=";"&&(!Ie||";}".indexOf(Ie)<0))){var pn=Fe[Ie];pn||t.semicolons?(d+=";",A++,ge||(De(),ge&&!pn&&d==";"&&(d="",A=0)),re==d.length-1&&re++):(De(),d+=`
`,G++,A=0,/^\s+$/.test(se)&&(gn=!0)),t.beautify||(Ee=!1)}Ee&&(Me(qn,Ie,se)&&(d+=" ",A++),(qn!="<"||se!="!")&&(Ee=!1)),L&&(ke.push({token:L,name:ye,line:G,col:A}),L=!1,ge&&Bn()),d+=se;var Tt=se.split(/\r?\n/),bi=Tt.length-1;G+=bi,A+=Tt[0].length,bi>0&&(De(),A=Tt[bi].length),P=se}:function(se){var Ie=se.charAt(0),qn=P.slice(-1);gn&&(gn=!1,(qn==":"&&Ie=="}"||(!Ie||";}".indexOf(Ie)<0)&&qn!=";")&&(d+=";",Ee=!1)),Ee&&(Me(qn,Ie,se)&&(d+=" "),(qn!="<"||se!="!")&&(Ee=!1)),d+=se,P=se},it=t.beautify?function(){Be(" ")}:function(){Ee=!0},Ut=t.beautify?function(se){jn&&Be(`
`),Be(se?V.slice(0,-fe):V)}:Lt,l=t.beautify?function(se){var Ie=V;V+=He,se(),V=Ie}:function(se){se()},y=t.max_line_len||t.preserve_line?function(){De(),re=d.length,ge=!1}:Lt,I=t.beautify?function(){Be(`
`),re=d.length}:y,Oe=t.beautify?function(){Be(";")}:function(){gn=!0};function kn(){gn&&Be(";"),Be(";")}function ot(se,Ie){Be("{"),I(),l(se),Qi(Ie),Ut(),Be("}")}function fi(se){Be("("),y(),se(),y(),Be(")")}function Ei(se){Be("["),y(),se(),y(),Be("]")}function Yr(){y(),Be(","),y(),it()}function _r(){Be(":"),it()}var Qi=ke?function(se,Ie){L=se,ye=Ie}:Lt;function si(){return ge||De(!0),ce+d}function ct(){return/(^|\n) *$/.test(d)}function ui(se,Ie){jn||(se.nlb&&(Ie||!ct())?jn=!0:Ie&&(k=!0))}function Qr(se){var Ie=se.value.replace(/[@#]__PURE__/g," ");return/^\s*$/.test(Ie)&&!/^\s*$/.test(se.value)?!1:(/comment[134]/.test(se.type)?(Be("//"+Ie),jn=!0):se.type=="comment2"&&Be("/*"+Ie+"*/"),!0)}function wr(se,Ie){if(Ie instanceof ae)return Ie.left===se;if(Ie.TYPE=="Call")return Ie.expression===se;if(Ie instanceof _n)return Ie.condition===se;if(Ie instanceof et)return Ie.expression===se;if(Ie instanceof Vt)return!0;if(Ie instanceof Xe)return Ie.expressions[0]===se;if(Ie instanceof at)return Ie.expression===se;if(Ie instanceof Or||Ie instanceof xi)return!0}function ya(se){var Ie=this,qn;se instanceof Vt?qn=se.value:se instanceof xi&&(qn=se.expression);var pn=Ii(se);if(pn||(pn=[]),qn){var Tt=new on(function(zt){if(!wr(zt,Tt.parent()))return!0;var nr=Ii(zt);nr&&(pn=pn.concat(nr))});Tt.push(se),qn.walk(Tt)}if(G==1&&A==0){pn.length>0&&t.shebang&&pn[0].type=="comment5"&&(Be("#!"+pn.shift().value+`
`),Ut());var bi=t.preamble;bi&&Be(bi.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,`$1
`))}pn=pn.filter(a,se);var Lr=!1;pn.forEach(function(zt,nr){ui(zt,nr),Qr(zt)&&(Lr=!0)}),Lr&&ui(se.start,!0);function Ii(zt){var nr=zt.start;if(!nr){if(!qn)return;zt.start=nr=new Qa}var pr=nr.comments_before;if(!pr){if(!qn)return;nr.comments_before=pr=[]}if(pr._dumped!==Ie)return pr._dumped=Ie,pr}}function er(se,Ie){var qn=this,pn=se.end;if(pn){var Tt=pn[Ie?"comments_before":"comments_after"];!Tt||Tt._dumped===qn||(se instanceof $i||Je(Tt,function(bi){return!/comment[134]/.test(bi.type)}))&&(Tt._dumped=qn,Tt.filter(a,se).forEach(function(bi,Lr){ui(bi,Lr||!Ie),Qr(bi)}))}}return{get:si,reset:wn,indent:Ut,should_break:t.beautify&&t.width?function(){return A>=t.width}:zn,has_parens:function(){return P.slice(-1)=="("},newline:I,print:Be,space:it,comma:Yr,colon:_r,last:function(){return P},semicolon:Oe,force_semicolon:kn,to_utf8:Hn,print_name:function(se){Be(Hn(se.toString(),!0))},print_string:t.inline_script?function(se,Ie){se=pt(se,Ie).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),Be(se.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(se,Ie){Be(pt(se,Ie))},with_indent:l,with_block:ot,with_parens:fi,with_square:Ei,add_mapping:Qi,option:function(se){return t[se]},prepend_comments:t.comments||t.shebang?ya:Lt,append_comments:t.comments?er:Lt,push_node:function(se){J.push(se)},pop_node:t.preserve_line?function(){var se=J.pop();se.start&&se.start.line>G&&Ht(se.start.line-G)}:function(){J.pop()},parent:function(se){return J[J.length-2-(se||0)]}}}(function(){function t(l,y){l.DEFMETHOD("_codegen",y)}var a=!1;X.DEFMETHOD("print",function(l,y){var I=this;l.push_node(I),y||I.needs_parens(l)?l.with_parens(Oe):Oe(),l.pop_node();function Oe(){l.prepend_comments(I),I.add_source_map(l),I._codegen(l),l.append_comments(I)}});var u=Of({inline_script:!1,shebang:!1,width:!1});X.DEFMETHOD("print_to_string",function(l){if(l){var y=Of(l);return this.print(y),y.get()}return this.print(u),u.reset()});function s(l,y){l.DEFMETHOD("needs_parens",y)}s(X,zn);function m(l){var y=l.parent();if(!l.has_parens()&&ka(l,!1,!0))return this.name||!(y instanceof Ni);if(l.option("webkit")&&y instanceof vn&&y.expression===this||l.option("wrap_iife")&&y instanceof hn&&y.expression===this)return!0}s(sr,m),s(Yi,m),s(yr,m),s(Ot,m),s(ur,m);function A(l){return!l.has_parens()&&ka(l,!0)}s(st,A);function G(l){var y=l.parent();if(y instanceof ae)return y.operator=="**"&&y.left===this;if(y instanceof hn)return y.expression===this;if(y instanceof Pt)return!0;if(y instanceof vn)return y.expression===this;if(y instanceof It)return y.tag===this}s(mt,G),s(ft,G),s(Xe,function(l){var y=l.parent();return y instanceof Dn||qt(y)&&y.value===this||y instanceof mt||y instanceof ae||y instanceof hn||y instanceof Pt||y instanceof Mi||y instanceof _n||y instanceof In||y instanceof Ft||y instanceof Ni||y instanceof Sa||y instanceof Di||y instanceof vn&&y.expression===this||y instanceof Cn||y instanceof It&&y.tag===this||y instanceof ft||y instanceof Jn||y instanceof xi}),s(ae,function(l){var y=l.parent();if(y instanceof mt)return!0;if(y instanceof ae){var I=y.operator,Oe=hr[I],kn=this.operator,ot=hr[kn];return Oe>ot||I=="??"&&(kn=="&&"||kn=="||")||Oe==ot&&this===y[I=="**"?"left":"right"]}if(y instanceof hn)return y.expression===this;if(y instanceof Pt)return!0;if(y instanceof vn)return y.expression===this;if(y instanceof It)return y.tag===this;if(y instanceof ft)return!0});function V(l,y){return!l.terminal||!(y instanceof hn||y instanceof vn)?!1:y.expression===l}s(vn,function(l){var y=this,I=l.parent();return I instanceof Ai&&I.expression===y&&df(y).TYPE=="Call"?!0:V(y,I)}),s(hn,function(l){var y=this,I=l.parent();if(I instanceof Ai)return I.expression===y;if(l.option("webkit")&&y.expression instanceof Ot&&I instanceof vn&&I.expression===y){var Oe=l.parent(1);if(Oe instanceof Ce&&Oe.left===I)return!0}return V(y,I)}),s(Ai,function(l){if(Fe(this,l))return!1;var y=l.parent();if(y instanceof hn)return y.expression===this;if(y instanceof vn)return!0;if(y instanceof It)return y.tag===this}),s(mn,function(l){if(!l.option("galio"))return!1;var y=l.parent();return y instanceof vn&&y.expression===this&&/^0/.test(Be(this.value))});function He(l,y){var I=y.parent();if(I instanceof mt)return!0;if(I instanceof ae)return!(I instanceof Ce);if(I instanceof hn)return I.expression===l;if(I instanceof Pt)return!0;if(I instanceof _n)return I.condition===l;if(I instanceof vn)return I.expression===l;if(I instanceof It)return I.tag===l;if(I instanceof ft)return!0}s(Bi,function(l){return He(this,l)}),s(Ce,function(l){if(He(this,l))return!0;if(l.option("v8"))return this.left instanceof Rn;if(this.left instanceof ii)return A(l)}),s(fr,function(l){return He(this,l)}),s(_n,function(l){return He(this,l)||l.option("extendscript")&&l.parent()instanceof _n}),s(xi,function(l){return He(this,l)}),t(ni,function(l){var y=this.quote,I=this.value;switch(l.option("quote_style")){case 0:case 2:I.indexOf('"')==-1&&(y='"');break;case 1:I.indexOf("'")==-1&&(y="'");break}l.print(y+I+y),l.semicolon()}),t(xa,function(l){l.print("debugger"),l.semicolon()});function fe(l,y,I,Oe){var kn=l.length-1,ot=Oe,fi=a;l.forEach(function(Ei,Yr){ot&&(Ei instanceof ni?Ei.value=="use asm"&&(a=!0):Ei instanceof nt||(Ei instanceof je&&Ei.body instanceof On&&I.force_semicolon(),ot=!1)),!(Ei instanceof nt)&&(I.indent(),Ei.print(I),!(Yr==kn&&y)&&(I.newline(),y&&I.newline()))}),a=fi}t(kt,function(l){fe(this.body,!0,l,!0),l.print("")}),t(Kt,function(l){this.label.print(l),l.colon(),this.body.print(l)}),t(je,function(l){this.body.print(l),l.semicolon()});function P(l,y){y.print("{"),y.with_indent(function(){y.append_comments(l,!0)}),y.print("}")}function re(l,y,I){l.body.length>0?y.with_block(function(){fe(l.body,!1,y,I)},l.end):P(l,y)}t(Ve,function(l){re(this,l)}),t(nt,function(l){l.semicolon()}),t(Fr,function(l){var y=this;l.print("do"),it(y.body,l),l.space(),l.print("while"),l.space(),l.with_parens(function(){y.condition.print(l)}),l.semicolon()}),t(ia,function(l){var y=this;l.print("while"),l.space(),l.with_parens(function(){y.condition.print(l)}),De(y.body,l)}),t(Nt,function(l){var y=this;l.print("for"),l.space(),l.with_parens(function(){y.init?(y.init instanceof gt?y.init.print(l):c(y.init,l,!0),l.print(";"),l.space()):l.print(";"),y.condition?(y.condition.print(l),l.print(";"),l.space()):l.print(";"),y.step&&y.step.print(l)}),De(y.body,l)});function ge(l,y){return function(I){var Oe=this;I.print(l),I.space(),I.with_parens(function(){Oe.init.print(I),I.space(),I.print(y),I.space(),Oe.object.print(I)}),De(Oe.body,I)}}t(Ta,ge("for await","of")),t(oa,ge("for","in")),t(Sa,ge("for","of")),t(br,function(l){var y=this;l.print("with"),l.space(),l.with_parens(function(){y.expression.print(l)}),De(y.body,l)}),t(ki,function(l){l.print("export"),l.space(),this.body.print(l)}),t(Ni,function(l){l.print("export"),l.space(),l.print("default"),l.space();var y=this.body;y.print(l),!(y instanceof yr&&!y.name)&&(y instanceof mi||y instanceof dt||y instanceof xt&&!y.name&&!qt(y)||l.semicolon())});function ke(l,y){var I=l.value;I=="*"||Fa(I)?y.print_name(I):y.print_string(I,l.quote)}t(Aa,function(l){var y=this;l.print("export"),l.space();var I=y.keys.length;I==0?P(y,l):y.keys[0].value=="*"?Oe(0):l.with_block(function(){l.indent(),Oe(0);for(var kn=1;kn<I;kn++)l.print(","),l.newline(),l.indent(),Oe(kn);l.newline()},y.end),l.space(),l.print("from"),l.space(),y.path.print(l),l.semicolon();function Oe(kn){var ot=y.aliases[kn],fi=y.keys[kn];ke(fi,l),ot.value!=fi.value&&(l.space(),l.print("as"),l.space(),ke(ot,l))}}),t(la,function(l){var y=this;l.print("export"),l.space(),pt(y,l),l.semicolon()}),t(Da,function(l){var y=this;l.print("import"),l.space(),y.default&&y.default.print(l),y.all&&(y.default&&l.comma(),y.all.print(l)),y.properties&&(y.default&&l.comma(),pt(y,l)),(y.all||y.default||y.properties)&&(l.space(),l.print("from"),l.space()),y.path.print(l),l.semicolon()});function ye(l,y){y.with_parens(function(){l.argnames.forEach(function(I,Oe){Oe&&y.comma(),I.print(y)}),l.rest&&(l.argnames.length&&y.comma(),y.print("..."),l.rest.print(y))})}function L(l,y){var I=l.argnames.length==1&&!l.rest&&l.argnames[0];I instanceof Pn&&I.name!="yield"?I.print(y):ye(l,y),y.space(),y.print("=>"),y.space(),l.value?l.value.print(y):re(l,y,!0)}t(Bi,function(l){L(this,l)}),t(fr,function(l){l.print("async"),l.space(),L(this,l)});function Ee(l,y){l.name&&(y.space(),l.name.print(y)),ye(l,y),y.space(),re(l,y,!0)}t(dn,function(l){l.print("function"),Ee(this,l)});function gn(l){l.print("async"),l.space(),l.print("function"),Ee(this,l)}t(Ir,gn),t(sr,gn);function jn(l){l.print("async"),l.space(),l.print("function*"),Ee(this,l)}t(Ar,jn),t(Yi,jn);function k(l){l.print("function*"),Ee(this,l)}t(Vr,k),t(ur,k),t(Pt,function(l){var y=this;l.print("class"),y.name&&(l.space(),y.name.print(l)),y.extends&&(l.space(),l.print("extends"),l.space(),y.extends.print(l)),l.space(),pt(y,l,!0)}),t(Rr,function(l){var y=this;y.static&&(l.print("static"),l.space()),St(y,l),y.value&&(l.space(),l.print("="),l.space(),y.value.print(l)),l.semicolon()}),t(ef,Bn("get")),t(nf,Bn("set"));function d(l,y){var I=l.value;di(I)&&(y.print("async"),y.space()),Hi(I)&&y.print("*"),St(l,y),Ee(l.value,y)}t(ca,function(l){var y=this;y.static&&(l.print("static"),l.space()),d(y,l)}),t(Gr,function(l){l.print("static"),l.space(),re(this.value,l)});function J(l,y){return function(I){I.print(l);var Oe=this[y];Oe&&(I.space(),Oe.print(I)),I.semicolon()}}t(tt,J("return","value")),t(rf,J("throw","value")),t(Ki,J("break","label")),t(Jr,J("continue","label"));function ce(l,y){var I=l.body;if(y.option("braces")&&!(I instanceof qr||I instanceof cr)||y.option("ie")&&I instanceof Fr)return it(I,y);if(!I)return y.force_semicolon();for(;;)if(I instanceof Un){if(!I.alternative){it(l.body,y);return}I=I.alternative}else if(I instanceof Ea)I=I.body;else break;De(l.body,y)}t(Un,function(l){var y=this;l.print("if"),l.space(),l.with_parens(function(){y.condition.print(l)}),y.alternative?(ce(y,l),l.space(),l.print("else"),y.alternative instanceof Un?(l.space(),y.alternative.print(l)):De(y.alternative,l)):De(y.body,l)}),t(wi,function(l){var y=this;l.print("switch"),l.space(),l.with_parens(function(){y.expression.print(l)}),l.space();var I=y.body.length-1;I<0?P(y,l):l.with_block(function(){y.body.forEach(function(Oe,kn){l.indent(!0),Oe.print(l),kn<I&&Oe.body.length>0&&l.newline()})},y.end)});function wn(l,y){y.newline(),l.body.forEach(function(I){y.indent(),I.print(y),y.newline()})}t(jr,function(l){l.print("default:"),wn(this,l)}),t(Xi,function(l){var y=this;l.print("case"),l.space(),y.expression.print(l),l.print(":"),wn(y,l)}),t(Xt,function(l){var y=this;l.print("try"),l.space(),re(y,l),y.bcatch&&(l.space(),y.bcatch.print(l)),y.bfinally&&(l.space(),y.bfinally.print(l))}),t(Li,function(l){var y=this;l.print("catch"),y.argname&&(l.space(),l.with_parens(function(){y.argname.print(l)})),l.space(),re(y,l)}),t(ra,function(l){l.print("finally"),l.space(),re(this,l)});function Hn(l){return function(y){var I=this;y.print(l),y.space(),I.definitions.forEach(function(kn,ot){ot&&y.comma(),kn.print(y)});var Oe=y.parent();Oe instanceof Ci&&Oe.init===I||y.semicolon()}}t(qr,Hn("const")),t(cr,Hn("let")),t(bt,Hn("var"));function c(l,y,I){var Oe=!1;I&&l.walk(new on(function(kn){if(Oe)return!0;if(kn instanceof ae&&kn.operator=="in")return Oe=!0;if(kn instanceof sn&&!(qt(kn)&&kn.value))return!0})),l.print(y,Oe)}t(Jn,function(l){var y=this;if(y.name.print(l),y.value){l.space(),l.print("="),l.space();var I=l.parent(1),Oe=I instanceof Nt||I instanceof Wt;c(y.value,l,Oe)}}),t(In,function(l){var y=this;y.name.print(l),l.space(),l.print("="),l.space(),y.value.print(l)});function be(l,y){if(y.option("annotations")&&l.pure){var I=0,Oe=l,kn;do if(kn=Oe,Oe=y.parent(I++),Oe instanceof hn&&Oe.expression===kn)return;while(Oe instanceof vn&&Oe.expression===kn);y.print("/*@__PURE__*/")}}function ai(l,y){y.with_parens(function(){l.args.forEach(function(I,Oe){Oe&&y.comma(),I.print(y)}),y.add_mapping(l.end)})}t(hn,function(l){var y=this;be(y,l),y.expression.print(l),y.optional&&l.print("?."),ai(y,l)}),t(Ai,function(l){var y=this;be(y,l),l.print("new"),l.space(),y.expression.print(l),Fe(y,l)&&ai(y,l)}),t(Xe,function(l){this.expressions.forEach(function(y,I){I>0&&(l.comma(),l.should_break()&&(l.newline(),l.indent())),y.print(l)})}),t(et,function(l){var y=this,I=y.expression;I.print(l);var Oe=y.property;l.option("ie")&&va[Oe]||y.quoted&&l.option("keep_quoted_props")?(y.optional&&l.print("?."),l.with_square(function(){l.add_mapping(y.end),l.print_string(Oe)})):(I instanceof mn&&!/[ex.)]/i.test(l.last())&&l.print("."),l.print(y.optional?"?.":"."),l.add_mapping(y.end),l.print_name(Oe))}),t(at,function(l){var y=this;y.expression.print(l),y.optional&&l.print("?."),l.with_square(function(){y.property.print(l)})}),t(Cn,function(l){l.print("..."),this.expression.print(l)}),t(Ue,function(l){var y=this.operator,I=this.expression;l.print(y),(/^[a-z]/i.test(y)||/[+-]$/.test(y)&&I instanceof Ue&&/^[+-]/.test(I.operator))&&l.space(),I.print(l)}),t(Or,function(l){var y=this;y.expression.print(l),l.add_mapping(y.end),l.print(y.operator)}),t(ae,function(l){var y=this;y.left.print(l),l.space(),l.print(y.operator),l.space(),y.right.print(l)}),t(_n,function(l){var y=this;y.condition.print(l),l.space(),l.print("?"),l.space(),y.consequent.print(l),l.space(),l.colon(),y.alternative.print(l)}),t(mt,function(l){l.print("await"),l.space(),this.expression.print(l)}),t(xi,function(l){l.print(this.nested?"yield*":"yield"),this.expression&&(l.space(),this.expression.print(l))}),t(Dn,function(l){var y=this.elements,I=y.length;l.with_square(I>0?function(){l.space(),y.forEach(function(Oe,kn){kn&&l.comma(),Oe.print(l),kn===I-1&&Oe instanceof Gt&&l.comma()}),l.space()}:Lt)}),t(Et,function(l){var y=this.elements,I=y.length,Oe=this.rest;l.with_square(I||Oe?function(){l.space(),y.forEach(function(kn,ot){ot&&l.comma(),kn.print(l)}),Oe?(I&&l.comma(),l.print("..."),Oe.print(l)):y[I-1]instanceof Gt&&l.comma(),l.space()}:Lt)}),t(Ft,function(l){var y=this,I=St(y,l),Oe=y.value;if(I){if(Oe instanceof In){if(Oe.name instanceof jt&&I==Ht(Oe.name)){l.space(),l.print("="),l.space(),Oe.value.print(l);return}}else if(Oe instanceof jt&&I==Ht(Oe))return}l.colon(),Oe.print(l)}),t(ii,function(l){var y=this,I=y.properties,Oe=I.length,kn=y.rest;Oe||kn?l.with_block(function(){I.forEach(function(ot,fi){fi&&(l.print(","),l.newline()),l.indent(),ot.print(l)}),kn&&(Oe&&(l.print(","),l.newline()),l.indent(),l.print("..."),kn.print(l)),l.newline()},y.end):P(y,l)});function pt(l,y,I){var Oe=l.properties;Oe.length>0?y.with_block(function(){Oe.forEach(function(kn,ot){ot&&(I||y.print(","),y.newline()),y.indent(),kn.print(y)}),y.newline()},l.end):P(l,y)}t(st,function(l){pt(this,l)});function St(l,y){var I=l.key;if(I instanceof X)return y.with_square(function(){I.print(y)});var Oe=l.start&&l.start.quote;if(y.option("quote_keys")||Oe&&y.option("keep_quoted_props"))y.print_string(I,Oe);else if(""+ +I==I&&I>=0)y.print(Be(I));else if(l.private)y.print_name(I);else{if(va[I]?!y.option("ie"):Fa(I))return y.print_name(I),I;y.print_string(I,Oe)}}t(Zt,function(l){var y=this;St(y,l),l.colon(),y.value.print(l)}),t(Mr,function(l){d(this,l)});function Bn(l){return function(y){var I=this;I.static&&(y.print("static"),y.space()),y.print(l),y.space(),St(I,y),Ee(I.value,y)}}t(aa,Bn("get")),t(Kr,Bn("set"));function Ht(l){var y=l.definition();return y&&y.mangled_name||l.name}t(jt,function(l){l.print_name(Ht(this))}),t(za,function(l){var y=this,I=Ht(y);l.print_name(I);var Oe=y.alias;Oe.value!=I&&(l.space(),l.print("as"),l.space(),ke(Oe,l))}),t(Zi,function(l){var y=this,I=Ht(y),Oe=y.key;Oe.value&&Oe.value!=I&&(ke(Oe,l),l.space(),l.print("as"),l.space()),l.print_name(I)}),t(Gt,Lt),t(It,function(l){var y=this;y.tag&&y.tag.print(l),l.print("`");for(var I=0;I<y.expressions.length;I++)l.print(y.strings[I]),l.print("${"),y.expressions[I].print(l),l.print("}");l.print(y.strings[I]),l.print("`")}),t(ut,function(l){l.print(""+this.value)}),t(On,function(l){l.print_string(this.value,this.quote)}),t(mn,function(l){var y=this.start;a&&y&&y.raw!=null?l.print(y.raw):l.print(Be(this.value))}),t(Vi,function(l){var y=this.value,I=y.toString(),Oe=I.lastIndexOf("/");y.raw_source?I="/"+y.raw_source+I.slice(Oe):Oe==1?I="/(?:)"+I.slice(Oe):I.indexOf("/",1)<Oe&&(I="/"+I.slice(1,Oe).replace(/\\\\|[^/]?\//g,function(kn){return kn[0]=="\\"?kn:kn.slice(0,-1)+"\\/"})+I.slice(Oe)),l.print(l.to_utf8(I).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(kn){switch(kn[1]){case`
`:return"\\n";case"\r":return"\\r";case"	":return"	";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return kn}}).replace(/[\n\r\u2028\u2029]/g,function(kn){switch(kn){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))});function De(l,y){y.option("braces")&&!(l instanceof qr||l instanceof cr)?it(l,y):l instanceof nt?y.force_semicolon():(y.space(),l.print(y))}function Fe(l,y){return l.args.length>0?!0:y.option("beautify")}function Me(l){for(var y=l[0],I=y.length,Oe=1;Oe<l.length;++Oe)l[Oe].length<I&&(y=l[Oe],I=y.length);return y}function Be(l){var y=l.toString(10).replace(/^0\./,".").replace("e+","e"),I=[y];Math.floor(l)===l&&(l<0?I.push("-0x"+(-l).toString(16).toLowerCase()):I.push("0x"+l.toString(16).toLowerCase()));var Oe,kn,ot;return(Oe=/^\.0+/.exec(y))?(kn=Oe[0].length,ot=y.slice(kn),I.push(ot+"e-"+(ot.length+kn-1))):(Oe=/[^0]0+$/.exec(y))?(kn=Oe[0].length-1,I.push(y.slice(0,-kn)+"e"+kn)):(Oe=/^(\d)\.(\d+)e(-?\d+)$/.exec(y))&&I.push(Oe[1]+Oe[2]+"e"+(Oe[3]-Oe[2].length)),Me(I)}function it(l,y){y.space(),l instanceof nt?P(l,y):l instanceof Ve?l.print(y):y.with_block(function(){y.indent(),l.print(y),y.newline()},l.end)}function Ut(l,y){l.forEach(function(I){I.DEFMETHOD("add_source_map",y)})}Ut([X,Kt],Lt),Ut([Dn,mt,Ve,Li,ut,xa,gt,Rn,ni,ra,tf,dn,Ai,st,Cn,Ea,jt,wi,or,Xt,Ue,xi],function(l){l.add_mapping(this.start)}),Ut([Mi,Ft,Di],function(l){typeof this.key=="string"&&l.add_mapping(this.start,this.key)})})();var _s=na("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Us=_s.reduce(function(t,a,u){return t[a]=u,t},Object.create(null));function Ws(t,a){for(var u=0,s=0,m=0,A=0;m<a.length;m++){var G=Us[a[m]];u+=(G&31)<<s,G&32?s+=5:(t[A++]+=u&1?2147483648|-(u>>1):u>>1,u=s=0)}return A}function sf(t){var a="";t=Math.abs(t)<<1|t>>>31;do{var u=t&31;(t>>>=5)&&(u|=32),a+=_s[u]}while(t);return a}function ps(){var t=new Gn,a=[];return a.index=function(u){var s=t.get(u);return s>=0||(s=a.length,a.push(u),t.set(u,s)),s},a}function Vs(t){var a=ps(),u=t.includeSources&&new Gn,s=ps(),m="";t.orig&&Object.keys(t.orig).forEach(function(ke){var ye=t.orig[ke],L=[0,0,1,0,0];if(t.orig[ke]={names:ye.names,mappings:ye.mappings.split(/;/).map(function(jn){return L[0]=0,jn.split(/,/).map(function(k){return L.slice(0,Ws(L,k))})}),sources:ye.sources},!(!u||!ye.sourcesContent))for(var Ee=0;Ee<ye.sources.length;Ee++){var gn=ye.sourcesContent[Ee];gn&&u.set(ye.sources[Ee],gn)}});var A,G=1,V=0,He=0,fe=1,P=0,re=0;return{add:t.orig?function(ke,ye,L,Ee,gn,jn){var k=t.orig[ke];if(k){var d=k.mappings[Ee-1];if(!d)return;for(var J,ce=0;ce<d.length;ce++){var wn=d[ce][0];if(gn>=wn&&(J=d[ce]),gn<=wn)break}!J||J.length<4?ke=null:(ke=k.sources[J[1]],Ee=J[2],gn=J[3],J.length>4&&(jn=k.names[J[4]]))}ge(ke,ye,L,Ee,gn,jn)}:ge,setSourceContent:u?function(ke,ye){u.has(ke)||u.set(ke,ye)}:Lt,toString:function(){return JSON.stringify({version:3,file:t.filename||void 0,sourceRoot:t.root||void 0,sources:a,sourcesContent:u?a.map(function(ke){return u.get(ke)||null}):void 0,names:s,mappings:m})}};function ge(ke,ye,L,Ee,gn,jn){if(!(A==null&&ke==null)){if(A=ke,G<ye){V=0;do m+=";";while(++G<ye)}else m&&(m+=",");if(m+=sf(L-V),V=L,ke!=null){var k=a.index(ke);if(m+=sf(k-He),He=k,m+=sf(Ee-fe),fe=Ee,m+=sf(gn-P),P=gn,t.names&&jn!=null){var d=s.index(jn);m+=sf(d-re),re=d}}}}}(function(){var t={Program:function(k){return new kt({start:G(k),end:V(k),body:m(k.body.map(re))})},ArrowFunctionExpression:function(k){var d=[],J=null;k.params.forEach(function(Hn){Hn.type=="RestElement"?J=re(Hn.argument):d.push(re(Hn))});var ce=new(k.async?fr:Bi)({start:G(k),end:V(k),argnames:d,rest:J}),wn=re(k.body);return wn instanceof Ve?(ce.body=m(wn.body),ce.value=null):(ce.body=[],ce.value=wn),ce},FunctionDeclaration:function(k){var d;k.async?d=k.generator?Ar:Ir:d=k.generator?Vr:Pi;var J=[],ce=null;return k.params.forEach(function(wn){wn.type=="RestElement"?ce=re(wn.argument):J.push(re(wn))}),new d({start:G(k),end:V(k),name:re(k.id),argnames:J,rest:ce,body:m(re(k.body).body)})},FunctionExpression:function(k){var d;k.async?d=k.generator?Yi:sr:d=k.generator?ur:Ot;var J=[],ce=null;return k.params.forEach(function(wn){wn.type=="RestElement"?ce=re(wn.argument):J.push(re(wn))}),new d({start:G(k),end:V(k),name:re(k.id),argnames:J,rest:ce,body:m(re(k.body).body)})},ClassDeclaration:function(k){return new mi({start:G(k),end:V(k),name:re(k.id),extends:re(k.superClass),properties:k.body.body.map(re)})},ClassExpression:function(k){return new yr({start:G(k),end:V(k),name:re(k.id),extends:re(k.superClass),properties:k.body.body.map(re)})},MethodDefinition:function(k){var d=k.key,J=!1;k.computed?d=re(d):d.type=="PrivateIdentifier"?(J=!0,d="#"+d.name):d=He(d);var ce=ca,wn=re(k.value);switch(k.kind){case"get":ce=ef,wn=new ji(wn);break;case"set":ce=nf,wn=new ji(wn);break}return new ce({start:G(k),end:V(k),key:d,private:J,static:k.static,value:wn})},PropertyDefinition:function(k){var d=k.key,J=!1;return k.computed?d=re(d):d.type=="PrivateIdentifier"?(J=!0,d="#"+d.name):d=He(d),new Rr({start:G(k),end:V(k),key:d,private:J,static:k.static,value:re(k.value)})},StaticBlock:function(k){var d=G(k),J=V(k);return new Gr({start:d,end:J,value:new bf({start:d,end:J,body:m(k.body.map(re))})})},ForOfStatement:function(k){return new(k.await?Ta:Sa)({start:G(k),end:V(k),init:re(k.left),object:re(k.right),body:re(k.body)})},TryStatement:function(k){var d=k.handlers||[k.handler];if(d.length>1||k.guardedHandlers&&k.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Xt({start:G(k),end:V(k),body:re(k.block).body,bcatch:re(d[0]),bfinally:k.finalizer?new ra(re(k.finalizer)):null})},Property:function(k){var d=k.computed?re(k.key):He(k.key),J={start:G(k),end:V(k),key:d,value:re(k.value)};if(k.kind=="init")return new(k.method?Mr:Zt)(J);if(J.value=new ji(J.value),k.kind=="get")return new aa(J);if(k.kind=="set")return new Kr(J)},ArrayExpression:function(k){return new Dn({start:G(k),end:V(k),elements:k.elements.map(function(d){return d===null?new Gt:re(d)})})},ArrayPattern:function(k){var d=[],J=null;return k.elements.forEach(function(ce){ce===null?d.push(new Gt):ce.type=="RestElement"?J=re(ce.argument):d.push(re(ce))}),new Et({start:G(k),end:V(k),elements:d,rest:J})},ObjectPattern:function(k){var d=[],J=null;return k.properties.forEach(function(ce){ce.type=="RestElement"?J=re(ce.argument):d.push(new Ft(re(ce)))}),new ii({start:G(k),end:V(k),properties:d,rest:J})},MemberExpression:function(k){return new(k.computed?at:et)({start:G(k),end:V(k),optional:k.optional,expression:re(k.object),property:k.computed?re(k.property):k.property.name})},MetaProperty:function(k){var d=re(k.meta),J=He(k.property);return d.name=="new"&&J=="target"?new ff({start:G(k),end:V(k),name:"new.target"}):new et({start:G(k),end:V(k),expression:d,property:J})},SwitchCase:function(k){return new(k.test?Xi:jr)({start:G(k),end:V(k),expression:re(k.test),body:k.consequent.map(re)})},ExportAllDeclaration:function(k){var d=G(k),J=V(k);return new Aa({start:d,end:J,aliases:[k.exported?ge(k.exported):new On({start:d,value:"*",end:J})],keys:[new On({start:d,value:"*",end:J})],path:re(k.source)})},ExportDefaultDeclaration:function(k){var d=re(k.declaration);if(!d.name)switch(d.CTOR){case Ir:d=new sr(d);break;case Ar:d=new Yi(d);break;case mi:d=new yr(d);break;case Pi:d=new Ot(d);break;case Vr:d=new ur(d);break}return new Ni({start:G(k),end:V(k),body:d})},ExportNamedDeclaration:function(k){if(k.declaration)return new ki({start:G(k),end:V(k),body:re(k.declaration)});if(k.source){var d=[],J=[];return k.specifiers.forEach(function(ce){d.push(ge(ce.exported)),J.push(ge(ce.local))}),new Aa({start:G(k),end:V(k),aliases:d,keys:J,path:re(k.source)})}return new la({start:G(k),end:V(k),properties:k.specifiers.map(function(ce){var wn=new za(re(ce.local));return wn.alias=ge(ce.exported),wn})})},ImportDeclaration:function(k){var d=G(k),J=V(k),ce=null,wn=null,Hn=null;return k.specifiers.forEach(function(c){var be=new Zi(re(c.local));switch(c.type){case"ImportDefaultSpecifier":wn=be,wn.key=new On({start:d,value:"",end:J});break;case"ImportNamespaceSpecifier":ce=be,ce.key=new On({start:d,value:"*",end:J});break;default:be.key=ge(c.imported),Hn||(Hn=[]),Hn.push(be);break}}),new Da({start:d,end:J,all:ce,default:wn,properties:Hn,path:re(k.source)})},ImportExpression:function(k){var d=G(k),J=re(k.source);return new hn({start:d,end:V(k),expression:new ee({start:d,end:J.start,name:"import"}),args:[J]})},VariableDeclaration:function(k){return new({const:qr,let:cr}[k.kind]||bt)({start:G(k),end:V(k),definitions:k.declarations.map(re)})},Literal:function(k){var d={start:G(k),end:V(k)};if(k.bigint)return d.value=k.bigint.toLowerCase()+"n",new wf(d);var J=k.value;if(J===null)return new $r(d);var ce=k.regex;if(ce&&ce.pattern)return d.value=new RegExp(ce.pattern,ce.flags),d.value.raw_source=ce.pattern,new Vi(d);if(ce)return d.value=k.regex&&k.raw?k.raw:J,new Vi(d);switch(typeof J){case"string":return d.value=J,new On(d);case"number":if(isNaN(J))return new Ca(d);var wn,Hn;return isFinite(J)?(wn=1/J<0,d.value=wn?-J:J,Hn=new mn(d)):(wn=J<0,Hn=new Hr(d)),wn?new Ue({start:d.start,end:d.end,operator:"-",expression:Hn}):Hn;case"boolean":return new(J?Br:Cr)(d)}},TemplateLiteral:function(k){return new It({start:G(k),end:V(k),expressions:k.expressions.map(re),strings:k.quasis.map(function(d){return d.value.raw})})},TaggedTemplateExpression:function(k){var d=re(k.quasi);return d.start=G(k),d.end=V(k),d.tag=re(k.tag),d},Identifier:function(k){var d,J=P.length-1;do d=P[--J];while(d.type=="ArrayPattern"||d.type=="AssignmentPattern"&&d.left===P[J+1]||d.type=="ObjectPattern"||d.type=="Property"&&d.value===P[J+1]||d.type=="VariableDeclarator"&&d.id===P[J+1]);var ce=ee;switch(d.type){case"ArrowFunctionExpression":d.body!==P[J+1]&&(ce=Pn);break;case"BreakStatement":case"ContinueStatement":ce=mf;break;case"CatchClause":ce=Ui;break;case"ClassDeclaration":d.id===P[J+1]&&(ce=af);break;case"ClassExpression":d.id===P[J+1]&&(ce=qa);break;case"FunctionDeclaration":ce=d.id===P[J+1]?lr:Pn;break;case"FunctionExpression":ce=d.id===P[J+1]?gi:Pn;break;case"LabeledStatement":ce=Oa;break;case"VariableDeclaration":ce={const:pi,let:zr}[d.kind]||ri;break}return new ce({start:G(k),end:V(k),name:k.name})},Super:function(k){return new ha({start:G(k),end:V(k),name:"super"})},ThisExpression:function(k){return new $a({start:G(k),end:V(k),name:"this"})},ParenthesizedExpression:function(k){var d=re(k.expression);return d.start.parens||(d.start.parens=[]),d.start.parens.push(G(k)),d.end.parens||(d.end.parens=[]),d.end.parens.push(V(k)),d},ChainExpression:function(k){var d=re(k.expression);return d.terminal=!0,d}};t.UpdateExpression=t.UnaryExpression=function(d){var J="prefix"in d?d.prefix:d.type=="UnaryExpression";return new(J?Ue:Or)({start:G(d),end:V(d),operator:d.operator,expression:re(d.argument)})},fe("EmptyStatement",nt),fe("ExpressionStatement",je,"expression>body"),fe("BlockStatement",Ve,"body@body"),fe("IfStatement",Un,"test>condition, consequent>body, alternate>alternative"),fe("LabeledStatement",Kt,"label>label, body>body"),fe("BreakStatement",Ki,"label>label"),fe("ContinueStatement",Jr,"label>label"),fe("WithStatement",br,"object>expression, body>body"),fe("SwitchStatement",wi,"discriminant>expression, cases@body"),fe("ReturnStatement",tt,"argument>value"),fe("ThrowStatement",rf,"argument>value"),fe("WhileStatement",ia,"test>condition, body>body"),fe("DoWhileStatement",Fr,"test>condition, body>body"),fe("ForStatement",Nt,"init>init, test>condition, update>step, body>body"),fe("ForInStatement",oa,"left>init, right>object, body>body"),fe("DebuggerStatement",xa),fe("VariableDeclarator",Jn,"id>name, init>value"),fe("CatchClause",Li,"param>argname, body%body"),fe("BinaryExpression",ae,"operator=operator, left>left, right>right"),fe("LogicalExpression",ae,"operator=operator, left>left, right>right"),fe("AssignmentExpression",Ce,"operator=operator, left>left, right>right"),fe("AssignmentPattern",In,"left>name, right>value"),fe("ConditionalExpression",_n,"test>condition, consequent>consequent, alternate>alternative"),fe("NewExpression",Ai,"callee>expression, arguments@args, pure=pure"),fe("CallExpression",hn,"callee>expression, arguments@args, optional=optional, pure=pure"),fe("SequenceExpression",Xe,"expressions@expressions"),fe("SpreadElement",Cn,"argument>expression"),fe("ObjectExpression",st,"properties@properties"),fe("AwaitExpression",mt,"argument>expression"),fe("YieldExpression",xi,"argument>expression, delegate=nested"),ye(kt,function(d){return jn("Program",d)}),ye(dt,function(d){var J=d.argnames.map(L);return d.rest&&J.push({type:"RestElement",argument:L(d.rest)}),{type:"FunctionDeclaration",id:L(d.name),async:di(d),generator:Hi(d),params:J,body:jn("BlockStatement",d)}}),ye(dn,function(d){var J=d.argnames.map(L);return d.rest&&J.push({type:"RestElement",argument:L(d.rest)}),qt(d)?{type:"ArrowFunctionExpression",async:di(d),params:J,body:d.value?L(d.value):jn("BlockStatement",d)}:{type:"FunctionExpression",id:L(d.name),async:di(d),generator:Hi(d),params:J,body:jn("BlockStatement",d)}}),ye(mi,function(d){return{type:"ClassDeclaration",id:L(d.name),superClass:L(d.extends),body:{type:"ClassBody",body:d.properties.map(L)}}}),ye(yr,function(d){return{type:"ClassExpression",id:L(d.name),superClass:L(d.extends),body:{type:"ClassBody",body:d.properties.map(L)}}});function a(k){return function(d){var J=d.key instanceof X,ce=J?L(d.key):d.private?{type:"PrivateIdentifier",name:d.key.slice(1)}:{type:"Literal",value:d.key};return{type:"MethodDefinition",kind:k,computed:J,key:ce,static:d.static,value:L(d.value)}}}ye(ef,a("get")),ye(nf,a("set")),ye(ca,a("method")),ye(Rr,function(d){var J=d.key instanceof X,ce=J?L(d.key):d.private?{type:"PrivateIdentifier",name:d.key.slice(1)}:{type:"Literal",value:d.key};return{type:"PropertyDefinition",computed:J,key:ce,static:d.static,value:L(d.value)}}),ye(Gr,function(d){return jn("StaticBlock",d.value)});function u(k){return function(d){return{type:"ForOfStatement",await:k,left:L(d.init),right:L(d.object),body:L(d.body)}}}ye(Ta,u(!0)),ye(Sa,u(!1)),ye(ni,function(d){return{type:"ExpressionStatement",expression:ke(d,{type:"Literal",value:d.value})}}),ye(or,function(d){return{type:"SwitchCase",test:L(d.expression),consequent:d.body.map(L)}}),ye(Xt,function(d){return{type:"TryStatement",block:gn(d),handler:L(d.bcatch),guardedHandlers:[],finalizer:L(d.bfinally)}}),ye(Li,function(d){return{type:"CatchClause",param:L(d.argname),guard:null,body:gn(d)}}),ye(ki,function(d){return{type:"ExportNamedDeclaration",declaration:L(d.body)}}),ye(Ni,function(d){return{type:"ExportDefaultDeclaration",declaration:L(d.body)}}),ye(Aa,function(d){if(d.keys[0].value=="*")return{type:"ExportAllDeclaration",exported:d.aliases[0].value=="*"?null:Ee(d.aliases[0]),source:L(d.path)};for(var J=[],ce=0;ce<d.aliases.length;ce++)J.push(ke({start:d.keys[ce].start,end:d.aliases[ce].end},{type:"ExportSpecifier",local:Ee(d.keys[ce]),exported:Ee(d.aliases[ce])}));return{type:"ExportNamedDeclaration",specifiers:J,source:L(d.path)}}),ye(la,function(d){return{type:"ExportNamedDeclaration",specifiers:d.properties.map(function(J){return ke({start:J.start,end:J.alias.end},{type:"ExportSpecifier",local:L(J),exported:Ee(J.alias)})})}}),ye(Da,function(d){var J=d.properties?d.properties.map(function(ce){return ke({start:ce.key.start,end:ce.end},{type:"ImportSpecifier",local:L(ce),imported:Ee(ce.key)})}):[];return d.all&&J.unshift(ke(d.all,{type:"ImportNamespaceSpecifier",local:L(d.all)})),d.default&&J.unshift(ke(d.default,{type:"ImportDefaultSpecifier",local:L(d.default)})),{type:"ImportDeclaration",specifiers:J,source:L(d.path)}}),ye(gt,function(d){return{type:"VariableDeclaration",kind:d.TYPE.toLowerCase(),declarations:d.definitions.map(L)}}),ye(vn,function(d){var J=d instanceof at,ce={type:"MemberExpression",object:L(d.expression),computed:J,optional:d.optional,property:J?L(d.property):{type:"Identifier",name:d.property}};return d.terminal?{type:"ChainExpression",expression:ce}:ce}),ye(ft,function(d){return{type:d.operator=="++"||d.operator=="--"?"UpdateExpression":"UnaryExpression",operator:d.operator,prefix:d instanceof Ue,argument:L(d.expression)}}),ye(ae,function(d){return{type:d.operator=="&&"||d.operator=="||"?"LogicalExpression":"BinaryExpression",left:L(d.left),operator:d.operator,right:L(d.right)}}),ye(Dn,function(d){return{type:"ArrayExpression",elements:d.elements.map(L)}}),ye(Et,function(d){var J=d.elements.map(L);return d.rest&&J.push({type:"RestElement",argument:L(d.rest)}),{type:"ArrayPattern",elements:J}}),ye(Ft,function(d){var J=d.key instanceof X,ce=J?L(d.key):{type:"Literal",value:d.key};return{type:"Property",kind:"init",computed:J,key:ce,value:L(d.value)}}),ye(ii,function(d){var J=d.properties.map(L);return d.rest&&J.push({type:"RestElement",argument:L(d.rest)}),{type:"ObjectPattern",properties:J}}),ye(Di,function(d){var J=d.key instanceof X,ce=J?L(d.key):{type:"Literal",value:d.key},wn;return d instanceof Zt?wn="init":d instanceof aa?wn="get":d instanceof Kr&&(wn="set"),{type:"Property",kind:wn,computed:J,method:d instanceof Mr,key:ce,value:L(d.value)}}),ye(jt,function(d){var J=d.definition();return{type:"Identifier",name:J&&J.mangled_name||d.name}}),ye(ha,function(){return{type:"Super"}}),ye($a,function(){return{type:"ThisExpression"}}),ye(ff,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),ye(Vi,function(d){var J=d.value.toString().match(/\/([gimuy]*)$/)[1],ce="/"+d.value.raw_source+"/"+J;return{type:"Literal",value:ce,raw:ce,regex:{pattern:d.value.raw_source,flags:J}}}),ye(wf,function(d){var J=d.value;return{type:"Literal",bigint:J.slice(0,-1),raw:J}});function s(k){var d=k.value;return typeof d=="number"&&(d<0||d===0&&1/d<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-d,raw:k.start.raw}}:{type:"Literal",value:d,raw:k.start.raw}}ye(Na,s),ye(ut,s),ye($r,s),ye(fa,function(d){return{type:"Identifier",name:String(d.value)}}),ye(It,function(d){var J=d.strings.length-1,ce={type:"TemplateLiteral",expressions:d.expressions.map(L),quasis:d.strings.map(function(wn,Hn){return{type:"TemplateElement",tail:Hn==J,value:{raw:wn}}})};return d.tag?{type:"TaggedTemplateExpression",tag:L(d.tag),quasi:ce}:ce}),Mt.DEFMETHOD("to_mozilla_ast",Ve.prototype.to_mozilla_ast),Gt.DEFMETHOD("to_mozilla_ast",ta),X.DEFMETHOD("to_mozilla_ast",function(){throw new Error("Cannot convert AST_"+this.TYPE)});function m(k){for(var d=0;d<k.length;d++){var J=k[d];if(!(J instanceof je))break;var ce=J.body;if(!(ce instanceof On)||J.start.pos!==ce.start.pos)break;k[d]=new ni(ce)}return k}function A(k){if(k.type=="Literal")return k.raw!=null?k.raw:k.value+""}function G(k){var d=k.loc,J=d&&d.start,ce=k.range;return new Qa({file:d&&d.source,line:J&&J.line,col:J&&J.column,pos:ce?ce[0]:k.start,endline:J&&J.line,endcol:J&&J.column,endpos:ce?ce[0]:k.start,raw:A(k)})}function V(k){var d=k.loc,J=d&&d.end,ce=k.range;return new Qa({file:d&&d.source,line:J&&J.line,col:J&&J.column,pos:ce?ce[1]:k.end,endline:J&&J.line,endcol:J&&J.column,endpos:ce?ce[1]:k.end,raw:A(k)})}function He(k){return""+k[k.type=="Identifier"?"name":"value"]}function fe(k,d,J){var ce=["start: my_start_token(M)","end: my_end_token(M)"],wn=["type: "+JSON.stringify(k)];J&&J.split(/\s*,\s*/).forEach(function(Hn){var c=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(Hn);if(!c)throw new Error("Can't understand property map: "+Hn);var be=c[1],ai=c[2],pt=c[3];switch(ai){case"@":ce.push(pt+": M."+be+".map(from_moz)"),wn.push(be+": M."+pt+".map(to_moz)");break;case">":ce.push(pt+": from_moz(M."+be+")"),wn.push(be+": to_moz(M."+pt+")");break;case"=":ce.push(pt+": M."+be),wn.push(be+": M."+pt);break;case"%":ce.push(pt+": from_moz(M."+be+").body"),wn.push(be+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+Hn)}}),t[k]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+k+"(M) {","    return new U2.AST_"+d.TYPE+"({",ce.join(`,
`),"    });","};"].join(`
`))(Ri,G,V,re),ye(d,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+k+"(M) {","    return {",wn.join(`,
`),"    };","};"].join(`
`))(L,gn,jn))}var P=null;function re(k){P.push(k);var d=null;if(k){if(!Ct(t,k.type))throw new Error("Unsupported type: "+k.type);d=t[k.type](k)}return P.pop(),d}function ge(k){return new On({start:G(k),value:He(k),end:V(k)})}X.from_mozilla_ast=function(k){var d=P;P=[];var J=re(k);return P=d,J.walk(new on(function(ce){if(ce instanceof mf){for(var wn=0,Hn;(Hn=this.parent(wn))&&!(Hn instanceof sn);wn++)if(Hn instanceof Kt&&Hn.label.name==ce.name){ce.thedef=Hn.label;break}if(!ce.thedef){var c=ce.start;Gf("Undefined label "+ce.name,c.file,c.line,c.col,c.pos)}}})),J};function ke(k,d){var J=k.start,ce=k.end;return J.pos!=null&&ce.endpos!=null&&(d.range=[J.pos,ce.endpos]),J.line&&(d.loc={start:{line:J.line,column:J.col},end:ce.endline?{line:ce.endline,column:ce.endcol}:null},J.file&&(d.loc.source=J.file)),d}function ye(k,d){k.DEFMETHOD("to_mozilla_ast",function(){return ke(this,d(this))})}function L(k){return k!=null?k.to_mozilla_ast():null}function Ee(k){return Fa(k.value)?ke(k,{type:"Identifier",name:k.value}):L(k)}function gn(k){return{type:"BlockStatement",body:k.body.map(L)}}function jn(k,d){var J=d.body.map(L);return d.body[0]instanceof je&&d.body[0].body instanceof On&&J.unshift(L(new nt(d.body[0]))),{type:k,body:J}}})();function gs(){var t=new Gn;["NaN","null","true","false","Infinity","-Infinity","undefined"].forEach(u),["encodeURI","encodeURIComponent","escape","eval","decodeURI","decodeURIComponent","isFinite","isNaN","parseFloat","parseInt","unescape"].forEach(u);var a=Function("return this")();return["Array","ArrayBuffer","Atomics","BigInt","Boolean","console","DataView","Date","Error","Function","Int8Array","Intl","JSON","Map","Math","Number","Object","Promise","Proxy","Reflect","RegExp","Set","String","Symbol","WebAssembly"].forEach(function(s){u(s);var m=a[s];if(m&&(Object.getOwnPropertyNames(m).map(u),typeof m=="function")){m.__proto__&&Object.getOwnPropertyNames(m.__proto__).map(u),m.prototype&&Object.getOwnPropertyNames(m.prototype).map(u);try{Object.getOwnPropertyNames(new m).map(u)}catch{try{Object.getOwnPropertyNames(m()).map(u)}catch{}}}}),(gs=function(){return t.clone()})();function u(s){t.set(s,!0)}}function bs(t,a){t.walk(new on(function(s){s instanceof Mi||s instanceof Ft||s instanceof Di?s.key instanceof X?Xr(s.key,u):s.start&&s.start.quote&&u(s.key):s instanceof et?s.quoted&&u(s.property):s instanceof at&&Xr(s.property,u)}));function u(s){zi(a,s)}}function Xr(t,a){t instanceof _n?(Xr(t.consequent,a),Xr(t.alternative,a)):t instanceof Xe?Xr(t.tail_node(),a):t instanceof On&&a(t.value)}function Gs(t,a){a=Pr(a,{builtins:!1,cache:null,debug:!1,domprops:!1,keep_quoted:!1,regex:null,reserved:null},!0);var u=a.builtins?new Gn:gs();!a.domprops&&typeof domprops<"u"&&domprops.forEach(function(L){u.set(L,!0)}),Array.isArray(a.reserved)&&a.reserved.forEach(function(L){u.set(L,!0)});var s=-1,m;a.cache?(m=a.cache.props,m.each(function(L){u.set(L,!0)})):m=new Gn;var A=a.regex,G=a.debug!==!1,V;G&&(V=a.debug===!0?"":a.debug);var He=new Gn,fe=u.clone();t.walk(new on(function(L){if(L.TYPE=="Call"){var Ee=L.expression;if(Ee instanceof et)switch(Ee.property){case"defineProperty":case"getOwnPropertyDescriptor":if(L.args.length<2||(Ee=Ee.expression,!(Ee instanceof ee))||Ee.name!="Object"||!Ee.definition().undeclared)break;Xr(L.args[1],ge);break;case"hasOwnProperty":if(L.args.length<1)break;Xr(L.args[0],ge);break}}else L instanceof Mi||L instanceof Ft||L instanceof Di?L.key instanceof X?Xr(L.key,ge):ge(L.key):L instanceof et?Fi(L,this.parent())&&ge(L.property):L instanceof at&&Fi(L,this.parent())&&Xr(L.property,ge)})),t.walk(new on(function(L){if(L instanceof ae)L.operator=="in"&&ye(L.left);else if(L.TYPE=="Call"){var Ee=L.expression;if(Ee instanceof et)switch(Ee.property){case"defineProperty":case"getOwnPropertyDescriptor":if(L.args.length<2||(Ee=Ee.expression,!(Ee instanceof ee))||Ee.name!="Object"||!Ee.definition().undeclared)break;ye(L.args[1]);break;case"hasOwnProperty":if(L.args.length<1)break;ye(L.args[0]);break}}else L instanceof Mi||L instanceof Ft||L instanceof Di?L.key instanceof X?ye(L.key):L.key=ke(L.key):L instanceof et?L.property=ke(L.property):L instanceof at&&(a.keep_quoted||ye(L.property))}));function P(L){return!(fe.has(L)||/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(L))}function re(L){return u.has(L)?(X.info("Preserving reserved property {this}",L),!1):A&&!A.test(L)?(X.info("Preserving excluded property {this}",L),!1):m.has(L)||He.has(L)}function ge(L){P(L)&&He.set(L,!0),re(L)||fe.set(L,!0)}function ke(L){if(!re(L))return L;var Ee=m.get(L);if(!Ee){if(G){var gn="_$"+L+"$"+V+"_";P(gn)&&(Ee=gn)}if(!Ee)do Ee=vr(++s);while(!P(Ee));/^#/.test(L)&&(Ee="#"+Ee),m.set(L,Ee)}return X.info("Mapping property {name} to {mangled}",{mangled:Ee,name:L}),Ee}function ye(L){L instanceof Xe?ye(L.tail_node()):L instanceof On?L.value=ke(L.value):L instanceof _n&&(ye(L.consequent),ye(L.alternative))}}var zf,$f;typeof Xa.Buffer>"u"?(zf=atob,$f=btoa):typeof Xa.Buffer.alloc>"u"?(zf=function(t){return new Xa.Buffer(t,"base64").toString()},$f=function(t){return new Xa.Buffer(t).toString("base64")}):(zf=function(t){return Xa.Buffer.from(t,"base64").toString()},$f=function(t){return Xa.Buffer.from(t).toString("base64")});function Js(t,a){for(var u=a.end.comments_after,s=u.length;--s>=0;){var m=u[s];if(m.type!="comment1")break;var A=/^# ([^\s=]+)=(\S+)\s*$/.exec(m.value);if(!A)break;if(A[1]=="sourceMappingURL"){if(A=/^data:application\/json(;.*?)?;base64,([^,]+)$/.exec(A[2]),!A)break;return zf(A[2])}}X.warn("inline source map not found: {name}",{name:t})}function ys(t){try{return JSON.parse(t)}catch{throw new Error("invalid input source map: "+t)}}function Zr(t,a,u){u.forEach(function(s){a[s]&&(typeof a[s]!="object"&&(a[s]={}),t in a[s]||(a[s][t]=a[t]))})}function ds(t){t&&("props"in t?t.props instanceof Gn||(t.props=Gn.fromObject(t.props)):t.props=new Gn)}function ms(t){return{props:t.props.toObject()}}function Ms(t,a){try{a=Pr(a,{annotations:void 0,compress:{},enclose:!1,expression:!1,ie:!1,ie8:!1,keep_fargs:!1,keep_fnames:!1,mangle:{},module:!1,nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!!(a&&a.module),v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0),a.validate&&X.enable_validation();var u=a.timings&&{start:Date.now()};a.annotations!==void 0&&Zr("annotations",a,["compress","output"]),a.expression&&Zr("expression",a,["compress","parse"]),a.ie8&&(a.ie=a.ie||a.ie8),a.ie&&Zr("ie",a,["compress","mangle","output","rename"]),a.keep_fargs&&Zr("keep_fargs",a,["compress","mangle","rename"]),a.keep_fnames&&Zr("keep_fnames",a,["compress","mangle","rename"]),a.module&&Zr("module",a,["compress","parse"]),a.toplevel&&Zr("toplevel",a,["compress","mangle","rename"]),a.v8&&Zr("v8",a,["mangle","output","rename"]),a.webkit&&Zr("webkit",a,["compress","mangle","output","rename"]);var s;a.mangle&&(a.mangle=Pr(a.mangle,{cache:a.nameCache&&(a.nameCache.vars||{}),eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),a.mangle.properties&&(typeof a.mangle.properties!="object"&&(a.mangle.properties={}),a.mangle.properties.keep_quoted&&(s=a.mangle.properties.reserved,Array.isArray(s)||(s=[]),a.mangle.properties.reserved=s),a.nameCache&&!("cache"in a.mangle.properties)&&(a.mangle.properties.cache=a.nameCache.props||{})),ds(a.mangle.cache),ds(a.mangle.properties.cache)),a.rename===void 0&&(a.rename=a.compress&&a.mangle),a.sourceMap&&(a.sourceMap=Pr(a.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var m=[];a.warnings&&X.log_function(function(ke){m.push(ke)},a.warnings=="verbose"),u&&(u.parse=Date.now());var A;if(a.parse=a.parse||{},t instanceof X)A=t;else{typeof t=="string"&&(t=[t]),a.parse.toplevel=null;var G=a.sourceMap&&a.sourceMap.content;typeof G=="string"&&G!="inline"&&(G=ys(G)),G&&(a.sourceMap.orig=Object.create(null));for(var V in t)if(Ct(t,V))if(a.parse.filename=V,a.parse.toplevel=A=Ia(t[V],a.parse),G=="inline"){var He=Js(V,A);He&&(a.sourceMap.orig[V]=ys(He))}else G&&(a.sourceMap.orig[V]=G)}a.parse.expression&&(A=A.wrap_expression()),s&&bs(A,s),["enclose","wrap"].forEach(function(ke){var ye=a[ke];if(ye){var L=A.print_to_string().slice(0,-1);A=A[ke](ye),t[A.start.file]=A.print_to_string().replace(L,"")}}),a.validate&&A.validate_ast(),u&&(u.rename=Date.now()),a.rename&&(A.figure_out_scope(a.rename),A.expand_names(a.rename)),u&&(u.compress=Date.now()),a.compress&&(A=new sa(a.compress).compress(A),a.validate&&A.validate_ast()),u&&(u.scope=Date.now()),a.mangle&&A.figure_out_scope(a.mangle),u&&(u.mangle=Date.now()),a.mangle&&(A.compute_char_frequency(a.mangle),A.mangle_names(a.mangle)),u&&(u.properties=Date.now()),s&&bs(A,s),a.mangle&&a.mangle.properties&&Gs(A,a.mangle.properties),a.parse.expression&&(A=A.unwrap_expression()),u&&(u.output=Date.now());var fe={},P=Pr(a.output,{ast:!1,code:!0});if(P.ast&&(fe.ast=A),P.code){if(a.sourceMap&&(P.source_map=Vs(a.sourceMap),a.sourceMap.includeSources)){if(t instanceof kt)throw new Error("original source content unavailable");for(var V in t)Ct(t,V)&&P.source_map.setSourceContent(V,t[V])}delete P.ast,delete P.code;var re=Of(P);if(A.print(re),fe.code=re.get(),a.sourceMap){fe.map=P.source_map.toString();var ge=a.sourceMap.url;ge&&(fe.code=fe.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),ge=="inline"?fe.code+=`
//# sourceMappingURL=data:application/json;charset=utf-8;base64,`+$f(fe.map):fe.code+=`
//# sourceMappingURL=`+ge)}}return a.nameCache&&a.mangle&&(a.mangle.cache&&(a.nameCache.vars=ms(a.mangle.cache)),a.mangle.properties&&a.mangle.properties.cache&&(a.nameCache.props=ms(a.mangle.properties.cache))),u&&(u.end=Date.now(),fe.timings={parse:.001*(u.rename-u.parse),rename:.001*(u.compress-u.rename),compress:.001*(u.scope-u.compress),scope:.001*(u.mangle-u.scope),mangle:.001*(u.properties-u.mangle),properties:.001*(u.output-u.properties),output:.001*(u.end-u.output),total:.001*(u.end-u.start)}),m.length&&(fe.warnings=m),fe}catch(ke){return{error:ke}}finally{X.log_function(),X.disable_validation()}}Ri.Dictionary=Gn,Ri.is_statement=ar,Ri.List=Dt,Ri.minify=Ms,Ri.parse=Ia,Ri.push_uniq=zi,Ri.TreeTransformer=Jt,Ri.TreeWalker=on})(Os);const lu=uu(Os),bu=new class extends su{async beautify(){return ou.format(this.code,{plugins:[cu],parser:"babel",tabWidth:this.getOptionValue("tab",4)})}async compress(){let Ri=lu.minify(this.code,{keep_fnames:!0,compress:!1,mangle:!1,output:{beautify:!1}});if(!("code"in Ri)||!Ri.code)throw new Error(JSON.stringify(Ri.error));return Ri.code}};export{bu as formatter};
