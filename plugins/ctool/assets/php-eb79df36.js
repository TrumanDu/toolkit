import{s as Qc,p as Wc}from"./standalone-e4535819.js";import{K as Ji,L as Yc}from"./tool-4bde39df.js";import{B as jc}from"./base-f0edccdd.js";import"./modulepreload-polyfill-3cfb730f.js";var qi={exports:{}};(function(Kc,$o){(function(Wt,hi){hi($o,Qc)})(Ji,function(Wt,hi){function zo(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Yt=zo(hi);function Zi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function Oe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Zi(Object(i),!0).forEach(function(n){tn(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zi(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function me(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */me=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",h=n.toStringTag||"@@toStringTag";function r(_,u,A){return Object.defineProperty(_,u,{value:A,enumerable:!0,configurable:!0,writable:!0}),_[u]}try{r({},"")}catch{r=function(u,A,N){return u[A]=N}}function c(_,u,A,N){var T=u&&u.prototype instanceof y?u:y,V=Object.create(T.prototype),Y=new z(N||[]);return V._invoke=function(J,rt,O){var K="suspendedStart";return function(dt,ee){if(K==="executing")throw new Error("Generator is already running");if(K==="completed"){if(dt==="throw")throw ee;return st()}for(O.method=dt,O.arg=ee;;){var ie=O.delegate;if(ie){var Lt=F(ie,O);if(Lt){if(Lt===a)continue;return Lt}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(K==="suspendedStart")throw K="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);K="executing";var vt=l(J,rt,O);if(vt.type==="normal"){if(K=O.done?"completed":"suspendedYield",vt.arg===a)continue;return{value:vt.arg,done:O.done}}vt.type==="throw"&&(K="completed",O.method="throw",O.arg=vt.arg)}}}(_,A,Y),V}function l(_,u,A){try{return{type:"normal",arg:_.call(u,A)}}catch(N){return{type:"throw",arg:N}}}t.wrap=c;var a={};function y(){}function E(){}function D(){}var M={};r(M,s,function(){return this});var g=Object.getPrototypeOf,H=g&&g(g(bt([])));H&&H!==e&&i.call(H,s)&&(M=H);var L=D.prototype=y.prototype=Object.create(M);function Q(_){["next","throw","return"].forEach(function(u){r(_,u,function(A){return this._invoke(u,A)})})}function W(_,u){function A(T,V,Y,J){var rt=l(_[T],_,V);if(rt.type!=="throw"){var O=rt.arg,K=O.value;return K&&typeof K=="object"&&i.call(K,"__await")?u.resolve(K.__await).then(function(dt){A("next",dt,Y,J)},function(dt){A("throw",dt,Y,J)}):u.resolve(K).then(function(dt){O.value=dt,Y(O)},function(dt){return A("throw",dt,Y,J)})}J(rt.arg)}var N;this._invoke=function(T,V){function Y(){return new u(function(J,rt){A(T,V,J,rt)})}return N=N?N.then(Y,Y):Y()}}function F(_,u){var A=_.iterator[u.method];if(A===void 0){if(u.delegate=null,u.method==="throw"){if(_.iterator.return&&(u.method="return",u.arg=void 0,F(_,u),u.method==="throw"))return a;u.method="throw",u.arg=new TypeError("The iterator does not provide a 'throw' method")}return a}var N=l(A,_.iterator,u.arg);if(N.type==="throw")return u.method="throw",u.arg=N.arg,u.delegate=null,a;var T=N.arg;return T?T.done?(u[_.resultName]=T.value,u.next=_.nextLoc,u.method!=="return"&&(u.method="next",u.arg=void 0),u.delegate=null,a):T:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,a)}function C(_){var u={tryLoc:_[0]};1 in _&&(u.catchLoc=_[1]),2 in _&&(u.finallyLoc=_[2],u.afterLoc=_[3]),this.tryEntries.push(u)}function G(_){var u=_.completion||{};u.type="normal",delete u.arg,_.completion=u}function z(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(C,this),this.reset(!0)}function bt(_){if(_){var u=_[s];if(u)return u.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var A=-1,N=function T(){for(;++A<_.length;)if(i.call(_,A))return T.value=_[A],T.done=!1,T;return T.value=void 0,T.done=!0,T};return N.next=N}}return{next:st}}function st(){return{value:void 0,done:!0}}return E.prototype=D,r(L,"constructor",D),r(D,"constructor",E),E.displayName=r(D,h,"GeneratorFunction"),t.isGeneratorFunction=function(_){var u=typeof _=="function"&&_.constructor;return!!u&&(u===E||(u.displayName||u.name)==="GeneratorFunction")},t.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,D):(_.__proto__=D,r(_,h,"GeneratorFunction")),_.prototype=Object.create(L),_},t.awrap=function(_){return{__await:_}},Q(W.prototype),r(W.prototype,o,function(){return this}),t.AsyncIterator=W,t.async=function(_,u,A,N,T){T===void 0&&(T=Promise);var V=new W(c(_,u,A,N),T);return t.isGeneratorFunction(u)?V:V.next().then(function(Y){return Y.done?Y.value:V.next()})},Q(L),r(L,h,"Generator"),r(L,s,function(){return this}),r(L,"toString",function(){return"[object Generator]"}),t.keys=function(_){var u=[];for(var A in _)u.push(A);return u.reverse(),function N(){for(;u.length;){var T=u.pop();if(T in _)return N.value=T,N.done=!1,N}return N.done=!0,N}},t.values=bt,z.prototype={constructor:z,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var u in this)u.charAt(0)==="t"&&i.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var u=this;function A(rt,O){return V.type="throw",V.arg=_,u.next=rt,O&&(u.method="next",u.arg=void 0),!!O}for(var N=this.tryEntries.length-1;N>=0;--N){var T=this.tryEntries[N],V=T.completion;if(T.tryLoc==="root")return A("end");if(T.tryLoc<=this.prev){var Y=i.call(T,"catchLoc"),J=i.call(T,"finallyLoc");if(Y&&J){if(this.prev<T.catchLoc)return A(T.catchLoc,!0);if(this.prev<T.finallyLoc)return A(T.finallyLoc)}else if(Y){if(this.prev<T.catchLoc)return A(T.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return A(T.finallyLoc)}}}},abrupt:function(_,u){for(var A=this.tryEntries.length-1;A>=0;--A){var N=this.tryEntries[A];if(N.tryLoc<=this.prev&&i.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var T=N;break}}T&&(_==="break"||_==="continue")&&T.tryLoc<=u&&u<=T.finallyLoc&&(T=null);var V=T?T.completion:{};return V.type=_,V.arg=u,T?(this.method="next",this.next=T.finallyLoc,a):this.complete(V)},complete:function(_,u){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&u&&(this.next=u),a},finish:function(_){for(var u=this.tryEntries.length-1;u>=0;--u){var A=this.tryEntries[u];if(A.finallyLoc===_)return this.complete(A.completion,A.afterLoc),G(A),a}},catch:function(_){for(var u=this.tryEntries.length-1;u>=0;--u){var A=this.tryEntries[u];if(A.tryLoc===_){var N=A.completion;if(N.type==="throw"){var T=N.arg;G(A)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(_,u,A){return this.delegate={iterator:bt(_),resultName:u,nextLoc:A},this.method==="next"&&(this.arg=void 0),a}},t}function jt(t){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(t)}function tn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Et(t,e){return function(i){if(Array.isArray(i))return i}(t)||function(i,n){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var o,h,r=[],c=!0,l=!1;try{for(s=s.call(i);!(c=(o=s.next()).done)&&(r.push(o.value),!n||r.length!==n);c=!0);}catch(a){l=!0,h=a}finally{try{c||s.return==null||s.return()}finally{if(l)throw h}}return r}}(t,e)||li(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(t){return function(e){if(Array.isArray(e))return ci(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||li(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function li(t,e){if(t){if(typeof t=="string")return ci(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ci(t,e):void 0}}function ci(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function en(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=li(t))||e&&t&&typeof t.length=="number"){i&&(t=i);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,h=!0,r=!1;return{s:function(){i=i.call(t)},n:function(){var c=i.next();return h=c.done,c},e:function(c){r=!0,o=c},f:function(){try{h||i.return==null||i.return()}finally{if(r)throw o}}}}var Re={attributeIndex:0,attributeListDepth:{},matchST_ATTRIBUTE:function(){var t=this.input();if(this.is_WHITESPACE()){do t=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(t){case"]":return this.attributeListDepth[this.attributeIndex]===0?(delete this.attributeListDepth[this.attributeIndex],this.attributeIndex--,this.popState()):this.attributeListDepth[this.attributeIndex]--,"]";case"(":case")":case":":case"=":case"|":case"&":case"^":case"-":case"+":case"*":case"%":case"~":case"<":case">":case"!":return this.consume_TOKEN();case"[":return this.attributeListDepth[this.attributeIndex]++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN()}if(this.is_LABEL_START()||t==="\\"){for(;this.offset<this.size;){var e=this.input();if(!this.is_LABEL()&&e!=="\\"){e&&this.unput(1);break}}return this.T_STRING()}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(t,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};Re.attributeIndex,Re.attributeListDepth,Re.matchST_ATTRIBUTE;var ui={T_COMMENT:function(){for(;this.offset<this.size;){var t=this.input();if(t===`
`||t==="\r")return this.tok.T_COMMENT;if(t==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(t==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var t=this.input(),e=this.tok.T_COMMENT;if(t==="*"){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),t==="/")return e;this.unput(1)}for(;this.offset<this.size;)if((t=this.input())==="*"&&this._input[this.offset]==="/"){this.input();break}return e}};ui.T_COMMENT,ui.T_DOC_COMMENT;var _i={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var t=this.input();if(t=="<"){if((t=this.ahead(1))=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&((t=this._input[this.offset+4])===" "||t==="	"||t===`
`||t==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&t=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};_i.nextINITIAL,_i.matchINITIAL;var oe={consume_NUM:function(){var t=this.yytext[0],e=t===".";if(t==="0")if((t=this.input())==="x"||t==="X"){if((t=this.input())!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if(t==="b"||t==="B"){if((t=this.input())!=="_"&&t==="0"||t==="1")return this.consume_BNUM();this.unput(t?2:1)}else if(t==="o"||t==="O"){if((t=this.input())!=="_"&&this.is_OCTAL())return this.consume_ONUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){var i=t;if((t=this.input())==="_"){if(i==="_"){this.unput(2);break}if(i==="."){this.unput(1);break}if(i==="e"||i==="E"){this.unput(2);break}}else{if(t==="."){if(e){this.unput(1);break}if(i==="_"){this.unput(2);break}e=!0;continue}if(t==="e"||t==="E"){if(i==="_"){this.unput(1);break}var n=2;if((t=this.input())!=="+"&&t!=="-"||(n=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?n:n-1);break}}if(!this.is_NUM()){t&&this.unput(1);break}}return e?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var t;this.offset<this.size;)if((t=this.input())!=="0"&&t!=="1"&&t!=="_"){t&&this.unput(1);break}return this.tok.T_LNUMBER},consume_ONUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_OCTAL()){t&&this.unput(1);break}}return this.tok.T_LNUMBER}};oe.consume_NUM,oe.consume_HNUM,oe.consume_LNUM,oe.consume_BNUM,oe.consume_ONUM;var we={matchST_LOOKING_FOR_PROPERTY:function(){var t=this.input();if(t==="-"){if((t=this.input())===">")return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),(t=this.input())==="["||t==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(t==="]")return this.popState(),"]";if(t==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||t==="\\"||t==="'"||t==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(t==="["||t==="{"||t==="}"||t==='"'||t==="`"||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}};we.matchST_LOOKING_FOR_PROPERTY,we.matchST_LOOKING_FOR_VARNAME,we.matchST_VAR_OFFSET;var di={matchST_IN_SCRIPTING:function(){var t=this.input();switch(t){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this.version>=800&&this._input[this.offset]==="["?(this.input(),this.attributeListDepth[++this.attributeIndex]=0,this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var e=this._input[this.offset];return e!==`
`&&e!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),(t=this._input[this.offset])!==`
`&&t!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(t==="."){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var t=this.input();if(t!==" "&&t!=="	"&&t!==`
`&&t!=="\r"){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}};di.matchST_IN_SCRIPTING,di.T_WHITESPACE;var $t=[`
`,"\r"],nn=[`
`,"\r",";"],Ko=nn.concat(["	"," ",",","]",")","/","=","!"]),St={T_CONSTANT_ENCAPSED_STRING:function(){for(var t;this.offset<this.size;)if((t=this.input())=="\\")this.input();else if(t=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var t=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var e=this._input[this.offset-1];if(e==="'"||e==='"'?this.offset++:e=null,this.is_LABEL_START()){for(var i=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var n=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,$t.includes(this._input[this.offset-1])))return this.heredoc_label.label=n,this.heredoc_label.length=n.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),e==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){for(var t;this.offset<this.size;)if((t=this.input())=="\\")this.input();else{if(t=='"')break;if(t=="$"){if((t=this.input())=="{"||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if(t=="{"){if((t=this.input())=="$"){this.unput(2);break}t&&this.unput(1)}}if(t=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;var e=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(e=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-e),this.unput(this.yytext.length-e),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(t,e){var i=this._input[t-2];if(!$t.includes(i))return!1;var n=!1,s=!1,o=0,h=this._input[t-1];if(this.version>=703){for(;h==="	"||h===" ";)h===" "?n=!0:h==="	"&&(s=!0),h=this._input[t+o],o++;if(t+=o,$t.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){var r=this._input[t-1+this.heredoc_label.length];if((this.version>=703?Ko:nn).includes(r)){if(e){if(this.consume(o),n&&s)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=o,this.heredoc_label.indentation_uses_spaces=n,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var t=this.offset+1;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!$t.includes(this._input[t-1]))for(;!$t.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var t=this._input[this.offset-1];this.offset<this.size;)if($t.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(t==="\\"&&(t=this.input(),$t.includes(t)||(t=this.input())),$t.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(t==="$"){if((t=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if(t==="{"){if((t=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var t=this.input();if(t=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(t==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var t=this.input();if(t==="$"){if((t=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==="`")return this.popState(),"`";for(;this.offset<this.size;){if(t==="\\")this.input();else{if(t==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(t==="$"){if((t=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}if(t==="{"){if((t=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var t=this.input();if(t==="$"){if((t=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==='"')return this.popState(),'"';for(;this.offset<this.size;){if(t==="\\")this.input();else{if(t==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(t==="$"){if((t=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if(t==="{"){if((t=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};St.T_CONSTANT_ENCAPSED_STRING,St.is_HEREDOC,St.ST_DOUBLE_QUOTES,St.isDOC_MATCH,St.prematch_ENDOFDOC,St.matchST_NOWDOC,St.matchST_HEREDOC,St.consume_VARIABLE,St.matchST_BACKQUOTE,St.matchST_DOUBLE_QUOTES;var De={T_STRING:function(){var t=this.yytext.toLowerCase(),e=this.keywords[t];if(typeof e!="number"){if(t==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,t==="b"||t==="B"){var i=this.input();if(i==='"')return this.ST_DOUBLE_QUOTES();if(i==="'")return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}}if(e===this.tok.T_ENUM){if(this.version<801)return this.tok.T_STRING;for(var n=this.offset,s=this.input();s==" ";)s=this.input();var o=!1;if(this.is_LABEL_START()){for(;this.is_LABEL();)s+=this.input();var h=s.slice(0,-1).toLowerCase();o=h!=="extends"&&h!=="implements"}return this.unput(this.offset-n),o?this.tok.T_ENUM:this.tok.T_STRING}if(this.offset<this.size&&e!==this.tok.T_YIELD_FROM){var r=this.input();if(r==="\\"){e=t==="namespace"?this.tok.T_NAME_RELATIVE:this.tok.T_NAME_QUALIFIED;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),r=this.input()}while(r==="\\")}r&&this.unput(1)}return e},consume_TOKEN:function(){var t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var t=this._input[this.offset];return t===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):t==="-"?(this.input(),this.tok.T_DEC):t==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){if(this.offset<this.size){if(this.input(),this.is_LABEL_START()){var t;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),t=this.input()}while(t==="\\");return this.unput(1),this.tok.T_NAME_FULLY_QUALIFIED}this.unput(1)}return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var e=this.yytext.length;this.consume_LABEL();var i=this.yytext.substring(e-1).toLowerCase(),n=this.castKeywords[i];if(typeof n=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return n}return this.unput(this.offset-t),"("},"=":function(){var t=this._input[this.offset];return t===">"?(this.input(),this.tok.T_DOUBLE_ARROW):t==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var t=this._input[this.offset];return t==="+"?(this.input(),this.tok.T_INC):t==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var t=this._input[this.offset];return t==="<"?(t=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SL_EQUAL):t==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):t==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):t===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):t===">"?(t=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_MUL_EQUAL):t==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_CONCAT_EQUAL):t==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_AND_EQUAL):t==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_OR_EQUAL):t==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};De.T_STRING,De.consume_TOKEN,De.tokenTerminals;var At={is_NUM:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t===95},is_NUM_START:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){var t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||t===95||t>47&&t<58||t>126},is_LABEL_START:function(){var t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||t>96&&t<123||t===95||t>126},consume_LABEL:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){var t=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(t)!==-1},is_WHITESPACE:function(){var t=this._input[this.offset-1];return t===" "||t==="	"||t===`
`||t==="\r"},is_TABSPACE:function(){var t=this._input[this.offset-1];return t===" "||t==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103||t===95},is_OCTAL:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<56||t===95}};At.is_NUM,At.is_NUM_START,At.is_LABEL,At.is_LABEL_START,At.consume_LABEL,At.is_TOKEN,At.is_WHITESPACE,At.is_TABSPACE,At.consume_TABSPACE,At.is_HEX,At.is_OCTAL;var lt=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=801,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};lt.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},lt.prototype.input=function(){var t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,t==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),t===`
`||t==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""},lt.prototype.unput=function(t){if(t===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,t++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var e=0;e<this.yytext.length;e++){var i=this.yytext[e];i==="\r"?(i=this.yytext[++e],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,i!==`
`&&(i==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):i===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},lt.prototype.tryMatch=function(t){return t===this.ahead(t.length)},lt.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()},lt.prototype.ahead=function(t){var e=this._input.substring(this.offset,this.offset+t);return e[e.length-1]==="\r"&&this._input[this.offset+t+1]===`
`&&(e+=`
`),e},lt.prototype.consume=function(t){for(var e=0;e<t;e++){var i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,i==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,e++),i===`
`||i==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},lt.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},lt.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this},lt.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this},lt.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t},lt.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+t+'"');return this},lt.prototype.popState=function(){var t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return t},lt.prototype.next=function(){var t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(jt((t=this.tokens.shift())[1])==="object"?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){var e=t;e=typeof e=="number"?this.engine.tokens.values[e]:'"'+e+'"';var i=new Error(e+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(i.stack)}return t},[Re,ui,_i,oe,we,di,St,De,At].forEach(function(t){for(var e in t)lt.prototype[e]=t[e]});var sn=lt,rn=function(t,e,i){this.line=t,this.column=e,this.offset=i},Pe={read_array:function(){var t=null,e=!1,i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");var n=[];return this.next().token!==t&&(n=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,n)},read_array_pair_list:function(t){var e=this;return this.read_list(function(){return e.read_array_pair(t)},",",!0)},read_array_pair:function(t){if(!(!t&&this.token===")"||t&&this.token==="]")){if(this.token===",")return this.node("noop")();var e=this.node("entry"),i=null,n=null,s=!1,o=!1;if(this.token==="&")this.next(),s=!0,n=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),o=!0,n=this.read_expr();else{var h=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=h,this.token==="&"?(this.next(),s=!0,n=this.read_variable(!0,!1)):n=this.read_expr()):n=h}return e(i,n,s,o)}}};Pe.read_array,Pe.read_array_pair_list,Pe.read_array_pair;var ft={read_class_declaration_statement:function(t){var e=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var n=this.node("identifier"),s=this.text();this.next(),n=n(s);var o=this.read_extends_from(),h=this.read_implements_list();this.expect("{");var r=e(n,o,h,this.next().read_class_body(!0,!1),i);return t&&(r.attrGroups=t),r},read_class_modifiers:function(){var t=this.read_class_modifier({readonly:0,final_or_abstract:0});return[0,0,t.final_or_abstract,t.readonly]},read_class_modifier:function(t){return this.token===this.tok.T_READ_ONLY?(this.next(),t.readonly=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_ABSTRACT?(this.next(),t.final_or_abstract=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_FINAL&&(this.next(),t.final_or_abstract=2,t=this.read_class_modifier(t)),t},read_class_body:function(t,e){for(var i=[],n=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE)if(e&&this.token===this.tok.T_CASE){var s=this.read_enum_case();this.expect(";")&&this.next(),i=i.concat(s)}else{this.token===this.tok.T_ATTRIBUTE&&(n=this.read_attr_list());var o=this.position(),h=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(t&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),h[0]=null,h[1]=0),this.token===this.tok.T_FUNCTION)i.push(this.read_function(!1,h,n,o)),n=[];else if(t&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&(this.token==="?"||this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING))){var r=this.read_variable_list(h,n);n=[],this.expect(";"),this.next(),i=i.concat(r)}else this.error([this.tok.T_CONST].concat(j(t?[this.tok.T_VARIABLE]:[]),j(e?[this.tok.T_CASE]:[]),[this.tok.T_FUNCTION])),this.next();else{var c=this.read_constant_list(h,n);this.expect(";")&&this.next(),i=i.concat(c)}}else i=i.concat(this.read_trait_use_statement());else i.push(this.read_doc_comment());else i.push(this.read_comment());return this.expect("}"),this.next(),i},read_variable_list:function(t,e){var i=this.node("propertystatement"),n=this.read_list(function(){var s=this.node("property"),o=!1;this.token===this.tok.T_READ_ONLY&&(o=!0,this.next());var h=Et(this.read_optional_type(),2),r=h[0],c=h[1];this.expect(this.tok.T_VARIABLE);var l=this.node("identifier"),a=this.text().substring(1);return this.next(),l=l(a),this.token===";"||this.token===","?s(l,null,o,r,c,e||[]):this.token==="="?s(l,this.next().read_expr(),o,r,c,e||[]):(this.expect([",",";","="]),s(l,null,r,c,e||[]))},",");return i(null,n,t)},read_constant_list:function(t,e){this.expect(this.tok.T_CONST)&&this.next();var i=this.node("classconstant"),n=this.read_list(function(){var s=this.node("constant"),o=null,h=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){o=this.node("identifier");var r=this.text();this.next(),o=o(r)}else this.expect("IDENTIFIER");return this.expect("=")&&(h=this.next().read_expr()),s(o,h)},",");return i(null,n,t,e||[])},read_member_flags:function(t){var e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var i=0,n=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,n=0;break;case this.tok.T_PROTECTED:i=0,n=1;break;case this.tok.T_PRIVATE:i=0,n=2;break;case this.tok.T_STATIC:i=1,n=1;break;case this.tok.T_ABSTRACT:i=2,n=1;break;case this.tok.T_FINAL:i=2,n=2}t&&(i==0&&n==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),n=-1):i==2&&n==1&&(this.error(),n=-1)),e[i]!==-1?this.error():n!==-1&&(e[i]=n)}while(this.next().is("T_MEMBER_FLAGS"))}return e[1]==-1&&(e[1]=0),e[2]==-1&&(e[2]=0),e},read_optional_type:function(){var t=!1;this.token==="?"&&(t=!0,this.next());var e=this.read_types();if(t&&!e&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!e)return[!1,null];if(this.token==="|"){e=[e];do{this.next();var i=this.read_type();if(!i){this.raiseError("Expecting a type definition");break}e.push(i)}while(this.token==="|")}return[t,e]},read_interface_declaration_statement:function(t){var e=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=this.read_interface_extends_list();return this.expect("{"),e(i,s,this.next().read_interface_body(),t||[])},read_interface_body:function(){for(var t=[],e=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var i=this.position();e=this.read_attr_list();var n=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var s=this.read_constant_list(n,e);this.expect(";")&&this.next(),t=t.concat(s),e=[]}else if(this.token===this.tok.T_FUNCTION){var o=this.read_function_declaration(2,n,e,i);o.parseFlags(n),t.push(o),this.expect(";")&&this.next(),e=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else t.push(this.read_doc_comment());else t.push(this.read_comment());return this.expect("}")&&this.next(),t},read_trait_declaration_statement:function(){var t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("{"),t(e,this.next().read_class_body(!0,!1))},read_trait_use_statement:function(){var t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var e=[this.read_namespace_name()],i=null;this.token===",";)e.push(this.next().read_namespace_name());if(this.token==="{"){for(i=[];this.next().token!==this.EOF&&this.token!=="}";)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){var t,e=this.node(),i=null;if(this.is("IDENTIFIER")){t=this.node("identifier");var n=this.text();this.next(),t=t(n)}else if(t=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){i=t,t=this.node("identifier");var s=this.text();this.next(),t=t(s)}else this.expect(this.tok.T_STRING);else t=t.name;if(this.token===this.tok.T_INSTEADOF)return e("traitprecedence",i,t,this.next().read_name_list());if(this.token===this.tok.T_AS){var o=null,h=null;if(this.next().is("T_MEMBER_FLAGS")&&(o=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){h=this.node("identifier");var r=this.text();this.next(),h=h(r)}else o===!1&&this.expect(this.tok.T_STRING);return e("traitalias",i,t,h,o)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),e("traitalias",i,t,null,null)}};ft.read_class_declaration_statement,ft.read_class_modifiers,ft.read_class_modifier,ft.read_class_body,ft.read_variable_list,ft.read_constant_list,ft.read_member_flags,ft.read_optional_type,ft.read_interface_declaration_statement,ft.read_interface_body,ft.read_trait_declaration_statement,ft.read_trait_use_statement,ft.read_trait_use_alias;var pi={read_comment:function(){var t=this.text(),e=this.ast.prepare(t.substring(0,2)==="/*"?"commentblock":"commentline",null,this),i=this.lexer.yylloc.first_offset,n=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(e=e(t)).offset=i,this.prev=n,e},read_doc_comment:function(){var t=this.ast.prepare("commentblock",null,this),e=this.lexer.yylloc.first_offset,i=this.text(),n=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(t=t(i)).offset=e,this.prev=n,t}};pi.read_comment,pi.read_doc_comment;var Z={read_expr:function(t){var e=this.node();if(this.token==="@")return t||(t=this.next().read_expr()),e("silent",t);if(t||(t=this.read_expr_item()),this.token==="|")return e("bin","|",t,this.next().read_expr());if(this.token==="&")return e("bin","&",t,this.next().read_expr());if(this.token==="^")return e("bin","^",t,this.next().read_expr());if(this.token===".")return e("bin",".",t,this.next().read_expr());if(this.token==="+")return e("bin","+",t,this.next().read_expr());if(this.token==="-")return e("bin","-",t,this.next().read_expr());if(this.token==="*")return e("bin","*",t,this.next().read_expr());if(this.token==="/")return e("bin","/",t,this.next().read_expr());if(this.token==="%")return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if(this.token==="<")return e("bin","<",t,this.next().read_expr());if(this.token===">")return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if(this.token==="?"){var i=null;return this.next().token!==":"&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}return e.destroy(t),t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var t=null;switch(this.token){case this.tok.T_ISSET:t=this.node("isset"),this.next().expect("(")&&this.next();var e=this.read_isset_variables();this.expect(")")&&this.next(),t=t(e);break;case this.tok.T_EMPTY:t=this.node("empty"),this.next().expect("(")&&this.next();var i=this.read_expr();this.expect(")")&&this.next(),t=t(i);break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:t=this.node("eval"),this.next().expect("(")&&this.next();var n=this.read_expr();this.expect(")")&&this.next(),t=t(n);break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr())}return t},read_optional_expr:function(t){return this.token!==t?this.read_expr():null},read_exit_expr:function(){var t=null;return this.token==="("&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item:function(){var t,e,i=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return(e=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var n=null,s=this.innerList;t=this.node("list"),s||(n=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var o=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var h=!1,r=0;r<o.length;r++)if(o[r]!==null&&o[r].kind!=="noop"){h=!0;break}return h||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),s?t(o,!1):(this.innerList=!1,this.expect("=")?n(t(o,!1),this.next().read_expr(),"="):t(o,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var c=this.lexer.yytext.toLowerCase()==="die";return t=this.node("exit"),this.next(),t(this.read_exit_expr(),c);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var l=null,a=null;return t=this.node("yield"),this.next().is("EXPR")&&(l=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(a=l,l=this.next().read_expr())),t(l,a);case this.tok.T_YIELD_FROM:return(t=this.node("yieldfrom"))(e=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:var y=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(y),this.next()}if(this.is("VARIABLE")){t=this.node();var E=(e=this.read_variable(!1,!1)).kind==="identifier"||e.kind==="staticlookup"&&e.offset.kind==="identifier";switch(this.token){case"=":return E&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(t,e):t("assign",e,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return E&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"??=");case this.tok.T_INC:return E&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return E&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else{if(this.is("SCALAR")){if(t=this.node(),(e=this.read_scalar()).kind==="array"&&e.shortForm&&this.token==="="){var D=this.convertToList(e);return e.loc&&(D.loc=e.loc),t("assign",D,this.next().read_expr(),"=")}return t.destroy(e),this.handleDereferencable(e)}this.error("EXPR"),this.next()}return e},convertToList:function(t){var e=this,i=t.items.map(function(s){return s.value&&s.value.kind==="array"&&s.value.shortForm&&(s.value=e.convertToList(s.value)),s}),n=this.node("list")(i,!0);return t.loc&&(n.loc=t.loc),t.leadingComments&&(n.leadingComments=t.leadingComments),t.trailingComments&&(n.trailingComments=t.trailingComments),n},read_assignref:function(t,e){var i;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",e,i)},read_inline_function:function(t,e){if(this.token===this.tok.T_FUNCTION){var i=this.read_function(!0,t,e);return i.attrGroups=e,i}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var n=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var s=this.is_reference();this.expect("(")&&this.next();var o=this.read_parameter_list();this.expect(")")&&this.next();var h=!1,r=null;this.token===":"&&(this.next().token==="?"&&(h=!0,this.next()),r=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var c=n(o,s,this.read_expr(),r,h,!!t);return c.attrGroups=e,c},read_match_expression:function(){var t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var e,i;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(e,i)},read_match_arms:function(){var t=this;return this.read_list(function(){return t.read_match_arm()},",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute:function(){var t=this.text(),e=[];return this.next(),this.token==="("&&(e=this.read_argument_list()),this.node("attribute")(t,e)},read_attr_list:function(){var t=[];if(this.token===this.tok.T_ATTRIBUTE)do{var e=this.node("attrgroup")([]);for(this.next(),e.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&e.attrs.push(this.read_attribute());t.push(e),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr:function(){var t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var e=[];if(this.token==="("){this.next();var i=this.read_expr();return this.expect(")"),this.next(),this.token==="("&&(e=this.read_argument_list()),t(i,e)}var n=this.read_attr_list();if(this.token===this.tok.T_CLASS){var s=this.node("class");this.next().token==="("&&(e=this.read_argument_list());var o=this.read_extends_from(),h=this.read_implements_list(),r=null;this.expect("{")&&(r=this.next().read_class_body(!0,!1));var c=s(null,o,h,r,[0,0,0]);return c.attrGroups=n,t(c,e)}for(var l=this.read_new_class_name();this.token==="[";){var a=this.node("offsetlookup"),y=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),l=a(l,y)}return this.token==="("&&(e=this.read_argument_list()),t(l,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")t=this.read_dereferencable(t);else{if(this.token!=="(")return t;t=this.node("call")(t,this.read_argument_list())}return t}};Z.read_expr,Z.read_expr_cast,Z.read_isset_variable,Z.read_isset_variables,Z.read_internal_functions_in_yacc,Z.read_optional_expr,Z.read_exit_expr,Z.read_expr_item,Z.convertToList,Z.read_assignref,Z.read_inline_function,Z.read_match_expression,Z.read_match_arms,Z.read_match_arm,Z.read_match_arm_conds,Z.read_attribute,Z.read_attr_list,Z.read_new_expr,Z.read_new_class_name,Z.handleDereferencable;var Ue={read_enum_declaration_statement:function(t){var e=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);var i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=this.read_enum_value_type(),o=this.read_implements_list();this.expect("{");var h=e(i,s,o,this.next().read_class_body(!1,!0));return t&&(h.attrGroups=t),h},read_enum_value_type:function(){return this.token===":"?this.next().read_namespace_name():null},read_enum_case:function(){this.expect(this.tok.T_CASE);var t=this.node("enumcase"),e=this.node("identifier"),i=this.next().text();this.next(),e=e(i);var n=this.token==="="?this.next().read_expr():null;return this.expect(";"),t(e,n)}};Ue.read_enum_declaration_statement,Ue.read_enum_value_type,Ue.read_enum_case;var ot={is_reference:function(){return this.token==="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(t,e,i,n){var s=this.read_function_declaration(t?1:e?2:0,e&&e[1]===1,i||[],n);return e&&e[2]==1?(s.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(s.body=this.read_code_block(!1),s.loc&&s.body.loc&&(s.loc.end=s.body.loc.end)),!t&&e&&s.parseFlags(e)),s},read_function_declaration:function(t,e,i,n){var s=this,o="function";t===1?o="closure":t===2&&(o="method");var h=this.node(o);this.expect(this.tok.T_FUNCTION)&&this.next();var r=this.is_reference(),c=!1,l=[],a=null,y=!1;if(t!==1){var E=this.node("identifier");t===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(c=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(c=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(c=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(c=this.text()),this.next()),c=E(c)}this.expect("(")&&this.next();var D=this.read_parameter_list(c.name==="__construct");this.expect(")")&&this.next(),t===1&&(l=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(y=!0,this.next()),a=this.read_types());var M=function(g){return g.attrGroups=i||[],n&&g.loc&&(g.loc.start=n,g.loc.source&&(g.loc.source=s.lexer._input.substr(g.loc.start.offset,g.loc.end.offset-g.loc.start.offset))),g};return M(t===1?h(D,r,l,a,y,e):h(c,D,r,a,y))},read_lexical_vars:function(){var t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma:function(t){for(var e=[];this.token!=this.EOF;){if(e.push(t()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return e}return e},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));var t=this.node("variable");this.expect(this.tok.T_VARIABLE);var e=this.text().substring(1);return this.next(),t(e,!1)},read_parameter_list:function(t){if(this.token!==")"){var e=!1;return this.read_list_with_dangling_comma((function(){var i=this.read_parameter(t);return i&&(e&&this.raiseError("Unexpected parameter after a variadic parameter"),i.variadic&&(e=!0)),i}).bind(this),",")}return[]},read_parameter:function(t){var e,i=this.node("parameter"),n=null,s=null,o=!1,h=!1,r=[];this.token===this.tok.T_ATTRIBUTE&&(r=this.read_attr_list()),this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),h=!0):this.raiseError("readonly properties can be used only on class constructor"));var c=this.read_promoted();!h&&this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),h=!0):this.raiseError("readonly properties can be used only on class constructor")),this.token==="?"&&(this.next(),o=!0),e=this.read_types(),o&&!e&&this.raiseError("Expecting a type definition combined with nullable operator");var l=this.is_reference(),a=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){n=this.node("identifier");var y=this.text().substring(1);this.next(),n=n(y)}this.token=="="&&(s=this.next().read_expr());var E=i(n,e,s,l,a,h,o,c);return r&&(E.attrGroups=r),E},read_types:function(){var t="unset",e="union",i="intersection",n=[],s=t,o=this.read_type();if(!o)return null;for(n.push(o);this.token==="|"||this.version>=801&&this.token==="&";){var h=this.peek();if(h===this.tok.T_ELLIPSIS||h===this.tok.T_VARIABLE)break;s===t?s=this.token==="|"?e:i:(s===e&&this.token!=="|"||s===i&&this.token!=="&")&&this.raiseError('Unexpect token "'+this.token+'", "|" and "&" can not be mixed'),this.next(),n.push(this.read_type())}return n.length===1?n[0]:s===i?this.node("intersectiontype")(n):this.node("uniontype")(n)},read_promoted:function(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var t=[];return this.expect("(")&&this.next(),this.version>=801&&this.token===this.tok.T_ELLIPSIS&&this.peek()===")"?(t.push(this.node("variadicplaceholder")()),this.next()):this.token!==")"&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list:function(){var t=!1;return this.read_function_list((function(){var e=this.read_argument();if(e){var i=e.kind==="variadic";t&&!i&&this.raiseError("Unexpected non-variadic argument after a variadic argument"),i&&(t=!0)}return e}).bind(this),",")},read_argument:function(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&this.peek()===":"?(this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())):this.read_expr()},read_type:function(){var t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}if(this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var i=this.text(),n=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(i.toLowerCase())>-1?t("typereference",i.toLowerCase(),i):(this.lexer.tokens.push(n),this.next(),t.destroy(),this.read_namespace_name())}return t.destroy(),null}};ot.is_reference,ot.is_variadic,ot.read_function,ot.read_function_declaration,ot.read_lexical_vars,ot.read_list_with_dangling_comma,ot.read_lexical_var_list,ot.read_lexical_var,ot.read_parameter_list,ot.read_parameter,ot.read_types,ot.read_promoted,ot.read_argument_list,ot.read_non_empty_argument_list,ot.read_argument,ot.read_type;var xe={read_if:function(){var t=this.node("if"),e=this.next().read_if_expr(),i=null,n=null,s=!1;if(this.token===":"){s=!0,this.next(),i=this.node("block");for(var o=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){n=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){n=this.read_else_short();break}o.push(this.read_inner_statement())}i=i(null,o),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?n=this.read_if():this.token===this.tok.T_ELSE&&(n=this.next().read_statement());return t(e,i,n,s)},read_if_expr:function(){this.expect("(")&&this.next();var t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){var t=null,e=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();for(var n=this.node("block"),s=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}s.push(this.read_inner_statement())}return e(i,n(null,s),t,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var t=this.node("block"),e=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}};xe.read_if,xe.read_if_expr,xe.read_elseif_short,xe.read_else_short;var ae={read_while:function(){var t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var e,i=null,n=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(n=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,n)},read_do:function(){var t=this.node("do");this.expect(this.tok.T_DO)&&this.next();var e,i=null;return e=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),i=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(i,e)},read_for:function(){var t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var e=[],i=[],n=[],s=null,o=!1;return this.expect("(")&&this.next(),this.token!==";"?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(n=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(o=!0,s=this.read_short_form(this.tok.T_ENDFOR)):s=this.read_statement(),t(e,i,n,s,o)},read_foreach:function(){var t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var e,i=null,n=null,s=null,o=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),n=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=n,n=this.next().read_foreach_variable())),i&&i.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(o=!0,s=this.read_short_form(this.tok.T_ENDFOREACH)):s=this.read_statement(),t(e,i,n,s,o)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){var t=this.token==="[",e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();var i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}return this.read_variable(!1,!1)}};ae.read_while,ae.read_do,ae.read_for,ae.read_foreach,ae.read_foreach_variable;var on={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};on.read_start;var Bt={read_namespace:function(){var t,e,i=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),e=this.token==="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=e,this.token===";"?(this.currentNamespace=e,t=this.next().read_top_statements(),this.expect(this.EOF),i(e.name,t,!1)):this.token==="{"?(this.currentNamespace=e,t=this.next().read_top_statements(),this.expect("}")&&this.next(),t.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&t.push(this.node("noop")()),i(e.name,t,!0)):(this.error(["{",";"]),this.currentNamespace=e,t=this.read_top_statements(),this.expect(this.EOF),i(e,t,!1))},read_namespace_name:function(t){var e,i=this.node(),n=this.text();switch(this.token){case this.tok.T_NAME_RELATIVE:e=this.ast.name.RELATIVE_NAME,n=n.replace(/^namespace\\/,"");break;case this.tok.T_NAME_QUALIFIED:e=this.ast.name.QUALIFIED_NAME;break;case this.tok.T_NAME_FULLY_QUALIFIED:e=this.ast.name.FULL_QUALIFIED_NAME;break;default:if(e=this.ast.name.UNQUALIFIED_NAME,!this.expect(this.tok.T_STRING))return i("name","",this.ast.name.FULL_QUALIFIED_NAME)}if(this.next(),t||this.token!=="("){if(n.toLowerCase()==="parent")return i("parentreference",n);if(n.toLowerCase()==="self")return i("selfreference",n)}return i("name",n,e)},read_use_statement:function(){var t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();var n=this.read_use_type();return e.push(this.read_use_declaration(!1)),this.token===","?e=e.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(i=e[0].name,e=this.next().read_use_declarations(n===null),this.expect("}")&&this.next()),t=t(i,n,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(t){var e=this.node("useitem"),i=null;t&&(i=this.read_use_type());var n=this.read_namespace_name(),s=this.read_use_alias();return e(n.name,s,i)},read_use_declarations:function(t){for(var e=[this.read_use_declaration(t)];this.token===",";){if(this.next(),t){if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){var t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var e=this.node("identifier"),i=this.text();this.next(),t=e(i)}return t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};Bt.read_namespace,Bt.read_namespace_name,Bt.read_use_statement,Bt.read_class_name_reference,Bt.read_use_declaration,Bt.read_use_declarations,Bt.read_use_alias,Bt.read_use_type;var an={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},Pt={resolve_special_chars:function(t,e){return e?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,function(i,n,s){return an[n]?an[n]:n[0]==="x"||n[0]==="X"?String.fromCodePoint(parseInt(n.substr(1),16)):n[0]==="u"?String.fromCodePoint(parseInt(s,16)):String.fromCodePoint(parseInt(n,8))}):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(t,e,i,n){if(e===0)return t;this.check_heredoc_indentation_level(t,e,i,n);var s=i?" ":"	",o=new RegExp("\\n".concat(s,"{").concat(e,"}"),"g"),h=new RegExp("^".concat(s,"{").concat(e,"}"));return n&&(t=t.replace(h,"")),t.replace(o,`
`)},check_heredoc_indentation_level:function(t,e,i,n){var s=t.length,o=0,h=0,r=!0,c=i?" ":"	",l=!1;if(!n){if((o=t.indexOf(`
`))===-1)return;o++}for(;o<s;)r?t[o]===c?h++:l=!0:r=!1,t[o]!==`
`&&l&&h<e?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(e,")")):l=!1,t[o]===`
`&&(r=!0,h=0),o++},read_dereferencable_scalar:function(){var t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var e=this.node("string"),i=this.text(),n=0;i[0]!=="b"&&i[0]!=="B"||(n=1);var s=i[n]==='"';this.next(),e=e(s,this.resolve_special_chars(i.substring(n+1,i.length-1),s),n===1,i),t=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(e):e;break;case this.tok.T_ARRAY:case"[":t=this.read_array()}return t},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var t,e;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var i=this.node("number");return t=this.text(),this.next(),i(t,null);case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){var n=this.lexer.yylloc.first_offset;e=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));var s=t[t.length-1];s===`
`?t=t[t.length-2]==="\r"?t.substring(0,t.length-2):t.substring(0,t.length-1):s==="\r"&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var o=this.lexer._input.substring(n,this.lexer.yylloc.first_offset);return e=e(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),o,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,e}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var h=this.error("SCALAR");return this.next(),h}},read_dereferencable:function(t){var e,i,n=this.node("offsetlookup");return this.token==="["?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=n(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(e=n(t,i=this.read_encapsed_string_item(!1))),e},read_encapsed_string_item:function(t){var e,i,n,s=this.node("encapsedpart"),o=null,h=!1,r=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var c=this.text();this.next(),r=r("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(c,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):c,!1,c)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(o="simple",h=!0,n=null,this.next().token===this.tok.T_STRING_VARNAME){n=this.node("variable");var l=this.text();this.next(),r.destroy(),this.token==="["?(n=n(l,!1),i=this.node("offsetlookup"),e=this.next().read_expr(),this.expect("]")&&this.next(),r=i(n,e)):r=n(l,!1)}else r=r("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)o="complex",r.destroy(),r=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(o="simple",r.destroy(),r=this.read_simple_variable(),this.token==="["&&(i=this.node("offsetlookup"),e=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),r=i(r,e)),this.token===this.tok.T_OBJECT_OPERATOR){i=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var a=this.node("identifier");n=this.text(),this.next(),r=i(r,a(n))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var y=this.text();this.next(),r.destroy(),r=r("string",!1,y,!1,y)}return this.lexer.heredoc_label.first_encaps_node=!1,s(r,o,h)},read_encapsed_string:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.lexer.yylloc.first_offset,n=this.node("encapsed");this.next();var s=this.lexer.yylloc.prev_offset-(e?1:0),o=[],h=null;for(h=t==="`"?this.ast.encapsed.TYPE_SHELL:t==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)o.push(this.read_encapsed_string_item(!0));if(o.length>0&&o[o.length-1].kind==="encapsedpart"&&o[o.length-1].expression.kind==="string"){var r=o[o.length-1].expression,c=r.value[r.value.length-1];c===`
`?r.value[r.value.length-2]==="\r"?r.value=r.value.substring(0,r.value.length-2):r.value=r.value.substring(0,r.value.length-1):c==="\r"&&(r.value=r.value.substring(0,r.value.length-1))}this.expect(t)&&this.next();var l=this.lexer._input.substring(h==="heredoc"?i:s-1,this.lexer.yylloc.first_offset);return n=n(o,l,h),t===this.tok.T_END_HEREDOC&&(n.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),n},get_magic_constant:function(){var t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}};Pt.resolve_special_chars,Pt.remove_heredoc_leading_whitespace_chars,Pt.check_heredoc_indentation_level,Pt.read_dereferencable_scalar,Pt.read_scalar,Pt.read_dereferencable,Pt.read_encapsed_string_item,Pt.read_encapsed_string,Pt.get_magic_constant;var Ht={read_top_statements:function(){for(var t=[];this.token!==this.EOF&&this.token!=="}";){var e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){var t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_READ_ONLY:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(t);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var e=this.node("constantstatement"),i=this.next().read_const_list();return this.expectEndOfStatement(),e(null,i);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var n=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,n(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var t=[];this.token!=this.EOF&&this.token!=="}";){var e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var t=this.node("constant"),e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("=")?t(e,this.next().read_expr()):t(e,null)},",",!1)},read_declare_list:function(){for(var t=[];this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);var e=this.node("declaredirective"),i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=null;if(this.expect("=")&&(s=this.next().read_expr()),t.push(e(i,s)),this.token!==",")break;this.next()}return t},read_inner_statement:function(){var t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var e=this.read_function(!1,!1);return e.attrGroups=t,e;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var i=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),i=i(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),i;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var t=this.node("return");this.next();var e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var i=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var n=this.read_optional_expr(";");return this.expectEndOfStatement(),i(n);case this.tok.T_GLOBAL:var s=this.node("global"),o=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),s(o);case this.tok.T_STATIC:var h=[this.token,this.lexer.getState()],r=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(h);var c=this.next().read_expr();return this.expectEndOfStatement(c),r("expressionstatement",c)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var l=this.read_variable_declarations();return this.expectEndOfStatement(),r("static",l);case this.tok.T_ECHO:var a=this.node("echo"),y=this.text(),E=y==="<?="||y==="<%=",D=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),a(D,E);case this.tok.T_INLINE_HTML:var M=this.text(),g=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,H=g==="\r"||g===`
`;H&&g===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(g=`\r
`);var L=this.node("inline");return this.next(),L(M,H?g+M:M);case this.tok.T_UNSET:var Q=this.node("unset");this.next().expect("(")&&this.next();var W=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),Q(W);case this.tok.T_DECLARE:var F,C=this.node("declare"),G=[];this.next().expect("(")&&this.next();var z=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)G.push(this.read_top_statement());G.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&G.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),F=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)G.push(this.read_top_statement());G.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&G.push(this.node("noop")()),this.expect("}")&&this.next(),F=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),F=this.ast.declare.MODE_NONE;return C(z,G,F);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var bt=this.node("throw"),st=this.next().read_expr();return this.expectEndOfStatement(),bt(st);case";":return this.next(),null;case this.tok.T_STRING:var _=this.node(),u=[this.token,this.lexer.getState()],A=this.text(),N=this.node("identifier");if(this.next().token===":")return N=N(A),this.next(),_("label",N);N.destroy(),_.destroy(),this.lexer.tokens.push(u);var T=this.node("expressionstatement"),V=this.next().read_expr();return this.expectEndOfStatement(V),T(V);case this.tok.T_GOTO:var Y=this.node("goto"),J=null;if(this.next().expect(this.tok.T_STRING)){J=this.node("identifier");var rt=this.text();this.next(),J=J(rt),this.expectEndOfStatement()}return Y(J);default:var O=this.node("expressionstatement"),K=this.read_expr();return this.expectEndOfStatement(K),O(K)}},read_code_block:function(t){var e=this.node("block");this.expect("{")&&this.next();var i=t?this.read_top_statements():this.read_inner_statements();return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),e(null,i)}};Ht.read_top_statements,Ht.read_top_statement,Ht.read_inner_statements,Ht.read_const_list,Ht.read_declare_list,Ht.read_inner_statement,Ht.read_statement,Ht.read_code_block;var Me={read_switch:function(){var t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var e=this.read_expr();this.expect(")")&&this.next();var i=this.token===":";return t(e,this.read_switch_case_list(),i)},read_switch_case_list:function(){var t=null,e=this.node("block"),i=[];for(this.token==="{"?t="}":this.token===":"?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){var e=this.node("case"),i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var n=this.node("block"),s=[];this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)s.push(this.read_inner_statement());return e(i,n(null,s))}};Me.read_switch,Me.read_switch_case_list,Me.read_case_list;var hn={read_try:function(){this.expect(this.tok.T_TRY);for(var t=this.node("try"),e=null,i=[],n=this.next().read_statement();this.token===this.tok.T_CATCH;){var s=this.node("catch");this.next().expect("(")&&this.next();var o=this.read_list(this.read_namespace_name,"|",!1),h=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(h=this.read_variable(!0,!1)),this.expect(")"),i.push(s(this.next().read_statement(),o,h))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(n,i,e)}};hn.read_try;var Ut={read_short_form:function(t){var e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_function_list:function(t,e){var i=[];do{if(this.token==e&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=e||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list:function(t,e,i){var n=[];if(this.token==e&&(i&&n.push(typeof t=="function"?this.node("noop")():null),this.next()),typeof t=="function")do{var s=t.apply(this,[]);if(s&&n.push(s),this.token!=e)break}while(this.next().token!=this.EOF);else{if(!this.expect(t))return[];for(n.push(this.text());this.next().token!=this.EOF&&this.token==e&&this.next().token==t;)n.push(this.text())}return n},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(t){var e=this.node("byref");this.next(),e=e(null);var i=t();return i&&(this.ast.swapLocations(i,e,i,this),i.byref=!0),i},read_variable_declarations:function(){return this.read_list(function(){var t=this.node("staticvariable"),e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var i=this.text().substring(1);this.next(),e=e(i,!1)}else e=e("#ERR",!1);return this.token==="="?t(e,this.next().read_expr()):e},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};Ut.read_short_form,Ut.read_function_list,Ut.read_list,Ut.read_name_list,Ut.read_byref,Ut.read_variable_declarations,Ut.read_extends_from,Ut.read_interface_extends_list,Ut.read_implements_list;var zt={read_variable:function(t,e){var i;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,t,e));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(e);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE])){i=this.node();var n=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(n.kind)===-1){var s=n.name.toLowerCase();s==="true"?i=n.destroy(i("boolean",!0,n.name)):s==="false"?i=n.destroy(i("boolean",!1,n.name)):s==="null"?i=n.destroy(i("nullkeyword",n.name)):(i.destroy(n),i=n)}else i.destroy(n),i=n}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");var o=this.text();this.next(),i=i(o)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,e)),this.recursive_variable_chain_scan(i,t,e)},read_static_getter:function(t,e){var i,n,s=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?i=this.read_reference_variable(e):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(i=this.node("identifier"),n=this.text(),this.next(),i=i(n)):this.token==="{"?(i=this.node("literal"),n=this.next().read_expr(),this.expect("}")&&this.next(),i=i("literal",n,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),i=this.node("identifier"),n=this.text(),this.next(),i=i(n)),s(t,i)},read_what:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=null,i=null;switch(this.next().token){case this.tok.T_STRING:e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("variable",i,!0)):e=e("variable",i=this.read_expr(),!1);break;case"{":e=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i)}return e},recursive_variable_chain_scan:function(t,e,i){var n,s;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":var o=this.token==="[";n=this.node("offsetlookup"),this.next(),s=!1,i?(s=this.read_encaps_var_offset(),this.expect(o?"]":"}")&&this.next()):(o?this.token!=="]":this.token!=="}")?(s=this.read_expr(),this.expect(o?"]":"}")&&this.next()):this.next(),t=n(t,s);break;case this.tok.T_DOUBLE_COLON:t.kind==="staticlookup"&&t.offset.kind==="identifier"&&this.error(),t=(n=this.node("staticlookup"))(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:t=(n=this.node("propertylookup"))(t,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:t=(n=this.node("nullsafepropertylookup"))(t,this.read_what());break;default:break t}return t},read_encaps_var_offset:function(){var t=this.node();if(this.token===this.tok.T_STRING){var e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){var i=this.text();this.next(),t=t("number",i,null)}else if(this.token==="-"){this.next();var n=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",n,null)}else if(this.token===this.tok.T_VARIABLE){var s=this.text().substring(1);this.next(),t=t("variable",s,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var o=this.text();this.next(),t=t("identifier",o)}return t},read_reference_variable:function(t){for(var e,i=this.read_simple_variable();this.token!=this.EOF;){var n=this.node();if(this.token!="{"||t){n.destroy();break}e=this.next().read_expr(),this.expect("}")&&this.next(),i=n("offsetlookup",i,e)}return i},read_simple_variable:function(){var t,e=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)t=this.text().substring(1),this.next(),e=e(t,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":var i=this.next().read_expr();this.expect("}")&&this.next(),e=e(i,!0);break;case"$":e=e(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:t=this.text().substring(1);var n=this.node("variable");this.next(),e=e(n(t,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),t=this.text(),this.next(),e=e(t,!1)}return e}};function fi(t){return t!="."&&t!=","&&!isNaN(parseFloat(t))&&isFinite(t)}zt.read_variable,zt.read_static_getter,zt.read_what,zt.recursive_variable_chain_scan,zt.read_encaps_var_offset,zt.read_reference_variable,zt.read_simple_variable;var at=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=801,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var i=function(n){return[n,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};at.prototype.getTokenName=function(t){return fi(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"},at.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var i=this.node("program"),n=[];for(this.next();this.token!=this.EOF;)n.push(this.read_start());n.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&n.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var s=i(n,this._errors,this._docs,this._tokens);if(this.debug){var o=this.ast.checkNodes();if(o.length>0)throw o.forEach(function(h){h.position&&console.log("Node at line "+h.position.line+", column "+h.position.column),console.log(h.stack.join(`
`))}),new Error("Some nodes are not closed")}return s},at.prototype.raiseError=function(t,e,i,n){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var s=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw s.lineNumber=this.lexer.yylloc.first_line,s.fileName=this.filename,s.columnNumber=this.lexer.yylloc.first_column,s}var o=this.ast.prepare("error",null,this)(t,n,this.lexer.yylloc.first_line,i);return this._errors.push(o),o},at.prototype.error=function(t){var e="Parse Error : syntax error",i=this.getTokenName(this.token),n="";if(this.token!==this.EOF){if(fi(this.token)){var s=this.text();s.length>10&&(s=s.substring(0,7)+"..."),i="'"+s+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((fi(t)||t.length===1)&&(n=", expecting "+this.getTokenName(t)),e+=n),this.raiseError(e,n,t,i)},at.prototype.position=function(){return new rn(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},at.prototype.node=function(t){if(this.extractDoc){var e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(e)));var i=this.ast.prepare(t,e,this);return i.postBuild=(function(n){if(this._docIndex<this._docs.length)if(this._lastNode){for(var s=this.prev[2],o=this._docIndex;o<this._docs.length&&!(this._docs[o].offset>s);o++);o>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,o)),this._docIndex=o)}else this.token===this.EOF&&(n.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=n}).bind(this),i}return this.ast.prepare(t,null,this)},at.prototype.expectEndOfStatement=function(t){if(this.token===";")t&&this.lexer.yytext===";"&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var ki=["parser.next","parser.node","parser.showlog"];at.prototype.showlog=function(){for(var t,e=new Error().stack.split(`
`),i=2;i<e.length;i++){t=e[i].trim();for(var n=!1,s=0;s<ki.length;s++)if(t.substring(3,3+ki[s].length)===ki[s]){n=!0;break}if(!n)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+t),this},at.prototype.expect=function(t){if(Array.isArray(t)){if(t.indexOf(this.token)===-1)return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0},at.prototype.text=function(){return this.lexer.yytext},at.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},at.prototype.peek=function(){var t=this.lexer.getState(),e=this.lexer.lex();return this.lexer.setState(t),e},at.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var t=this.lexer.yytext;if(t=Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},at.prototype.is=function(t){return Array.isArray(t)?t.indexOf(this.token)!==-1:this.entries[t].has(this.token)},[Pe,ft,pi,Z,Ue,ot,xe,ae,on,Bt,Pt,Ht,Me,hn,Ut,zt].forEach(function(t){for(var e in t){if(Object.prototype.hasOwnProperty.call(at.prototype,e))throw new Error("Function "+e+" is already defined - collision");at.prototype[e]=t[e]}});var ln=at,cn={T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240,T_NAME_RELATIVE:241,T_NAME_QUALIFIED:242,T_NAME_FULLY_QUALIFIED:243},Xo={values:Object.entries(cn).reduce(function(t,e){var i=Et(e,2),n=i[0],s=i[1];return Oe(Oe({},t),{},tn({},s,n))},{}),names:cn},un=Object.freeze(Xo),Jo=function(t,e,i){this.source=t,this.start=e,this.end=i},Ee=function(t,e,i){this.kind=t,e&&(this.leadingComments=e),i&&(this.loc=i)};Ee.prototype.setTrailingComments=function(t){this.trailingComments=t},Ee.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t},Ee.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this},Ee.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};var P=Ee,_n="expression",m=P.extends(_n,function(t,e,i){P.apply(this,[t||_n,e,i])}),dn="array",qo=m.extends(dn,function(t,e,i,n){m.apply(this,[dn,i,n]),this.items=e,this.shortForm=t}),pn="arrowfunc",Zo=m.extends(pn,function(t,e,i,n,s,o,h,r){m.apply(this,[pn,h,r]),this.arguments=t,this.byref=e,this.body=i,this.type=n,this.nullable=s,this.isStatic=o||!1}),fn="assign",ta=m.extends(fn,function(t,e,i,n,s){m.apply(this,[fn,n,s]),this.left=t,this.right=e,this.operator=i}),kn="assignref",ea=m.extends(kn,function(t,e,i,n){m.apply(this,[kn,i,n]),this.left=t,this.right=e}),Tn="attribute",ia=P.extends(Tn,function(t,e,i,n){P.apply(this,[Tn,i,n]),this.name=t,this.args=e}),mn="attrgroup",na=P.extends(mn,function(t,e,i){P.apply(this,[mn,e,i]),this.attrs=t||[]}),xn="operation",It=m.extends(xn,function(t,e,i){m.apply(this,[t||xn,e,i])}),sa=It.extends("bin",function(t,e,i,n,s){It.apply(this,["bin",n,s]),this.type=t,this.left=e,this.right=i}),En="statement",v=P.extends(En,function(t,e,i){P.apply(this,[t||En,e,i])}),yn="block",ne=v.extends(yn,function(t,e,i,n){v.apply(this,[t||yn,i,n]),this.children=e.filter(Boolean)}),vn="literal",_t=m.extends(vn,function(t,e,i,n,s){m.apply(this,[t||vn,n,s]),this.value=e,i&&(this.raw=i)}),gn="boolean",ra=_t.extends(gn,function(t,e,i,n){_t.apply(this,[gn,t,e,i,n])}),An="break",oa=v.extends(An,function(t,e,i){v.apply(this,[An,e,i]),this.level=t}),Nn="byref",aa=m.extends(Nn,function(t,e,i){m.apply(this,[Nn,e,i]),this.what=t}),bn="call",ha=m.extends(bn,function(t,e,i,n){m.apply(this,[bn,i,n]),this.what=t,this.arguments=e}),Ln="case",la=v.extends(Ln,function(t,e,i,n){v.apply(this,[Ln,i,n]),this.test=t,this.body=e}),Cn="cast",ca=It.extends(Cn,function(t,e,i,n,s){It.apply(this,[Cn,n,s]),this.type=t,this.raw=e,this.expr=i}),Sn="catch",ua=v.extends(Sn,function(t,e,i,n,s){v.apply(this,[Sn,n,s]),this.body=t,this.what=e,this.variable=i}),In="declaration",On=v.extends(In,function(t,e,i,n){v.apply(this,[t||In,i,n]),this.name=e});On.prototype.parseFlags=function(t){this.isAbstract=t[2]===1,this.isFinal=t[2]===2,this.isReadonly=t[3]===1,this.kind!=="class"&&(t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.isStatic=t[1]===1)};var ht=On,Rn="class",_a=ht.extends(Rn,function(t,e,i,n,s,o,h){ht.apply(this,[Rn,t,o,h]),this.isAnonymous=!t,this.extends=e,this.implements=i,this.body=n,this.attrGroups=[],this.parseFlags(s)}),wn="constantstatement",Ti=v.extends(wn,function(t,e,i,n){v.apply(this,[t||wn,i,n]),this.constants=e}),Dn="classconstant",Pn=Ti.extends(Dn,function(t,e,i,n,s,o){Ti.apply(this,[t||Dn,e,s,o]),this.parseFlags(i),this.attrGroups=n});Pn.prototype.parseFlags=function(t){t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private")};var da=Pn,Un="clone",pa=m.extends(Un,function(t,e,i){m.apply(this,[Un,e,i]),this.what=t}),Mn="closure",fa=m.extends(Mn,function(t,e,i,n,s,o,h,r){m.apply(this,[Mn,h,r]),this.uses=i,this.arguments=t,this.byref=e,this.type=n,this.nullable=s,this.isStatic=o||!1,this.body=null,this.attrGroups=[]}),ye=P.extends("comment",function(t,e,i,n){P.apply(this,[t,i,n]),this.value=e}),Fn="commentblock",ka=ye.extends(Fn,function(t,e,i){ye.apply(this,[Fn,t,e,i])}),Bn="commentline",Ta=ye.extends(Bn,function(t,e,i){ye.apply(this,[Bn,t,e,i])}),Hn="constant",ma=P.extends(Hn,function(t,e,i,n){P.apply(this,[Hn,i,n]),this.name=t,this.value=e}),Gn="continue",xa=v.extends(Gn,function(t,e,i){v.apply(this,[Gn,e,i]),this.level=t}),Vn="declare",Fe=ne.extends(Vn,function(t,e,i,n,s){ne.apply(this,[Vn,e,n,s]),this.directives=t,this.mode=i});Fe.MODE_SHORT="short",Fe.MODE_BLOCK="block",Fe.MODE_NONE="none";var Ea=Fe,Qn="declaredirective",ya=P.extends(Qn,function(t,e,i,n){P.apply(this,[Qn,i,n]),this.key=t,this.value=e}),va=v.extends("do",function(t,e,i,n){v.apply(this,["do",i,n]),this.test=t,this.body=e}),Wn="echo",ga=v.extends(Wn,function(t,e,i,n){v.apply(this,[Wn,i,n]),this.shortForm=e,this.expressions=t}),Yn="empty",Aa=m.extends(Yn,function(t,e,i){m.apply(this,[Yn,e,i]),this.expression=t}),jn="encapsed",ve=_t.extends(jn,function(t,e,i,n,s){_t.apply(this,[jn,t,e,n,s]),this.type=i});ve.TYPE_STRING="string",ve.TYPE_SHELL="shell",ve.TYPE_HEREDOC="heredoc",ve.TYPE_OFFSET="offset";var Na=ve,$n="encapsedpart",ba=m.extends($n,function(t,e,i,n,s){m.apply(this,[$n,n,s]),this.expression=t,this.syntax=e,this.curly=i}),zn="entry",La=m.extends(zn,function(t,e,i,n,s,o){m.apply(this,[zn,s,o]),this.key=t,this.value=e,this.byRef=i,this.unpack=n}),Kn="enum",Ca=ht.extends(Kn,function(t,e,i,n,s,o){ht.apply(this,[Kn,t,s,o]),this.valueType=e,this.implements=i,this.body=n,this.attrGroups=[]}),Xn="enumcase",Sa=P.extends(Xn,function(t,e,i,n){P.apply(this,[Xn,i,n]),this.name=t,this.value=e}),Jn="error",Ia=P.extends(Jn,function(t,e,i,n,s,o){P.apply(this,[Jn,s,o]),this.message=t,this.token=e,this.line=i,this.expected=n}),qn="eval",Oa=m.extends(qn,function(t,e,i){m.apply(this,[qn,e,i]),this.source=t}),Zn="exit",Ra=m.extends(Zn,function(t,e,i,n){m.apply(this,[Zn,i,n]),this.expression=t,this.useDie=e}),ts="expressionstatement",wa=v.extends(ts,function(t,e,i){v.apply(this,[ts,e,i]),this.expression=t}),Da=v.extends("for",function(t,e,i,n,s,o,h){v.apply(this,["for",o,h]),this.init=t,this.test=e,this.increment=i,this.shortForm=s,this.body=n}),es="foreach",Pa=v.extends(es,function(t,e,i,n,s,o,h){v.apply(this,[es,o,h]),this.source=t,this.key=e,this.value=i,this.shortForm=s,this.body=n}),is="function",mi=ht.extends(is,function(t,e,i,n,s,o,h){ht.apply(this,[is,t,o,h]),this.arguments=e,this.byref=i,this.type=n,this.nullable=s,this.body=null,this.attrGroups=[]}),ns="global",Ua=v.extends(ns,function(t,e,i){v.apply(this,[ns,e,i]),this.items=t}),ss="goto",Ma=v.extends(ss,function(t,e,i){v.apply(this,[ss,e,i]),this.label=t}),rs="halt",Fa=v.extends(rs,function(t,e,i){v.apply(this,[rs,e,i]),this.after=t}),os="identifier",Ba=P.extends(os,function(t,e,i){P.apply(this,[os,e,i]),this.name=t}),Ha=Ba,Ga=v.extends("if",function(t,e,i,n,s,o){v.apply(this,["if",s,o]),this.test=t,this.body=e,this.alternate=i,this.shortForm=n}),as="include",Va=m.extends(as,function(t,e,i,n,s){m.apply(this,[as,n,s]),this.once=t,this.require=e,this.target=i}),hs="inline",Qa=_t.extends(hs,function(t,e,i,n){_t.apply(this,[hs,t,e,i,n])}),ls="interface",Wa=ht.extends(ls,function(t,e,i,n,s,o){ht.apply(this,[ls,t,s,o]),this.extends=e,this.body=i,this.attrGroups=n}),cs="intersectiontype",Ya=ht.extends(cs,function(t,e,i){ht.apply(this,[cs,null,e,i]),this.types=t}),us="isset",ja=m.extends(us,function(t,e,i){m.apply(this,[us,e,i]),this.variables=t}),_s="label",$a=v.extends(_s,function(t,e,i){v.apply(this,[_s,e,i]),this.name=t}),ds="list",za=m.extends(ds,function(t,e,i,n){m.apply(this,[ds,i,n]),this.items=t,this.shortForm=e}),ps="lookup",Gt=m.extends(ps,function(t,e,i,n,s){m.apply(this,[t||ps,n,s]),this.what=e,this.offset=i}),fs="magic",Ka=_t.extends(fs,function(t,e,i,n){_t.apply(this,[fs,t,e,i,n])}),ks="match",Xa=m.extends(ks,function(t,e,i,n){m.apply(this,[ks,i,n]),this.cond=t,this.arms=e}),Ts="matcharm",Ja=m.extends(Ts,function(t,e,i,n){m.apply(this,[Ts,i,n]),this.conds=t,this.body=e}),ms="method",qa=mi.extends(ms,function(){mi.apply(this,arguments),this.kind=ms}),xs="reference",Ot=P.extends(xs,function(t,e,i){P.apply(this,[t||xs,e,i])}),Es="name",ge=Ot.extends(Es,function(t,e,i,n){Ot.apply(this,[Es,i,n]),this.name=t.replace(/\\$/,""),this.resolution=e});ge.UNQUALIFIED_NAME="uqn",ge.QUALIFIED_NAME="qn",ge.FULL_QUALIFIED_NAME="fqn",ge.RELATIVE_NAME="rn";var Za=ge,ys="namespace",th=ne.extends(ys,function(t,e,i,n,s){ne.apply(this,[ys,e,n,s]),this.name=t,this.withBrackets=i||!1}),vs="namedargument",eh=m.extends(vs,function(t,e,i,n){m.apply(this,[vs,i,n]),this.name=t,this.value=e}),ih=m.extends("new",function(t,e,i,n){m.apply(this,["new",i,n]),this.what=t,this.arguments=e}),gs="noop",nh=P.extends(gs,function(t,e){P.apply(this,[gs,t,e])}),As="nowdoc",sh=_t.extends(As,function(t,e,i,n,s){_t.apply(this,[As,t,e,n,s]),this.label=i}),Ns="nullkeyword",rh=P.extends(Ns,function(t,e,i){P.apply(this,[Ns,e,i]),this.raw=t}),bs="nullsafepropertylookup",oh=Gt.extends(bs,function(t,e,i,n){Gt.apply(this,[bs,t,e,i,n])}),Ls="number",ah=_t.extends(Ls,function(t,e,i,n){_t.apply(this,[Ls,t,e,i,n])}),Cs="offsetlookup",hh=Gt.extends(Cs,function(t,e,i,n){Gt.apply(this,[Cs,t,e,i,n])}),Ss="parameter",lh=ht.extends(Ss,function(t,e,i,n,s,o,h,r,c,l){ht.apply(this,[Ss,t,c,l]),this.value=i,this.type=e,this.byref=n,this.variadic=s,this.readonly=o,this.nullable=h,this.flags=r||0,this.attrGroups=[]}),Is="parentreference",ch=Ot.extends(Is,function(t,e,i){Ot.apply(this,[Is,e,i]),this.raw=t}),Os="post",uh=It.extends(Os,function(t,e,i,n){It.apply(this,[Os,i,n]),this.type=t,this.what=e}),_h=It.extends("pre",function(t,e,i,n){It.apply(this,["pre",i,n]),this.type=t,this.what=e}),Rs="print",dh=m.extends(Rs,function(t,e,i){m.apply(this,[Rs,e,i]),this.expression=t}),ws="program",ph=ne.extends(ws,function(t,e,i,n,s,o){ne.apply(this,[ws,t,s,o]),this.errors=e,i&&(this.comments=i),n&&(this.tokens=n)}),Ds="property",fh=v.extends(Ds,function(t,e,i,n,s,o,h,r){v.apply(this,[Ds,h,r]),this.name=t,this.value=e,this.readonly=i,this.nullable=n,this.type=s,this.attrGroups=o}),Ps="propertylookup",kh=Gt.extends(Ps,function(t,e,i,n){Gt.apply(this,[Ps,t,e,i,n])}),Us="propertystatement",Ms=v.extends(Us,function(t,e,i,n,s){v.apply(this,[Us,n,s]),this.properties=e,this.parseFlags(i)});Ms.prototype.parseFlags=function(t){t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.isStatic=t[1]===1};var Th=Ms,Fs="retif",mh=m.extends(Fs,function(t,e,i,n,s){m.apply(this,[Fs,n,s]),this.test=t,this.trueExpr=e,this.falseExpr=i}),Bs="return",xh=v.extends(Bs,function(t,e,i){v.apply(this,[Bs,e,i]),this.expr=t}),Hs="selfreference",Eh=Ot.extends(Hs,function(t,e,i){Ot.apply(this,[Hs,e,i]),this.raw=t}),Gs="silent",yh=m.extends(Gs,function(t,e,i){m.apply(this,[Gs,e,i]),this.expr=t}),Vs="static",vh=v.extends(Vs,function(t,e,i){v.apply(this,[Vs,e,i]),this.variables=t}),Qs="staticvariable",gh=P.extends(Qs,function(t,e,i,n){P.apply(this,[Qs,i,n]),this.variable=t,this.defaultValue=e}),Ws="staticlookup",Ah=Gt.extends(Ws,function(t,e,i,n){Gt.apply(this,[Ws,t,e,i,n])}),Ys="staticreference",Nh=Ot.extends(Ys,function(t,e,i){Ot.apply(this,[Ys,e,i]),this.raw=t}),js="string",bh=_t.extends(js,function(t,e,i,n,s,o){_t.apply(this,[js,e,n,s,o]),this.unicode=i,this.isDoubleQuote=t}),$s="switch",Lh=v.extends($s,function(t,e,i,n,s){v.apply(this,[$s,n,s]),this.test=t,this.body=e,this.shortForm=i}),zs="throw",Ch=v.extends(zs,function(t,e,i){v.apply(this,[zs,e,i]),this.what=t}),Ks="trait",Sh=ht.extends(Ks,function(t,e,i,n){ht.apply(this,[Ks,t,i,n]),this.body=e}),Xs="traitalias",Ih=P.extends(Xs,function(t,e,i,n,s,o){P.apply(this,[Xs,s,o]),this.trait=t,this.method=e,this.as=i,this.visibility="",n&&(n[0]===0?this.visibility="public":n[0]===1?this.visibility="protected":n[0]===2&&(this.visibility="private"))}),Js="traitprecedence",Oh=P.extends(Js,function(t,e,i,n,s){P.apply(this,[Js,n,s]),this.trait=t,this.method=e,this.instead=i}),qs="traituse",Rh=P.extends(qs,function(t,e,i,n){P.apply(this,[qs,i,n]),this.traits=t,this.adaptations=e}),wh=v.extends("try",function(t,e,i,n,s){v.apply(this,["try",n,s]),this.body=t,this.catches=e,this.always=i}),Zs="typereference",tr=Ot.extends(Zs,function(t,e,i,n){Ot.apply(this,[Zs,i,n]),this.name=t,this.raw=e});tr.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var Dh=tr,er="unary",Ph=It.extends(er,function(t,e,i,n){It.apply(this,[er,i,n]),this.type=t,this.what=e}),ir="uniontype",Uh=ht.extends(ir,function(t,e,i){ht.apply(this,[ir,null,e,i]),this.types=t}),nr="unset",Mh=v.extends(nr,function(t,e,i){v.apply(this,[nr,e,i]),this.variables=t}),sr="usegroup",Fh=v.extends(sr,function(t,e,i,n,s){v.apply(this,[sr,n,s]),this.name=t,this.type=e,this.items=i}),rr="useitem",xi=v.extends(rr,function(t,e,i,n,s){v.apply(this,[rr,n,s]),this.name=t,this.alias=e,this.type=i});xi.TYPE_CONST="const",xi.TYPE_FUNCTION="function";var Bh=xi,or="variable",Hh=m.extends(or,function(t,e,i,n){m.apply(this,[or,i,n]),this.name=t,this.curly=e||!1}),ar="variadic",Gh=m.extends(ar,function(t,e,i){m.apply(this,[ar,e,i]),this.what=t}),hr="variadicplaceholder",Vh=P.extends(hr,function(t,e){P.apply(this,[hr,t,e])}),lr="while",Qh=v.extends(lr,function(t,e,i,n,s){v.apply(this,[lr,n,s]),this.test=t,this.body=e,this.shortForm=i}),cr="yield",Wh=m.extends(cr,function(t,e,i,n){m.apply(this,[cr,i,n]),this.value=t,this.key=e}),ur="yieldfrom",Yh=m.extends(ur,function(t,e,i){m.apply(this,[ur,e,i]),this.value=t}),ct=function(t,e){this.withPositions=t,this.withSource=e};ct.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(t,e){t.forEach(function(i){ct.precedence[i]=e+1})}),ct.prototype.isRightAssociative=function(t){return t==="**"||t==="??"},ct.prototype.swapLocations=function(t,e,i,n){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=n.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},ct.prototype.resolveLocations=function(t,e,i,n){this.withPositions&&(t.loc.start.offset>e.loc.start.offset&&(t.loc.start=e.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=n.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},ct.prototype.resolvePrecedence=function(t,e){var i,n,s;return t.kind==="call"?this.resolveLocations(t,t.what,t,e):t.kind==="propertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"&&t.offset?this.resolveLocations(t,t.what,t.offset,e):t.kind==="bin"?t.right&&!t.right.parenthesizedExpression&&(t.right.kind==="bin"?(n=ct.precedence[t.type],s=ct.precedence[t.right.type],n&&s&&s<=n&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i)):t.right.kind==="retif"&&(n=ct.precedence[t.type],s=ct.precedence["?"],n&&s&&s<=n&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):t.kind!=="silent"&&t.kind!=="cast"||!t.expr||t.expr.parenthesizedExpression?t.kind==="unary"?t.what&&!t.what.parenthesizedExpression&&(t.what.kind==="bin"?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.what.kind==="retif"&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):t.kind==="retif"?t.falseExpr&&t.falseExpr.kind==="retif"&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):t.kind==="assign"?t.right&&t.right.kind==="bin"&&!t.right.parenthesizedExpression&&(n=ct.precedence["="],s=ct.precedence[t.right.type],n&&s&&s<n&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)):t.kind==="expressionstatement"&&this.swapLocations(t,t.expression,t,e):t.expr.kind==="bin"?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.expr.kind==="retif"&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i),t},ct.prototype.prepare=function(t,e,i){var n=null;(this.withPositions||this.withSource)&&(n=i.position());var s=this,o=function h(){var r=null,c=Array.prototype.slice.call(arguments);if(c.push(e),s.withPositions||s.withSource){var l=null;s.withSource&&(l=i.lexer._input.substring(n.offset,i.prev[2])),r=new Jo(l,n,new rn(i.prev[0],i.prev[1],i.prev[2])),c.push(r)}t||(t=c.shift());var a=s[t];if(typeof a!="function")throw new Error('Undefined node "'+t+'"');var y=Object.create(a.prototype);return a.apply(y,c),h.instance=y,h.trailingComments&&(y.trailingComments=h.trailingComments),typeof h.postBuild=="function"&&h.postBuild(y),i.debug&&delete s.stack[h.stackUid],s.resolvePrecedence(y,i)};return i.debug&&(this.stack||(this.stack={},this.stackUid=1),this.stack[++this.stackUid]={position:n,stack:new Error().stack.split(`
`).slice(3,5)},o.stackUid=this.stackUid),o.setTrailingComments=function(h){o.instance?o.instance.setTrailingComments(h):o.trailingComments=h},o.destroy=function(h){e&&(h?h.leadingComments?h.leadingComments=e.concat(h.leadingComments):h.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete s.stack[o.stackUid]},o},ct.prototype.checkNodes=function(){var t=[];for(var e in this.stack)Object.prototype.hasOwnProperty.call(this.stack,e)&&(this.stack[e].key=e,t.push(this.stack[e]));return this.stack={},t},[qo,Zo,ta,ea,ia,na,sa,ne,ra,oa,aa,ha,la,ca,ua,_a,da,pa,fa,ye,ka,Ta,ma,Ti,xa,ht,Ea,ya,va,ga,Aa,Na,ba,La,Ca,Sa,Ia,Oa,Ra,m,wa,Da,Pa,mi,Ua,Ma,Fa,Ha,Ga,Va,Qa,Wa,Ya,ja,$a,za,_t,Gt,Ka,Xa,Ja,qa,Za,th,eh,ih,P,nh,sh,rh,oh,ah,hh,It,lh,ch,uh,_h,dh,ph,fh,kh,Th,Ot,mh,xh,Eh,yh,v,vh,gh,Ah,Nh,bh,Lh,Ch,Sh,Ih,Oh,Rh,wh,Dh,Ph,Uh,Mh,Fh,Bh,Hh,Gh,Vh,Qh,Wh,Yh].forEach(function(t){ct.prototype[t.kind]=t});var _r=ct;function Ei(t,e){for(var i=Object.keys(t),n=i.length;n--;){var s=i[n],o=t[s];o===null?delete e[s]:typeof o=="function"?e[s]=o.bind(e):Array.isArray(o)?e[s]=Array.isArray(e[s])?e[s].concat(o):o:jt(o)==="object"?e[s]=jt(e[s])==="object"?Ei(o,e[s]):o:e[s]=o}return e}var kt=function(t){if(typeof this=="function")return new this(t);if(this.tokens=un,this.lexer=new sn(this),this.ast=new _r,this.parser=new ln(this.lexer,this.ast),t&&jt(t)==="object"){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if(typeof t.parser.version=="string"){var e=t.parser.version.split(".");if(e=100*parseInt(e[0])+parseInt(e[1]),isNaN(e))throw new Error("Bad version number : "+t.parser.version);t.parser.version=e}else if(typeof t.parser.version!="number")throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}Ei(t,this),this.lexer.version=this.parser.version}},yi=function(t){return typeof t.write=="function"?t.toString():t};kt.create=function(t){return new kt(t)},kt.parseEval=function(t,e){return new kt(e).parseEval(t)},kt.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=yi(t),this.parser.parse(t,"eval")},kt.parseCode=function(t,e,i){return jt(e)!=="object"||i||(i=e,e="unknown"),new kt(i).parseCode(t,e)},kt.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=yi(t),this.parser.parse(t,e)},kt.tokenGetAll=function(t,e){return new kt(e).tokenGetAll(t)},kt.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=yi(t);var e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);for(var n=this.lexer.lex()||e,s=[];n!=e;){var o=this.lexer.yytext;Object.prototype.hasOwnProperty.call(i,n)&&(o=[i[n],o,this.lexer.yylloc.first_line]),s.push(o),n=this.lexer.lex()||e}return s};var Kt=kt,jh=un,$h=sn,zh=_r,Kh=ln,Xh=Ei,Jh=kt,qh=kt;Kt.tokens=jh,Kt.lexer=$h,Kt.AST=zh,Kt.parser=Kh,Kt.combine=Xh,Kt.Engine=Jh,Kt.default=qh;var dr=function(t,e,i){var n=i&&i.parentParser==="markdown";if(!t&&n)return"";t=t.replace(/\?>\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);var s,o=new Kt({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),h=t.indexOf("<?php")!==-1,r=n&&!h;try{s=r?o.parseEval(t):o.parseCode(t)}catch(c){throw c instanceof SyntaxError&&"lineNumber"in c&&(c.loc={start:{line:c.lineNumber,column:c.columnNumber}},delete c.lineNumber,delete c.columnNumber),c}return s.extra={parseAsEval:r},s.comments.forEach(function(c){c.value[c.value.length-1]===`
`&&(c.value=c.value.slice(0,-1),c.loc.end.offset=c.loc.end.offset-1)}),s},he=Yt.default.util,Zh=he.hasNewline,tl=he.skipEverythingButNewLine,el=he.skipNewline,il=he.isNextLineEmpty,nl=he.isPreviousLineEmpty,sl=he.getNextNonSpaceNonCommentCharacterIndex,rl=Yt.default.version;function vi(t,e){return parseInt(rl[0])>1?t[e]:t}var pr={};function gi(t){return pr[t]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(t,e){t.forEach(function(i){pr[i]=e})});var fr=["==","!=","===","!==","<>","<=>"],Be=["*","/","%"],Ai=[">>","<<"];function kr(t){return["block","program","namespace","class","enum","interface","trait","traituse","declare"].includes(t.kind)}function Tr(t){var e=t.body;return e?(e.kind==="block"&&(e=e.children),e[0]):null}function Xt(t){var e=t.children||t.body||t.adaptations;return Array.isArray(e)?e:null}function mr(t){var e=t.getParentNode();return e?Xt(e):null}function He(t){return t.length>0?t[t.length-1]:null}function Ni(t){var e=t.getValue();if(e.kind==="program"){var i=Xt(e);return!(!i||i.length===0)&&i[0].kind==="inline"}if(e.kind==="switch"){if(!e.body)return!1;var n=Xt(e.body);if(n.length===0)return!1;var s=Et(n,1)[0];if(!s.body)return!1;var o=Xt(s.body);return o.length!==0&&o[0].kind==="inline"}var h=Tr(e);return!!h&&h.kind==="inline"}var xr=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(t,e){return t[e.toLowerCase()]=e,t},{}),R={printNumber:function(t){return t.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:gi,isBitwiseOperator:function(t){return!!Ai[t]||t==="|"||t==="^"||t==="&"},shouldFlatten:function(t,e){return gi(e)===gi(t)&&t!=="**"&&(!fr.includes(t)||!fr.includes(e))&&!(e==="%"&&Be.includes(t)||t==="%"&&Be.includes(e))&&(e===t||!Be.includes(e)||!Be.includes(t))&&(!Ai.includes(t)||!Ai.includes(e))},nodeHasStatement:kr,getNodeListProperty:Xt,getParentNodeListProperty:mr,getLast:He,getPenultimate:function(t){return t.length>1?t[t.length-2]:null},isLastStatement:function(t){var e=mr(t);if(!e)return!0;var i=t.getValue();return e[e.length-1]===i},getBodyFirstChild:Tr,lineShouldEndWithSemicolon:function(t){var e=t.getValue(),i=t.getParentNode();if(!i)return!1;if(["for","foreach","while","do","if","switch"].includes(i.kind)&&e.kind!=="block"&&e.kind!=="if"&&(i.body===e||i.alternate===e))return!0;if(!kr(i)||e.kind==="echo"&&e.shortForm)return!1;if(e.kind==="traituse")return!e.adaptations;if(e.kind==="method"&&e.isAbstract)return!0;if(e.kind==="method"){var n=t.getParentNode();if(n&&n.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","enumcase","global","static","echo","unset","return","break","continue","throw"].includes(e.kind)},fileShouldEndWithHardline:function(t){var e=t.getValue(),i=e.kind==="program",n=e.children&&He(e.children);if(!i||n&&["halt","inline"].includes(n.kind))return!1;if(n&&(n.kind==="declare"||n.kind==="namespace")){var s=n.children.length>0&&He(n.children);if(s&&["halt","inline"].includes(s.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(t){var e=t.replace(/^\\/,"");return e.indexOf("\\")!==-1?e:t},hasDanglingComments:function(t){return t.comments&&t.comments.some(function(e){return!e.leading&&!e.trailing})},hasLeadingComment:function(t){return t.comments&&t.comments.some(function(e){return e.leading})},hasTrailingComment:function(t){return t.comments&&t.comments.some(function(e){return e.trailing})},docShouldHaveTrailingNewline:function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e.getNode(i),s=e.getNode(i+1),o=e.getNode(i+2);if(!s)return!1;if(o&&["call","new","echo"].includes(o.kind)&&!["call","array"].includes(s.kind)||s.kind==="parameter"){var h=o.arguments.length-1,r=o.arguments.indexOf(s);return r!==h}if(o&&o.kind==="for"){var c=o.init.indexOf(s);if(c!==-1)return c!==o.init.length-1;var l=o.test.indexOf(s);if(l!==-1)return l!==o.test.length-1;var a=o.increment.indexOf(s);if(a!==-1)return a!==o.increment.length-1}if(s.kind==="bin")return s.left===n||t(e,i+1);if(s.kind==="case"&&s.test===n)return!0;if(s.kind==="staticvariable"){var y=o.variables.length-1,E=o.variables.indexOf(s);return E!==y}if(s.kind==="entry"){if(s.key===n)return!0;var D=o.items.length-1,M=o.items.indexOf(s);return M!==D}if(["call","new"].includes(s.kind)){var g=s.arguments.length-1,H=s.arguments.indexOf(n);return H!==g}if(s.kind==="echo"){var L=s.expressions.length-1,Q=s.expressions.indexOf(n);return Q!==L}if(s.kind==="array"){var W=s.items.length-1,F=s.items.indexOf(n);return F!==W}return s.kind==="retif"&&t(e,i+1)},isLookupNode:function(t){return t.kind==="propertylookup"||t.kind==="nullsafepropertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"},isFirstChildrenInlineNode:Ni,shouldPrintHardLineAfterStartInControlStructure:function(t){var e=t.getValue();return!["try","catch"].includes(e.kind)&&Ni(t)},shouldPrintHardLineBeforeEndInControlStructure:function(t){var e=t.getValue();if(["try","catch"].includes(e.kind))return!0;if(e.kind==="switch"){var i=Xt(e.body);if(i.length===0)return!0;var n=He(i);if(!n.body)return!0;var s=Xt(n.body);return s.length===0||s[0].kind!=="inline"}return!Ni(t)},getAlignment:function(t){var e=t.split(`
`).pop();return e.length-e.trimLeft().length+1},isProgramLikeNode:function(t){return["program","declare","namespace"].includes(t.kind)},isReferenceLikeNode:function(t){return["name","parentreference","selfreference","staticreference"].includes(t.kind)},getNodeKindIncludingLogical:function(t){return t.kind==="bin"&&["||","&&"].includes(t.type)?"logical":t.kind},useDoubleQuote:function(t,e){if(t.isDoubleQuote===e.singleQuote){var i=t.raw.slice(t.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return t.isDoubleQuote?i:!i}return t.isDoubleQuote},hasEmptyBody:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body",i=t.getValue();return i[e]&&i[e].children&&i[e].children.length===0&&(!i[e].comments||i[e].comments.length===0)},isNextLineEmptyAfterNamespace:function(t,e,i){var n=i(e);return n=tl(t,n),n=el(t,n),Zh(t,n)},shouldPrintHardlineBeforeTrailingComma:function(t){return t.kind==="nowdoc"||t.kind==="encapsed"&&t.type==="heredoc"||t.kind==="entry"&&(t.value.kind==="nowdoc"||t.value.kind==="encapsed"&&t.value.type==="heredoc")},isDocNode:function(t){return t.kind==="nowdoc"||t.kind==="encapsed"&&t.type==="heredoc"},getAncestorNode:function(t,e){var i=function(n,s){for(var o,h=[].concat(s),r=-1;o=n.getParentNode(++r);)if(h.indexOf(o.kind)!==-1)return r;return-1}(t,e);return i===-1?null:t.getParentNode(i)},getNextNode:function(t,e){var i=t.getParentNode(),n=Xt(i);if(!n)return null;var s=n.indexOf(e);return s===-1?null:i.children[s+1]},normalizeMagicMethodName:function(t){var e=t.toLowerCase();return xr[e]?xr[e]:t},isPreviousLineEmpty:function(t,e,i){return nl(t,e,vi(i,"locStart"))},isNextLineEmpty:function(t,e,i){return il(t,e,vi(i,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(t,e,i){return sl(t,e,vi(i,"locEnd"))}},le=Yt.default.util,Rt=le.addLeadingComment,Tt=le.addDanglingComment,wt=le.addTrailingComment,ol=le.skipNewline,Ge=le.hasNewline,al=le.hasNewlineInRange,ce=Yt.default.doc.builders,Er=ce.join,hl=ce.indent,Mt=ce.hardline,yr=ce.cursor,vr=ce.lineSuffix,ll=ce.breakParent,Ae=R.getNextNonSpaceNonCommentCharacterIndex,cl=R.isNextLineEmpty,ul=R.isPreviousLineEmpty,_l=R.isLookupNode;function Ve(t,e){var i=t.children;i.length===0?Tt(t,e):Rt(i[0],e)}function bi(t,e){t.kind==="block"?Ve(t,e):Rt(t,e)}function gr(t,e,i,n,s,o){var h=Ae(t,s,o),r=t.charAt(h);return e&&e.kind==="identifier"&&i&&(i.kind==="function"||i.kind==="method")&&r===")"?(wt(i,s),!0):!(!i||i.kind!=="function"&&i.kind!=="method"||!n||n.kind!=="block")&&(Ve(n,s),!0)}function Li(t,e,i,n,s,o){if(!i||i.kind!=="if"||!n)return!1;var h=Ae(t,s,o);return t.charAt(h)===")"?(wt(e,s),!0):e===i.body&&n===i.alternate?(Tt(i,s),!0):n.kind==="if"?(bi(n.body,s),!0):i.body===n&&(Rt(n,s),!0)}function Ci(t,e,i){if(t&&["class","interface","trait"].includes(t.kind)){if(e&&t.extends){if(Array.isArray(t.extends)){if(t.extends.some(function(n){if(e&&e===n)return Tt(e,i),!0}))return!0}else if(e===t.extends)return Tt(e,i),!0}if(e&&t.implements&&t.implements.some(function(n){if(e&&e===n)return Tt(e,i),!0}))return!0;if(!(t.body&&t.body.length>0))return Tt(t,i),!0}return!!(e&&e.kind==="class"&&e.isAnonymous&&e.leadingComments&&i.kind==="commentblock")}function Si(t,e,i,n,s){if(e&&(e.kind==="function"||e.kind==="method")){for(var o=0,h=0;h<e.arguments.length;h++)o=s.locEnd(e.arguments[h])>o?s.locEnd(e.arguments[h]):o;var r=e.body&&s.locStart(n)>o&&s.locEnd(n)<s.locStart(e.body),c=Ae(t,n,s);if(e.type&&r&&t.charAt(c)!==")")return s.locEnd(n)<s.locStart(e.type)?(Tt(e.type,n),!0):(wt(e.type,n),!0)}return!1}function Ii(t,e,i,n,s){return!(!i||!["function","method","parameter"].includes(i.kind))&&e.kind==="typereference"&&n.kind==="identifier"&&(wt(e,s),!0)}function Ar(t,e){return!(!t||!["label","goto"].includes(t.kind))&&(wt(t,e),!0)}function Oi(t,e,i,n){return i&&i.kind==="inline"?(i.leadingComments||(i.leadingComments=[]),i.leadingComments.includes(n)||i.leadingComments.push(n),!0):!(t||i||!e||e.kind!=="inline")&&(Tt(e,n),!0)}function Nr(t,e,i){return!(!t||t.kind!=="try"||!e)&&(e.kind==="block"?(Ve(e,i),!0):e.kind==="try"?(bi(e.always,i),!0):e.kind==="catch"&&(bi(e.body,i),!0))}function br(t,e,i,n){return i||e||!t||t.kind!=="namespace"||t.withBrackets?!(e||!t||t.kind!=="namespace"||t.withBrackets)&&(Tt(t,n),!0):(wt(t,n),!0)}function Lr(t,e,i,n){return!(!t||t.kind!=="declare")&&(!e||e.kind!=="noop")&&(i&&t.directives[0]!==i?!(!i||!e)&&(Rt(i,n),!0):(t.mode==="none"?wt(t,n):Tt(t,n),!0))}function Ri(t,e,i,n,s,o){if(!i||i.kind!=="while"||!n)return!1;var h=Ae(t,s,o);return t.charAt(h)===")"?(wt(e,s),!0):n.kind==="block"&&(Ve(n,s),!0)}function wi(t,e){return t.getValue().printed=!0,e.printer.printComment(t,e)}function Cr(t,e,i){return t.getNode()===e.cursorNode&&t.getValue()?[yr,i,yr]:i}var S={handleOwnLineComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,o=t.followingNode;return gr(e,n,s,o,t,i)||function(h,r,c){return h&&_l(h)&&r&&["identifier","variable","encapsed"].includes(r.kind)?(Rt(h,c),!0):!1}(s,o,t)||Li(e,n,s,o,t,i)||Ri(e,n,s,o,t,i)||Nr(s,o,t)||Ci(s,o,t)||Ii(e,n,s,o,t)||Si(e,s,o,t,i)||function(h,r,c,l){return!c&&h&&(h.kind==="for"||h.kind==="foreach")?(h.body&&h.body.kind!=="block"?Rt(c,l):Rt(h,l),!0):!1}(s,0,o,t)||Oi(s,n,o,t)||Lr(s,n,o,t)},handleEndOfLineComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,o=t.followingNode;return function(h,r,c,l,a){return!r&&!l&&c&&c.kind==="array"?(wt(c,a),!0):!1}(0,n,s,o,t)||function(h,r,c,l,a){return c&&c.kind==="return"&&!c.expr?(wt(c,a),!0):!1}(0,0,s,0,t)||gr(e,n,s,o,t,i)||function(h,r,c,l,a,y){var E=r&&!al(a,y.locEnd(r),y.locStart(l));return(!r||!E)&&h&&h.kind==="retif"&&c?(Rt(c,l),!0):!1}(s,n,o,t,e,i)||Li(e,n,s,o,t,i)||Ri(e,n,s,o,t,i)||Nr(s,o,t)||Ci(s,o,t)||Ii(e,n,s,o,t)||Si(e,s,o,t,i)||function(h,r){return h&&h.kind==="entry"?(Rt(h,r),!0):!1}(s,t)||function(h,r,c){return r&&r.kind==="call"&&h&&r.what===h&&r.arguments.length>0?(Rt(r.arguments[0],c),!0):!1}(n,s,t)||function(h,r,c){if(h&&h.kind==="assign"&&r){var l=h.loc.start.offset+h.loc.source.indexOf("=");if(c.loc.start.offset>l)return Rt(r,c),!0}return!1}(s,o,t)||Oi(s,n,o,t)||br(s,n,o,t)||Lr(s,n,o,t)||Ar(s,t)},handleRemainingComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,o=t.followingNode;return Li(e,n,s,o,t,i)||Ri(e,n,s,o,t,i)||function(h,r,c,l){var a=Ae(h,c,l);return h.charAt(a)!==")"?!1:r&&(r.kind==="function"||r.kind==="closure"||r.kind==="method"||r.kind==="call"||r.kind==="new")&&r.arguments.length===0?(Tt(r,c),!0):!1}(e,s,t,i)||Ci(s,o,t)||function(h,r,c){return h&&h.kind==="traituse"&&h.adaptations&&!h.adaptations.length?(Tt(h,c),!0):!1}(s,0,t)||Ii(e,n,s,o,t)||Si(e,s,o,t,i)||Ar(s,t)||function(h,r,c,l){return r&&r.kind==="halt"?(Tt(r,l),!0):h&&h.kind==="halt"?(Tt(h,l),!0):!1}(n,s,0,t)||function(h,r){return h&&(h.kind==="continue"||h.kind==="break")&&!h.label?(wt(h,r),!0):!1}(s,t)||Oi(s,n,o,t)||br(s,n,o,t)},getCommentChildNodes:function(t){return jt(t)!=="object"?[]:function(e){return Object.keys(e).filter(function(i){return i!=="kind"&&i!=="loc"&&i!=="errors"&&i!=="extra"&&i!=="comments"&&i!=="leadingComments"&&i!=="enclosingNode"&&i!=="precedingNode"&&i!=="followingNode"}).map(function(i){return e[i]})}(t)},canAttachComment:function(t){return t.kind&&t.kind!=="commentblock"&&t.kind!=="commentline"},isBlockComment:function(t){return t.kind==="commentblock"},printDanglingComments:function(t,e,i,n){var s=[],o=t.getValue();return o&&o.comments?(t.each(function(h){var r=h.getValue();!r||r.leading||r.trailing||n&&!n(r)||s.push(wi(h,e))},"comments"),s.length===0?"":i?Er(Mt,s):hl([Mt,Er(Mt,s)])):""},hasLeadingComment:function(t){return t.comments&&t.comments.some(function(e){return e.leading})},hasTrailingComment:function(t){return t.comments&&t.comments.some(function(e){return e.trailing})},hasLeadingOwnLineComment:function(t,e,i){return e.comments&&e.comments.some(function(n){return n.leading&&Ge(t,i.locEnd(n))})},printComments:function(t,e){var i=[];return t.forEach(function(n,s,o){n.printed=!0;var h=o.length===s+1;i.push(n.value),h||i.push(Mt),cl(e.originalText,n,e)&&!h&&i.push(Mt)}),i},printAllComments:function(t,e,i,n){var s=t.getValue(),o=e(t),h=s&&s.comments;if(!h||h.length===0)return Cr(t,i,o);var r=[],c=[n?";":"",o];return t.each(function(l){var a=l.getValue(),y=a.leading,E=a.trailing;if(y){var D=function(g,H,L){var Q=g.getValue(),W=wi(g,L);return W?L.printer.isBlockComment&&L.printer.isBlockComment(Q)?[W,Ge(L.originalText,L.locEnd(Q))?Mt:" "]:[W,Mt]:""}(l,0,i);if(!D)return;r.push(D);var M=i.originalText;Ge(M,ol(M,i.locEnd(a)))&&r.push(Mt)}else E&&c.push(function(g,H,L){var Q=g.getValue(),W=wi(g,L);if(!W)return"";var F=L.printer.isBlockComment&&L.printer.isBlockComment(Q);if(Ge(L.originalText,L.locStart(Q),{backwards:!0})){var C=ul(L.originalText,Q,L);return vr([Mt,C?Mt:"",W])}return F?[" ",W]:[vr([" ",W]),F?"":ll]}(l,0,i))},"comments"),Cr(t,i,r.concat(c))}};function Sr(){}Sr.strictEqual=function(){};var dl=Sr,Ir=R.getPrecedence,pl=R.shouldFlatten,fl=R.isBitwiseOperator,Or=function(t){var e=t.getParentNode();if(!e)return!1;var i=t.getName(),n=t.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(e.kind))return!1;switch(n.kind){case"pre":case"post":if(e.kind==="unary")return n.kind==="pre"&&(n.type==="+"&&e.type==="+"||n.type==="-"&&e.type==="-");case"unary":switch(e.kind){case"unary":return n.type===e.type&&(n.type==="+"||n.type==="-");case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what"&&e.what===n;case"bin":return e.type==="**"&&i==="left";default:return!1}case"bin":switch(e.kind){case"assign":case"retif":return["and","xor","or"].includes(n.type);case"silent":case"cast":return n.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":return i==="what"&&e.what===n;case"bin":var s=e.type,o=Ir(s),h=n.type,r=Ir(h);return o>r||s==="||"&&h==="&&"||(o===r&&i==="right"?(dl.strictEqual(e.right,n),!0):o===r&&!pl(s,h)||(o<r&&h==="%"?s==="+"||s==="-":!!fl(s)));default:return!1}case"propertylookup":case"nullsafepropertylookup":case"staticlookup":return e.kind==="call"&&i==="what"&&e.what===n&&n.parenthesizedExpression;case"clone":case"new":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what"&&e.what===n;default:return!1}case"yield":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what"&&e.what===n;case"retif":return e.test===n;default:return!(!n.key&&!n.value)}case"assign":return(e.kind!=="for"||!e.init.includes(n)&&!e.increment.includes(n))&&e.kind!=="assign"&&e.kind!=="static"&&!["if","do","while","foreach","switch"].includes(e.kind)&&e.kind!=="silent"&&e.kind!=="call";case"retif":switch(e.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(i==="test"&&!e.trueExpr);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what"&&e.what===n;default:return!1}case"closure":switch(e.kind){case"call":return i==="what"&&e.what===n;case"propertylookup":case"nullsafepropertylookup":return!0;default:return!1}case"silence":case"cast":return n.parenthesizedExpression;case"string":case"array":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(n.kind)||e.kind!=="offsetlookup")&&i==="what"&&e.what===n;default:return!1}case"print":case"include":return e.kind==="bin"}return!1},mt=Yt.default.doc.builders,Rr=mt.breakParent,et=mt.join,B=mt.line,kl=mt.lineSuffix,k=mt.group,ue=mt.conditionalGroup,x=mt.indent,Tl=mt.dedent,Jt=mt.ifBreak,f=mt.hardline,I=mt.softline,_e=mt.literalline,ml=mt.align,xl=mt.dedentToRoot,qt=Yt.default.doc.utils.willBreak,Di=Yt.default.util,El=Di.isNextLineEmptyAfterIndex,yl=Di.hasNewline,wr=Di.hasNewlineInRange,Zt=R.getLast,vl=R.getPenultimate,Dr=R.isLastStatement,gl=R.lineShouldEndWithSemicolon,Al=R.printNumber,Pr=R.shouldFlatten,Ur=R.maybeStripLeadingSlashFromUse,Nl=R.fileShouldEndWithHardline,yt=R.hasDanglingComments,Mr=R.hasLeadingComment,Fr=R.hasTrailingComment,Br=R.docShouldHaveTrailingNewline,xt=R.isLookupNode,Pi=R.isFirstChildrenInlineNode,bl=R.shouldPrintHardLineAfterStartInControlStructure,Ll=R.shouldPrintHardLineBeforeEndInControlStructure,Cl=R.getAlignment,Ui=R.isProgramLikeNode,de=R.getNodeKindIncludingLogical,Sl=R.useDoubleQuote,Hr=R.hasEmptyBody,Il=R.isNextLineEmptyAfterNamespace,Gr=R.shouldPrintHardlineBeforeTrailingComma,Mi=R.isDocNode,Fi=R.getAncestorNode,Bi=R.isReferenceLikeNode,Ol=R.getNextNode,Rl=R.normalizeMagicMethodName,wl=R.getNextNonSpaceNonCommentCharacterIndex,se=R.isNextLineEmpty;function pe(t,e){return parseFloat(t)>=parseFloat(e)}function Ne(t,e){return!!t.trailingCommaPHP&&pe(t.phpVersion,e)}function Hi(t){return t.braceStyle!=="1tbs"}function Gi(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return[n?"?":"","->",t.call(i,"offset")]}function Vr(t,e,i){return Gi(t,e,i,!0)}function Qr(t,e,i){var n=t.getValue(),s=!["variable","identifier"].includes(n.offset.kind);return["::",s?"{":"",t.call(i,"offset"),s?"}":""]}function Wr(t,e,i){var n=t.getValue(),s=n.offset&&n.offset.kind==="number"||Fi(t,"encapsed");return["[",n.offset?k([x([s?"":I,t.call(i,"offset")]),s?"":I]):"","]"]}function Yr(t){return t.kind==="array"&&(t.items.length>0||t.comments)||t.kind==="function"||t.kind==="method"||t.kind==="closure"}function Dl(t){var e=Zt(t),i=vl(t);return!Mr(e)&&!Fr(e)&&Yr(e)&&(!i||i.kind!==e.kind)}function Pl(t){if(t.length!==2)return!1;var e=Et(t,2),i=e[0],n=e[1];return!(i.comments&&i.comments.length||i.kind!=="function"&&i.kind!=="method"&&i.kind!=="closure"||n.kind==="retif"||Yr(n))}function Ft(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments",s=t.getValue()[n];if(s.length===0)return["(",S.printDanglingComments(t,e,!0),")"];var o=!1,h=!1,r=s.length-1,c=t.map(function(F,C){var G=F.getNode(),z=[i(F)];return C===r||(se(e.originalText,G,e)?(C===0&&(h=!0),o=!0,z.push(",",f,f)):z.push(",",B)),z},n),l=t.getValue(),a=Zt(s),y=Ne(e,"7.3")&&["call","new","unset","isset"].includes(l.kind)||Ne(e,"8.0")&&["function","closure","method","arrowfunc","attribute"].includes(l.kind)?x([a&&Gr(a)?f:"",","]):"";function E(){return k(["(",x([B].concat(j(c))),y,B,")"],{shouldBreak:!0})}var D=Pl(s),M=Dl(s);if(D||M){var g,H=(D?c.slice(1).some(qt):c.slice(0,-1).some(qt))||o,L=0;t.each(function(F){D&&L===0&&(g=[F.call(function(C){return i(C,{expandFirstArg:!0})}),c.length>1?",":"",h?f:B,h?f:"",c.slice(1)]),M&&L===s.length-1&&(g=[].concat(j(c.slice(0,-1)),[F.call(function(C){return i(C,{expandLastArg:!0})})])),L++},n);var Q=c.some(qt),W=["("].concat(j(g),[")"]);return[Q?Rr:"",ue([Q?Jt(E(),W):W,D?["(",k(g[0],{shouldBreak:!0})].concat(j(g.slice(1)),[")"]):["("].concat(j(c.slice(0,-1)),[k(Zt(g),{shouldBreak:!0}),")"]),k(["(",x([B].concat(j(c))),Jt(y),B,")"],{shouldBreak:!0})],{shouldBreak:H})]}return k(["(",x([I].concat(j(c))),Jt(y),I,")"],{shouldBreak:c.some(qt)||o})}function jr(t){return t.kind==="array"&&t.items.length!==0}function be(t){return t.right.kind==="array"&&t.right.items.length!==0}function $r(t,e,i,n,s){var o=[],h=t.getValue();if(h.kind==="bin"){Pr(h.type,h.left.type)?o=o.concat(t.call(function(y){return $r(y,e,i,!0,s)},"left")):o.push(t.call(e,"left"));var r=be(h)?[h.type," ",t.call(e,"right")]:[h.type,B,t.call(e,"right")],c=t.getParentNode(),l=!(s&&["||","&&"].includes(h.type))&&de(c)!==de(h)&&de(h.left)!==de(h)&&de(h.right)!==de(h),a=Mi(h.left)||h.left.kind==="bin"&&Mi(h.left.right);o.push(a?"":" ",l?k(r):r),n&&h.comments&&(o=S.printAllComments(t,function(){return o},i))}else o.push(t.call(e));return o}function zr(t,e,i){var n=t.getValue();switch(n.kind){case"propertylookup":return Gi(t,e,i);case"nullsafepropertylookup":return Vr(t,e,i);case"staticlookup":return Qr(t,0,i);case"offsetlookup":return Wr(t,0,i);default:return"Have not implemented lookup kind ".concat(n.kind," yet.")}}function Kr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.opening,n=i===void 0||i;if(t.type==="heredoc")return n?"<<<".concat(t.label):t.label;var s={string:'"',shell:"`"};return s[t.type]?s[t.type]:"Unimplemented encapsed type ".concat(t.type)}function Ul(t,e,i){var n=[],s=[];return t.each(function(o){n.push(s),n.push(k(i(o))),s=[",",B],o.getValue()&&se(e.originalText,o.getValue(),e)&&s.push(I)},"items"),n}function Ml(t,e){if(e.length===0)return t;var i=0;return e.reduce(function(n,s){var o=s.start,h=s.end,r=s.alignment,c=s.before,l=s.after,a=[c||""].concat(j(t.slice(o,h)),[l||""]),y=n.concat(t.slice(i,o),r?xl(k(ml(new Array(r).join(" "),a))):k(a),h===t.length-1?t.slice(h):"");return i=h,y},[])}function Le(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",s=t.getValue(),o=t.getParentNode(),h=-1,r=[],c=[];t.map(function(F,C){var G=F.getValue(),z=G.kind==="inline",bt=i(F),st=s[n],_=st[C+1],u=!Dr(F)&&!z&&(_&&_.kind==="case"?!Pi(t):_&&_.kind!=="inline"),A=[bt,u?f:"",u&&se(e.originalText,G,e)?f:""],N=C===0,T=st.length-1===C,V=s.kind==="block"&&o&&["function","closure","method","try","catch"].includes(o.kind),Y=V&&N?"":" ";if(z||!z&&T&&h>=0){var J=h;if(z&&(h=C),z&&!N||!z&&T){var rt=(z?J:h)+1,O=T&&!z?C+1:C,K=st[z?J:h],dt=K?Cl(K.raw):"",ee=O-rt>1,ie=ee?V&&!K||Ui(s)&&rt===0?"":f:"",Lt=ee&&G.kind!=="halt"?V&&T?"":f:"";ee&&(Y=""),c.push({start:rt,end:O,alignment:dt,before:ie,after:Lt})}}if(z){var vt=_&&_.kind==="echo"&&_.shortForm?"<?=":"<?php",Ke=G.leadingComments&&G.leadingComments.length?[N&&s.kind!=="namespace"&&!V?"<?php":"",s.kind!=="namespace"&&V?"":f,S.printComments(G.leadingComments,e),f,"?>"]:Ui(s)&&N&&s.kind!=="namespace"?"":[Y,"?>"],Qt=t.getNode(C+1),ke=Qt&&Qt.children&&Qt.children.length;A=[Ke,A,G.comments&&G.comments.length?[vt,f,ke?S.printComments(G.comments,e):"",f]:Ui(s)&&T?"":[vt," "]]}r.push(A)},n);var l=Ml(r,c);if(s.kind==="program"&&!s.extra.parseAsEval){var a=[],y=Et(s.children,1),E=y[0],D=!E||E.kind!=="inline";if(D){var M=e.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),g=[M&&M[2]&&M[2].includes(`
`)?[f,M[2].split(`
`).length>2?f:""]:" ",s.comments?S.printComments(s.comments,e):""],H=E&&E.kind==="echo"&&E.shortForm;a.push([H?"<?=":"<?php",g])}a.push(l);var L=/\?>\n?$/.test(e.originalText);if(L){var Q=Zt(s.children),W=Q?[wr(e.originalText.trimEnd(),e.locEnd(Q),e.locEnd(s))?Q.kind==="inline"&&Q.comments&&Q.comments.length?"":f:" ",se(e.originalText,Q,e)?f:""]:s.comments?f:"";a.push(kl([W,"?>"]))}return a}return l}function Xr(t,e,i,n){return t.map(function(s){var o=[];return o.push(i(s)),Dr(s)||(o.push(f),se(e.originalText,s.getValue(),e)&&o.push(f)),o},n)}function Nt(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ",h=t.getValue(),r=yt(h[n])?[f,t.call(function(l){return S.printDanglingComments(l,e,!0)},n),f]:s,c=Array.isArray(h[n])?k(et(",",t.map(function(l){var a=i(l);return yt(l.getValue())?[f,S.printDanglingComments(l,e,!0),f,a]:[o,a]},n))):[o,t.call(i,n)];return x([r,n,qt(r)?x(c):c])}function te(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.inline,o=s!==void 0&&s,h=[];return t.getValue().attrGroups?(t.each(function(r){var c=["#["];!o&&h.length>0&&h.push(f),c.push(I),r.each(function(l){var a=l.getValue();c.length>2&&c.push(",",B);var y=[a.name];a.args.length>0&&y.push(Ft(l,e,i,"args")),c.push(k(y))},"attrs"),h.push(k([x(c),Jt(Ne(e,"8.0")?",":""),I,"]",o?Jt(I," "):""]))},"attrGroups"),h.length===0?[]:[].concat(h,[o?"":f])):[]}function Vt(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body",s=t.getValue();if(!s[n])return";";var o=t.call(i,n);return[s.shortForm?":":" {",x(s[n].kind!=="block"||s[n].children&&s[n].children.length>0||s[n].comments&&s[n].comments.length>0?[bl(t)?s.kind==="switch"?" ":"":f,o]:""),s.kind==="if"&&n==="body"?"":[Ll(t)?f:"",s.shortForm?["end",s.kind,";"]:"}"]]}function Qe(t,e,i,n,s,o,h){if(!n)return e;var r=We(t,n,s,o,h);return k([e,i,r])}function Jr(t){return!!xt(t)&&(!(t.what.kind!=="variable"&&!Bi(t.what))||Jr(t.what))}function We(t,e,i,n,s){var o=n?"&":"";if(S.hasLeadingOwnLineComment(s.originalText,e,s))return x([f,o,i]);var h=e.kind==="cast"?e.expr:e;return h.kind==="bin"&&!be(h)||h.kind==="retif"&&(!h.trueExpr&&!jr(h.falseExpr)||h.test.kind==="bin"&&!be(h.test))||(t.kind==="variable"||t.kind==="string"||xt(t))&&(h.kind==="string"&&!qr(h)||Jr(h))?k(x([B,o,i])):[" ",o,i]}function qr(t){return t.raw.includes(`
`)}function Ye(t,e,i){return(t.kind==="string"||t.kind==="encapsed"&&(t.type==="string"||t.type==="shell"))&&qr(t)&&!yl(e,i.locStart(t),{backwards:!0})}function Zr(t,e,i){return k(t.map(function(n,s){return s===0?[t.call(e)]:[i,t.call(e)]},"types"))}var Fl=function(t,e,i){var n=t.getValue();if(!n)return"";if(typeof n=="string")return n;var s=function(r,c,l){var a=r.getValue();switch(a.kind){case"program":return k([Le(r,c,l),S.printDanglingComments(r,c,!0,function(d){return!d.printed})]);case"expressionstatement":return r.call(l,"expression");case"block":return[Le(r,c,l),S.printDanglingComments(r,c,!0)];case"declare":var y=function(d){return et(", ",d.map(function(b){return l(b)},"directives"))};if(["block","short"].includes(a.mode))return["declare(",y(r),")",a.mode==="block"?" {":":",a.children.length>0?x([f,Le(r,c,l)]):"",S.printDanglingComments(r,c),f,a.mode==="block"?"}":"enddeclare;"];var E=Ol(r,a);return["declare(",y(r),")",E&&E.kind==="inline"?"":";"];case"declaredirective":return[r.call(l,"key"),"=",r.call(l,"value")];case"namespace":return["namespace ",a.name&&typeof a.name=="string"?[a.name,a.withBrackets?" ":""]:"",a.withBrackets?"{":";",yt(a)?[" ",S.printDanglingComments(r,c,!0)]:"",a.children.length>0?a.withBrackets?x([f,Le(r,c,l)]):[a.children[0].kind==="inline"?"":[f,Il(c.originalText,a,c.locStart)?f:""],Le(r,c,l)]:"",a.withBrackets?[f,"}"]:""];case"usegroup":return k(["use ",a.type?[a.type," "]:"",x([a.name?[Ur(a.name),"\\{",I]:"",et([",",B],r.map(function(d){return l(d)},"items"))]),a.name?[Jt(Ne(c,"7.2")?",":""),I,"}"]:""]);case"useitem":return[a.type?[a.type," "]:"",Ur(a.name),yt(a)?[" ",S.printDanglingComments(r,c,!0)]:"",a.alias?[" as ",r.call(l,"alias")]:""];case"class":case"enum":case"interface":case"trait":return function(d,b,U){var p=d.getValue(),pt=p.kind==="class"&&p.isAnonymous,tt=te(d,b,U,{inline:pt}),it=pt?[]:j(tt);p.isReadonly&&it.push("readonly "),p.isFinal&&it.push("final "),p.isAbstract&&it.push("abstract "),it.push(pt?"":p.kind),p.name&&it.push(" ",d.call(U,"name")),p.kind==="enum"&&p.valueType&&it.push(": ",d.call(U,"valueType")),p.extends&&p.implements?it.push(ue([[Nt(d,b,U,"extends"),Nt(d,b,U,"implements")],[Nt(d,b,U,"extends"),Nt(d,b,U,"implements"," ",f)],[Nt(d,b,U,"extends",f," "),Nt(d,b,U,"implements",f,p.implements.length>1?f:" ")]],{shouldBreak:yt(p.extends)})):(p.extends&&it.push(ue([Nt(d,b,U,"extends"),Nt(d,b,U,"extends"," ",f),Nt(d,b,U,"extends",f,p.extends.length>1?f:" ")])),p.implements&&it.push(ue([Nt(d,b,U,"implements"),Nt(d,b,U,"implements"," ",f),Nt(d,b,U,"implements",f,p.implements.length>1?f:" ")])));var gt=k([k(it),Hi(b)?pt?B:f:" "]),$=p.body&&p.body.length===0&&!yt(p),ut=["{",x([$?"":f,Xr(d,b,U,"body")]),S.printDanglingComments(d,b,!0),pt&&$?I:f,"}"];return[gt,ut]}(r,c,l);case"traitprecedence":return[r.call(l,"trait"),"::",r.call(l,"method")," insteadof ",et(", ",r.map(l,"instead"))];case"traitalias":return[a.trait?[r.call(l,"trait"),"::"]:"",a.method?r.call(l,"method"):""," as ",et(" ",[].concat(j(a.visibility?[a.visibility]:[]),j(a.as?[r.call(l,"as")]:[])))];case"traituse":return k(["use ",x(k(et([",",B],r.map(l,"traits")))),a.adaptations?[" {",a.adaptations.length>0?[x([f,Xr(r,c,l,"adaptations")]),f]:yt(a)?[B,S.printDanglingComments(r,c,!0),B]:"","}"]:""]);case"function":case"closure":case"method":return function(d,b,U){var p=d.getValue(),pt=te(d,b,U,{inline:p.kind==="closure"}),tt=[];p.isFinal&&tt.push("final "),p.isAbstract&&tt.push("abstract "),p.visibility&&tt.push(p.visibility," "),p.isStatic&&tt.push("static "),tt.push("function "),p.byref&&tt.push("&"),p.name&&tt.push(d.call(U,"name")),tt.push(Ft(d,b,U)),p.uses&&p.uses.length>0&&tt.push(k([" use ",Ft(d,b,U,"uses")])),p.type&&tt.push([": ",yt(p.type)?[d.call(function(ut){return S.printDanglingComments(ut,b,!0)},"type")," "]:"",p.nullable?"?":"",d.call(U,"type")]);var it=tt;if(!p.body)return[].concat(j(pt),[it]);var gt=p.kind==="closure",$=["{",x([Hr(d)?"":f,d.call(U,"body")]),gt&&Hr(d)?"":f,"}"];return gt?[].concat(j(pt),[it," ",$]):p.arguments.length===0?[].concat(j(pt),[it,Hi(b)?f:" ",$]):tt.some(qt)?[it," ",$]:[].concat(j(pt),[ue([[it,Hi(b)?f:" ",$],[it," ",$]])])}(r,c,l);case"arrowfunc":return[a.parenthesizedExpression?"(":""].concat(j(te(r,c,l,{inline:!0})),[a.isStatic?"static ":"","fn",Ft(r,c,l),a.type?[": ",a.nullable?"?":"",r.call(l,"type")]:""," => ",r.call(l,"body"),a.parenthesizedExpression?")":""]);case"parameter":var D="";a.flags===1?D="public ":a.flags===2?D="protected ":a.flags===4&&(D="private ");var M=[].concat(j(te(r,c,l,{inline:!0})),[D,a.readonly?"readonly ":"",a.nullable?"?":"",a.type?[r.call(l,"type")," "]:"",a.byref?"&":"",a.variadic?"...":"","$",r.call(l,"name")]);return a.value?k([M,yt(a)?" ":"",S.printDanglingComments(r,c,!0)," =",We(a.name,a.value,r.call(l,"value"),!1,c)]):M;case"variadic":return["...",r.call(l,"what")];case"property":return k([a.readonly?"readonly ":"",a.type?[a.nullable?"?":"",r.call(l,"type")," "]:"","$",r.call(l,"name"),a.value?[" =",We(a.name,a.value,r.call(l,"value"),!1,c)]:""]);case"propertystatement":var g=[];r.map(function(d){return g.push.apply(g,j(te(d,c,l)))},"properties");var H,L=r.map(function(d){return l(d)},"properties"),Q=a.properties.some(function(d){return d.value});L.length!==1||a.properties[0].comments?L.length>0&&(H=x(L[0])):H=Et(L,1)[0];var W=a.visibility||a.visibility===null;return k([].concat(g,[W?[a.visibility===null?"var":a.visibility,""]:"",a.isStatic?[W?" ":"","static"]:"",H?[" ",H]:"",x(L.slice(1).map(function(d){return[",",Q?f:B,d]}))]));case"if":var F=[],C=Vt(r,c,l,"body"),G=k(["if (",k([x([I,r.call(l,"test")]),I]),")",C]);if(F.push(G,Pi(r)||!a.body?"":f),a.alternate){F.push(a.shortForm?"":"} ");var z=Fr(a.body)&&a.body.comments.some(function(d){return d.trailing&&!S.isBlockComment(d)})||function(d){if(!d.comments)return!1;var b=Zt(d.comments.filter(function(U){return!U.leading&&!U.trailing}));return b&&!S.isBlockComment(b)}(a),bt=!z;F.push(bt?"":f),yt(a)&&F.push(se(c.originalText,a.body,c)?f:"",S.printDanglingComments(r,c,!0),z?f:" "),F.push("else",k(a.alternate.kind==="if"?r.call(l,"alternate"):Vt(r,c,l,"alternate")))}else F.push(a.body?a.shortForm?"endif;":"}":"");return F;case"do":return["do",Vt(r,c,l,"body")," while (",k([x([I,r.call(l,"test")]),I]),")"];case"while":case"switch":return k([a.kind," (",k([x([I,r.call(l,"test")]),I]),")",Vt(r,c,l,"body")]);case"for":var st=Vt(r,c,l,"body"),_=S.printDanglingComments(r,c,!0),u=_?[_,I]:"";return a.init.length||a.test.length||a.increment.length?[u,k(["for (",k([x([I,k(et([",",B],r.map(l,"init"))),";",B,k(et([",",B],r.map(l,"test"))),";",B,k(et([",",B],r.map(l,"increment")))]),I]),")",st])]:[u,k(["for (;;)",st])];case"foreach":var A=Vt(r,c,l,"body"),N=S.printDanglingComments(r,c,!0);return[N?[N,I]:"",k(["foreach (",k([x([I,r.call(l,"source"),B,"as ",k(a.key?x(et([" =>",B],[r.call(l,"key"),r.call(l,"value")])):r.call(l,"value"))]),I]),")",A])];case"try":var T=[];return T.push("try",Vt(r,c,l,"body")),a.catches&&T.push(r.map(l,"catches")),a.always&&T.push(" finally",Vt(r,c,l,"always")),T;case"catch":return[" catch",a.what?[" (",et(" | ",r.map(l,"what")),a.variable?[" ",r.call(l,"variable")]:"",")"]:"",Vt(r,c,l,"body")];case"case":return[a.test?["case ",a.test.comments?x(r.call(l,"test")):r.call(l,"test"),":"]:"default:",a.body&&a.body.children&&a.body.children.length?x([Pi(r)?"":f,r.call(l,"body")]):""];case"break":case"continue":return a.level&&a.level.kind==="number"&&a.level.value!=="1"?["".concat(a.kind," "),r.call(l,"level")]:a.kind;case"call":return a.arguments.length===1&&Ye(a.arguments[0],c.originalText,c)?[r.call(l,"what"),"(",et(", ",r.map(l,"arguments")),")"]:xt(a.what)?function(d,b,U){var p=[];function pt(w){var q=b.originalText,nt=wl(q,w,b);return q.charAt(nt)===")"?El(q,nt+1,b):se(q,w,b)}function tt(w){var q=w.getValue();if(q.kind!=="call"||!xt(q.what)&&q.what.kind!=="call")if(xt(q)){var nt=null;nt=q.kind==="propertylookup"?Gi(w,b,U):q.kind==="nullsafepropertylookup"?Vr(w,b,U):q.kind==="staticlookup"?Qr(w,b,U):Wr(w,b,U),p.unshift({node:q,needsParens:Or(w),printed:S.printAllComments(w,function(){return nt},b)}),w.call(function(Ie){return tt(Ie)},"what")}else p.unshift({node:q,printed:w.call(U)});else p.unshift({node:q,printed:[S.printAllComments(w,function(){return Ft(w,b,U)},b),pt(q)?f:""]}),w.call(function(Ie){return tt(Ie)},"what")}var it=d.getValue();p.unshift({node:it,printed:Ft(d,b,U)}),d.call(function(w){return tt(w)},"what");for(var gt=0;gt<p.length;++gt)p[gt].node.kind==="call"&&p[gt-1]&&["propertylookup","nullsafepropertylookup","staticlookup"].includes(p[gt-1].node.kind)&&p[gt-1].needsParens&&(p[0].printed=["(",p[0].printed],p[gt-1].printed=[p[gt-1].printed,")"]);for(var $=[],ut=[p[0]],X=1;X<p.length&&(p[X].node.kind==="call"||xt(p[X].node)&&p[X].node.offset&&p[X].node.offset.kind==="number");++X)ut.push(p[X]);if(p[0].node.kind!=="call")for(;X+1<p.length&&xt(p[X].node)&&xt(p[X+1].node);++X)ut.push(p[X]);$.push(ut),ut=[];for(var si=!1;X<p.length;++X){if(si&&xt(p[X].node)){if(p[X].node.kind==="offsetlookup"&&p[X].node.offset&&p[X].node.offset.kind==="number"){ut.push(p[X]);continue}$.push(ut),ut=[],si=!1}p[X].node.kind==="call"&&(si=!0),ut.push(p[X]),p[X].node.comments&&S.hasTrailingComment(p[X].node)&&($.push(ut),ut=[],si=!1)}ut.length>0&&$.push(ut);function Mc(w){var q=w[1].length&&w[1][0].node.kind==="offsetlookup";if(w[0].length===1){var nt=w[0][0].node;return nt.kind==="variable"&&(nt.name==="this"||Fc&&Ie(nt.name))||Bi(nt)}function Ie(Vc){return Vc.length<b.tabWidth}var Xi=Zt(w[0]).node;return xt(Xi)&&(Xi.offset.kind==="identifier"||Xi.offset.kind==="variable")&&q}var Fc=d.getParentNode().kind==="expressionstatement",ri=$.length>=2&&!$[1][0].node.comments&&Mc($);function oi(w){for(var q=[],nt=0;nt<w.length;nt++)w[nt+1]&&w[nt+1].needsParens?(q.push("(",w[nt].printed,w[nt+1].printed,")"),nt++):q.push(w[nt].printed);return q}function Bc(w){return w.length===0?"":x(k([f,et(f,w.map(oi))]))}var Go=$.map(oi),Ki=Go,ai=ri?3:2,Vo=$.slice(0,ai).flat(),Qo=Vo.slice(1,-1).some(function(w){return S.hasLeadingComment(w.node)})||Vo.slice(0,-1).some(function(w){return S.hasTrailingComment(w.node)})||$[ai]&&S.hasLeadingComment($[ai][0].node),Hc=Fi(d,"encapsed");if($.length<=ai&&!Qo||Hc)return k(Ki);var Wo=Zt(ri?$.slice(1,2)[0]:$[0]).node,Yo=Wo.kind!=="call"&&pt(Wo),jo=[oi($[0]),ri?$.slice(1,2).map(oi):"",Yo?f:"",Bc($.slice(ri?2:1))],Gc=p.filter(function(w){return w.node.kind==="call"}).length;return Qo||Gc>=3||Go.slice(0,-1).some(qt)?k(jo):[qt(Ki)||Yo?Rr:"",ue([Ki,jo])]}(r,c,l):[r.call(l,"what"),Ft(r,c,l)];case"new":var V=a.what&&a.what.kind==="class"&&a.what.isAnonymous;if(!V&&a.arguments.length===1&&Ye(a.arguments[0],c.originalText,c))return["new "].concat(j(r.call(te,"what")),[r.call(l,"what"),"(",et(", ",r.map(l,"arguments")),")"]);var Y=[];if(Y.push("new "),V)Y.push.apply(Y,[a.what.leadingComments&&a.what.leadingComments[0].kind==="commentblock"?[S.printComments(a.what.leadingComments,c)," "]:""].concat(j(r.call(function(d){return te(d,c,l,{inline:!0})},"what")),["class",a.arguments.length>0?[" ",Ft(r,c,l)]:"",k(r.call(l,"what"))]));else{var J=["call","offsetlookup"].includes(a.what.kind),rt=[J?"(":"",r.call(l,"what"),J?")":"",Ft(r,c,l)];Y.push(Mr(a.what)?x(rt):rt)}return Y;case"clone":return["clone ",a.what.comments?x(r.call(l,"what")):r.call(l,"what")];case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var O,K=r.getParentNode(),dt=0;do O=r.getParentNode(dt),dt++;while(O&&xt(O));var ee=Fi(r,"encapsed")||O&&(O.kind==="new"||O.kind==="assign"&&O.left.kind!=="variable")||a.kind==="offsetlookup"||(Bi(a.what)||a.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(a.offset.kind)&&K&&!xt(K);return[r.call(l,"what"),ee?zr(r,c,l):k(x([I,zr(r,c,l)]))];case"exit":return k([a.useDie?"die":"exit","(",a.expression?Ye(a.expression,c.originalText,c)?r.call(l,"expression"):[x([I,r.call(l,"expression")]),I]:S.printDanglingComments(r,c),")"]);case"global":return k(["global ",x(et([",",B],r.map(l,"items")))]);case"include":return[a.require?"require":"include",a.once?"_once":""," ",a.target.comments?x(r.call(l,"target")):r.call(l,"target")];case"label":return[r.call(l,"name"),":"];case"goto":return["goto ",r.call(l,"label")];case"throw":return["throw ",a.what.comments?x(r.call(l,"what")):r.call(l,"what")];case"silent":return["@",r.call(l,"expr")];case"halt":return[yt(a)?[S.printDanglingComments(r,c,!0),f]:"","__halt_compiler();",a.after];case"eval":return k(["eval(",Ye(a.source,c.originalText,c)?r.call(l,"source"):[x([I,r.call(l,"source")]),I],")"]);case"echo":var ie,Lt=r.map(function(d){return l(d)},"expressions");return Lt.length!==1||a.expressions[0].comments?Lt.length>0&&(ie=Mi(a.expressions[0])||a.expressions[0].comments?x(Lt[0]):Tl(Lt[0])):ie=Et(Lt,1)[0],k([a.shortForm?"":"echo ",ie||"",x(Lt.slice(1).map(function(d){return[",",B,d]}))]);case"print":return["print ",a.expression.comments?x(r.call(l,"expression")):r.call(l,"expression")];case"return":var vt=[];if(vt.push("return"),a.expr){var Ke=r.call(l,"expr");vt.push(" ",a.expr.comments?x(Ke):Ke)}return yt(a)&&vt.push(" ",S.printDanglingComments(r,c,!0)),vt;case"isset":case"unset":return k([a.kind,Ft(r,c,l,"variables")]);case"empty":return k(["empty(",x([I,r.call(l,"expression")]),I,")"]);case"variable":var Qt=r.getParentNode(),ke=r.getParentNode(1),mc=Qt.kind==="assign"?"":a.byref?"&":"",xc=Qt.kind==="encapsedpart"&&Qt.syntax==="simple"&&Qt.curly||ke&&Qt.kind==="offsetlookup"&&ke.kind==="encapsedpart"&&ke.syntax==="simple"&&ke.curly?"":"$",Ec=a.curly?"{":"",yc=a.curly?"}":"";return[mc,xc,Ec,r.call(l,"name"),yc];case"constantstatement":case"classconstant":var Xe,vc=te(r,c,l),Ce=r.map(function(d){return l(d)},"constants");return Ce.length!==1||a.constants[0].comments?Ce.length>0&&(Xe=x(Ce[0])):Xe=Et(Ce,1)[0],k([].concat(j(vc),[a.visibility?[a.visibility," "]:"","const",Xe?[" ",Xe]:"",x(Ce.slice(1).map(function(d){return[",",f,d]}))]));case"constant":return Qe(a.name,r.call(l,"name")," =",a.value,r.call(l,"value"),!1,c);case"static":var Je,Se=r.map(function(d){return l(d)},"variables"),gc=a.variables.some(function(d){return d.defaultValue});return Se.length!==1||a.variables[0].comments?Se.length>0&&(Je=x(Se[0])):Je=Et(Se,1)[0],k(["static",Je?[" ",Je]:"",x(Se.slice(1).map(function(d){return[",",gc?f:B,d]}))]);case"staticvariable":return Qe(a.variable,r.call(l,"variable")," =",a.defaultValue,r.call(l,"defaultValue"),!1,c);case"list":case"array":var No=a.kind==="array"&&pe(c.phpVersion,"5.4")||a.kind==="list"&&(a.shortForm||pe(c.phpVersion,"7.1")),Wi=No?"[":[a.kind,"("],Yi=No?"]":")";if(a.items.length===0)return yt(a)?k([Wi,S.printDanglingComments(r,c),I,Yi]):[Wi,Yi];var qe=Zt(a.items),bo=qe&&qe.kind==="noop",Ze=Et(a.items.filter(function(d){return d.kind!=="noop"}).sort(function(d,b){return c.locStart(d)-c.locStart(b)}),1)[0],Ac=!(!Ze||!Ze.key)&&Ze&&wr(c.originalText,c.locStart(a),c.locStart(Ze));return k([Wi,x([I,Ul(r,c,l)]),bo?",":"",Jt(!bo&&Ne(c,"5.0")?[qe&&Gr(qe)?f:"",","]:""),S.printDanglingComments(r,c,!0),I,Yi],{shouldBreak:Ac});case"entry":var Lo=a.byRef?"&":"",Nc=a.unpack?"...":"";return a.key?Qe(a.key,r.call(l,"key")," =>",a.value,r.call(l,"value"),Lo,c):[Lo,Nc,r.call(l,"value")];case"yield":var Co=[a.key?[r.call(l,"key")," => "]:"",r.call(l,"value")];return["yield",a.key||a.value?" ":"",a.value&&a.value.comments?x(Co):Co];case"yieldfrom":return["yield from ",a.value.comments?x(r.call(l,"value")):r.call(l,"value")];case"unary":return[a.type,r.call(l,"what")];case"pre":return[a.type+a.type,r.call(l,"what")];case"post":return[r.call(l,"what"),a.type+a.type];case"cast":return["(",a.type,") ",a.expr.comments?x(r.call(l,"expr")):r.call(l,"expr")];case"assignref":case"assign":var So=a.kind==="assignref";return Qe(a.left,r.call(l,"left"),[" ",So?"=":a.operator],a.right,r.call(l,"right"),So,c);case"bin":var Ct=r.getParentNode(),Io=r.getParentNode(1),Oo=a!==Ct.body&&(Ct.kind==="if"||Ct.kind==="while"||Ct.kind==="switch"||Ct.kind==="do"),Te=$r(r,l,c,!1,Oo);if(Oo)return Te;if(Ct.kind==="unary"||xt(Ct)&&Ct.kind!=="offsetlookup")return k([x([I].concat(j(Te))),I]);var bc=a!==Ct.body&&Ct.kind==="for"||Ct.kind==="retif"&&Io&&Io.kind!=="return",Lc=["assign","property","constant","staticvariable","entry"].includes(Ct.kind),Cc=a.left.kind==="bin"&&Pr(a.type,a.left.type);if(bc||be(a)&&!Cc||!be(a)&&Lc)return k(Te);var Sc=Te.slice(1);return k([Te.length>0?Te[0]:"",x(Sc)]);case"retif":var ti,ei=[],ii=r.getParentNode(),Ro=0;do ti=r.getParentNode(Ro),Ro++;while(ti&&ti.kind==="retif");var wo=ti||ii,Do=a.falseExpr.kind==="bin"?x(r.call(l,"falseExpr")):r.call(l,"falseExpr"),Ic=[a.trueExpr?B:" ","?",a.trueExpr?[" ",a.trueExpr.kind==="bin"?x(r.call(l,"trueExpr")):r.call(l,"trueExpr"),B]:"",":",a.trueExpr?[" ",Do]:[jr(a.falseExpr)?" ":B,Do]];ei.push(Ic);var Po=function(d){return ii===wo?k(d):d},Uo=r.getParentNode(1),re=ii.kind==="cast"&&Uo?Uo:ii,Oc=["propertylookup","nullsafepropertylookup","staticlookup"].includes(re.kind),ji=r.call(l,"test");if(!a.trueExpr){var Mo=[ji,re.kind==="bin"||["print","echo","return","include"].includes(wo.kind)?x(ei):ei];return re.kind==="call"&&re.what===a||re.kind==="unary"||xt(re)&&re.kind!=="offsetlookup"?k([x([I,Mo]),I]):Po(Mo)}return Po([a.test.kind==="retif"?x(ji):ji,x(ei),Oc?I:""]);case"boolean":return a.value?"true":"false";case"number":return Al(a.value);case"string":if(r.getParentNode().kind==="encapsedpart"){var Fo=r.getParentNode(1),$i=0,Rc=pe(c.phpVersion,"7.3"),Bo=_e;if(Fo.type==="heredoc"){Bo=Rc?f:_e;var ni=Fo.raw.split(`
`);($i=ni[ni.length-1].search(/\S/))===-1&&($i=ni[ni.length-2].search(/\S/))}return et(Bo,a.raw.split(`
`).map(function(d,b){return b>0||a.loc.start.column===0?d.substring($i):d}))}var Ho=Sl(a,c)?'"':"'",Dt=a.raw;return a.raw[0]==="b"&&(Dt=Dt.slice(1)),['"',"'"].includes(Dt[0])&&(Dt=Dt.substr(1)),['"',"'"].includes(Dt[Dt.length-1])&&(Dt=Dt.substr(0,Dt.length-1)),[a.raw[0]==="b"?"b":"",Ho,et(_e,Dt.split(`
`)),Ho];case"intersectiontype":return Zr(r,l,"&");case"uniontype":return Zr(r,l,"|");case"encapsedpart":var wc=a.syntax==="simple"&&a.curly||a.syntax==="complex"?[a.curly?"$":"","{"]:"",Dc=a.syntax==="simple"&&a.curly||a.syntax==="complex"?"}":"";return[wc,r.call(l,"expression"),Dc];case"encapsed":switch(a.type){case"string":case"shell":case"heredoc":var Pc=pe(c.phpVersion,"7.3")?f:_e;return[Kr(a),a.type==="heredoc"?Pc:""].concat(j(r.map(l,"value")),[Kr(a,{opening:!1}),a.type==="heredoc"&&Br(r)?f:""]);default:return"Have not implemented kind ".concat(a.type," yet.")}case"inline":return et(_e,a.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(`
`));case"magic":return a.value;case"nowdoc":var zi=pe(c.phpVersion,"7.3")?f:_e;return["<<<'",a.label,"'",zi,et(zi,a.value.split(`
`)),zi,a.label,Br(r)?f:""];case"name":return[a.resolution==="rn"?"namespace\\":"",a.name];case"literal":return r.call(l,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return a.name;case"nullkeyword":return"null";case"identifier":return r.getParentNode().kind==="method"&&(a.name=Rl(a.name)),r.call(l,"name");case"match":var Uc=r.map(function(d,b){var U=d.getValue().conds===null?"default":d.map(function(pt,tt){return[",",B,l(pt)].slice(tt===0?2:0)},"conds"),p=d.call(l,"body");return[",",f,k([k([U,x(B)]),"=> ",p])].slice(b>0?0:1)},"arms");return k(["match (",k([I,x(r.call(l,"cond")),I]),") {",k(x([].concat(j(Uc),[c.trailingCommaPHP?Jt(","):""])))," ",I,"}"]);case"noop":return a.comments?S.printComments(r.getValue().comments,c):"";case"namedargument":return[a.name,": ",r.call(l,"value")];case"enumcase":return k(["case ",r.call(l,"name"),a.value?[" =",We(a.name,a.value,r.call(l,"value"),!1,c)]:""]);case"variadicplaceholder":return"...";default:return"Have not implemented kind ".concat(a.kind," yet.")}}(t,e,i),o=[],h=Or(t);return h&&o.unshift("("),o.push(s),h&&o.push(")"),gl(t)&&o.push(";"),Nl(t)&&o.push(f),o},Bl=new Set(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"]);function to(t,e){if(t.kind==="string"&&delete e.isDoubleQuote,["array","list"].includes(t.kind)&&delete e.shortForm,t.kind==="inline"){if(t.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;e.value=e.value.replace(/\n/g,"")}if((t.kind==="continue"||t.kind==="break")&&t.level){var i=e.level;i.kind==="number"&&(e.level=i.value==="1"?null:i)}if(t.kind==="block"&&t.children.length===1&&t.children[0].kind==="block")for(;e.children[0].kind==="block";)e.children=e.children[0].children;if(t.kind==="number"&&(e.value=R.printNumber(t.value)),["foreach","for","if","while","do"].includes(t.kind)&&(t.body&&t.body.kind!=="block"?e.body={kind:"block",children:[e.body]}:e.body=e.body?e.body:null,t.alternate&&t.alternate.kind!=="block"?e.alternate={kind:"block",children:[e.alternate]}:e.alternate=e.alternate?e.alternate:null),t.kind==="usegroup"&&typeof t.name=="string"&&(e.name=e.name.replace(/^\\/,"")),t.kind==="useitem"&&(e.name=e.name.replace(/^\\/,"")),t.kind==="method"&&t.name.kind==="identifier"&&(e.name.name=R.normalizeMagicMethodName(e.name.name)),t.kind==="noop")return null}to.ignoredProperties=Bl;var Hl=to,Vi="PHP",Gl={phpVersion:{since:"0.13.0",category:Vi,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"},{value:"8.1"}]},trailingCommaPHP:{since:"0.0.0",category:Vi,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:Vi,type:"choice",default:"per-cs",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"(deprecated) Use per-cs"},{value:"per-cs",description:"Use the PER Coding Style brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},Vl=function(t,e,i,n){if(i!=="length"&&i!=="prototype"&&i!=="arguments"&&i!=="caller"){var s=Object.getOwnPropertyDescriptor(t,i),o=Object.getOwnPropertyDescriptor(e,i);!Ql(s,o)&&n||Object.defineProperty(t,i,o)}},Ql=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Wl=function(t,e){var i=Object.getPrototypeOf(e);i!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,i)},Yl=function(t,e){return"/* Wrapped ".concat(t,`*/
`).concat(e)},jl=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),$l=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),zl=function(t,e,i){var n=i===""?"":"with ".concat(i.trim(),"() "),s=Yl.bind(null,n,e.toString());Object.defineProperty(s,"name",$l),Object.defineProperty(t,"toString",Oe(Oe({},jl),{},{value:s}))},Kl=function(t,e){var i,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.ignoreNonConfigurable,o=s!==void 0&&s,h=t.name,r=en(Reflect.ownKeys(e));try{for(r.s();!(i=r.n()).done;){var c=i.value;Vl(t,e,c,o)}}catch(l){r.e(l)}finally{r.f()}return Wl(t,e),zl(t,e,h),t},je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ji<"u"?Ji:typeof self<"u"?self:{};function eo(t){return t&&t.default||t}var $e,Xl=function(){var t={};return t.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),t},io=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){var i=je&&je.__awaiter||function(h,r,c,l){return new(c||(c=Promise))(function(a,y){function E(g){try{M(l.next(g))}catch(H){y(H)}}function D(g){try{M(l.throw(g))}catch(H){y(H)}}function M(g){g.done?a(g.value):new c(function(H){H(g.value)}).then(E,D)}M((l=l.apply(h,r||[])).next())})},n=je&&je.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(Xl);function o(h){var r,c,l,a=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"maxAge",E=function(){return i(a,void 0,void 0,me().mark(function g(){var H,L,Q,W,F=this;return me().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(r===void 0){C.next=2;break}return C.abrupt("return");case 2:H=function(G){return i(F,void 0,void 0,me().mark(function z(){var bt;return me().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(l=s.default(),!((bt=G[1][y]-Date.now())<=0)){st.next=6;break}return h.delete(G[0]),l.resolve(),st.abrupt("return");case 6:return r=G[0],typeof(c=setTimeout(function(){h.delete(G[0]),l&&l.resolve()},bt)).unref=="function"&&c.unref(),st.abrupt("return",l.promise);case 10:case"end":return st.stop()}},z)}))},C.prev=3,L=en(h),C.prev=5,L.s();case 7:if((Q=L.n()).done){C.next=13;break}return W=Q.value,C.next=11,H(W);case 11:C.next=7;break;case 13:C.next=18;break;case 15:C.prev=15,C.t0=C.catch(5),L.e(C.t0);case 18:return C.prev=18,L.f(),C.finish(18);case 21:C.next=25;break;case 23:C.prev=23,C.t1=C.catch(3);case 25:r=void 0;case 26:case"end":return C.stop()}},g,null,[[3,23],[5,15,18,21]])}))},D=function(){r=void 0,c!==void 0&&(clearTimeout(c),c=void 0),l!==void 0&&(l.reject(void 0),l=void 0)},M=h.set.bind(h);return h.set=function(g,H){h.has(g)&&h.delete(g);var L=M(g,H);return r&&r===g&&D(),E(),L},E(),h}e.default=o,t.exports=o,t.exports.default=o});($e=io)&&$e.__esModule&&Object.prototype.hasOwnProperty.call($e,"default")&&$e.default;var Jl=io,Qi=new WeakMap,no=new WeakMap,ze=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.cacheKey,n=e.cache,s=n===void 0?new Map:n,o=e.maxAge;typeof o=="number"&&Jl(s);var h=function(){for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];var a=i?i(c):c[0],y=s.get(a);if(y)return y.data;var E=t.apply(this,c);return s.set(a,{data:E,maxAge:o?Date.now()+o:Number.POSITIVE_INFINITY}),E};return Kl(h,t,{ignoreNonConfigurable:!0}),no.set(h,s),h};ze.decorator=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(e,i,n){var s=e[i];if(typeof s!="function")throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!Qi.has(this)){var o=ze(s,t);return Qi.set(this,o),o}return Qi.get(this)}}},ze.clear=function(t){var e=no.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var so=/@prettier|@format/,ro=ze(function(t){var e=dr(t),i=Et(e.children,1)[0],n=Et(e.comments.filter(function(s){return s.kind==="commentblock"}),1)[0];if(i&&n&&n.loc.start.line<i.loc.start.line)return n}),ql=function(t){if(!so.test(t))return!1;var e=ro(t);if(e){var i=e.value;return so.test(i)}return!1},Zl=function(t){var e=ro(t);if(e){var i=e.loc,n=i.start.offset,s=i.end.offset,o=t.substring(0,n),h=t.substring(s);return"".concat(o).concat(function(y){var E=y.split(`
`);if(E.length===1){var D=Et(/\/*\*\*(.*)\*\//.exec(E[0]),2)[1];E=["/**"," * ".concat(D.trim())," */"]}var M=E.findIndex(function(g){return/@\S/.test(g)})||1;return E.splice(M,0," * @format"),E.join(`
`)}(e.value)).concat(h)}var r="<?php";if(!t.startsWith(r))return t;var c=r.length,l=t.substring(0,c),a=t.substring(c);return"".concat(l,`
/** 
 * @format 
 */
`).concat(a)},oo="programming",ao="text.html.php",ho="application/x-httpd-php",lo="#4F5D95",co=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],uo=[".php",".php_cs",".php_cs.dist","Phakefile"],_o=["php"],po=["inc"],tc={name:"PHP",type:oo,tmScope:ao,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:ho,color:lo,extensions:co,filenames:uo,interpreters:_o,aliases:po,languageId:272},ec=Object.freeze({__proto__:null,name:"PHP",type:oo,tmScope:ao,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:ho,color:lo,extensions:co,filenames:uo,interpreters:_o,aliases:po,languageId:272,default:tc}),fo="HTML+PHP",ko="markup",To="#4f5d95",mo="text.html.php",xo="HTML",Eo=[".phtml"],yo="application/x-httpd-php",ic={name:fo,type:ko,color:To,tmScope:mo,group:xo,extensions:Eo,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:yo,languageId:151},nc=Object.freeze({__proto__:null,name:fo,type:ko,color:To,tmScope:mo,group:xo,extensions:Eo,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:yo,languageId:151,default:ic}),sc=eo(ec),rc=eo(nc),vo=Yt.default.doc.builders,oc=vo.join,ac=vo.hardline,hc=ql,lc=Zl;function go(t,e){var i=e.extend,n=e.override,s={};for(var o in t)s[o==="languageId"?"linguistLanguageId":o]=t[o];if(i)for(var h in i)s[h]=(s[h]||[]).concat(i[h]);for(var r in n)s[r]=n[r];return s}var cc=[go(sc,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),go(rc,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Ao=function(t){return function(e){return e.loc&&e.loc[t]&&e.loc[t].offset}},uc={php:{parse:dr,astFormat:"php",locStart:Ao("start"),locEnd:Ao("end"),hasPragma:hc}},_c={php:{print:Fl,insertPragma:lc,massageAstNode:Hl,getCommentChildNodes:S.getCommentChildNodes,canAttachComment:S.canAttachComment,isBlockComment:S.isBlockComment,handleComments:{ownLine:S.handleOwnLineComment,endOfLine:S.handleEndOfLineComment,remaining:S.handleRemainingComment},willPrintOwnComments:function(t){var e=t.getValue();return e&&e.kind==="noop"},printComment:function(t){var e=t.getValue();switch(e.kind){case"commentblock":if(!e.value.includes(`
`))return e.value;var i=e.value.split(`
`);return i.slice(1,i.length-1).every(function(n){return n.trim()[0]==="*"})?oc(ac,i.map(function(n,s){return(s>0?" ":"")+(s<i.length-1?n.trim():n.trimLeft())})):e.value;case"commentline":return e.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(e)))}},hasPrettierIgnore:function(t){var e=function(s){return s.value.includes("prettier-ignore")&&!s.value.includes("prettier-ignore-start")&&!s.value.includes("prettier-ignore-end")},i=t.getParentNode(),n=t.getNode();return n&&n.kind!=="classconstant"&&n.comments&&n.comments.length>0&&n.comments.some(e)||n&&n.kind==="constant"&&i&&i.kind==="classconstant"&&i.comments&&i.comments.length>0&&i.comments.some(e)}}},fe={languages:cc,printers:_c,parsers:uc,options:Gl,defaultOptions:{tabWidth:4}},dc=fe.languages,pc=fe.printers,fc=fe.parsers,kc=fe.options,Tc=fe.defaultOptions;Wt.default=fe,Wt.defaultOptions=Tc,Wt.languages=dc,Wt.options=kc,Wt.parsers=fc,Wt.printers=pc,Object.defineProperty(Wt,"__esModule",{value:!0})})})(qi,qi.exports);var $c=qi.exports;const zc=Yc($c),tu=new class extends jc{async beautify(){return Wc.format(this.code,{plugins:[zc],parser:"php",tabWidth:this.getOptionValue("tab",4)})}};export{tu as formatter};
