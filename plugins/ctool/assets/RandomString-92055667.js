import{u as A,i as E}from"./action-cd384d03.js";import{d as N,y as R,I as D,z as k,o as F,D as O,r as s,k as H,v as l,w as u,j as a,F as L,f as T,X as G,S as X,G as c}from"./tool-4bde39df.js";import"./modulepreload-polyfill-3cfb730f.js";const f="small",V="0123456789",S="abcdefghijklmnopqrstuvwxyz",z="ABCDEFGHIJKLMNOPQRSTUVWXYZ",I="`~!@#$%^&*()-_=+[{]}|;:',<.>/?",Q=N({__name:"RandomString",async setup(q){let $,y;const t=A(([$,y]=R(()=>E({amount:10,length:32,outputOption:G("text"),base:`${V}${S}${z}`,result:[]})),$=await $,y(),$));let r=D({base:t.current.base,show:!1});const C=()=>{let n=`${t.current.base}`,e=[];for(let i=0,g=t.current.amount;i<g;i++){let m=n.split(""),d="";for(let h=0,_=t.current.length;h<_&&!(m.length<1);h++){let p=Math.floor(Math.random()*m.length);d+=m[p]}e.push(d)}t.current.result=e},B=k(()=>X.formObject(t.current.result));F(()=>{t.current.result.length<1&&C()}),O(()=>({amount:t.current.amount,length:t.current.length,base:t.current.base}),()=>{C()}),O(()=>t.current,n=>{n.result.length<1||t.save()},{deep:!0,immediate:!0});const b=n=>{if(n==="reset"){r.value.base=`${V}${S}${z}`;return}let e=`${r.value.base}`.split("");const i=({digital:`${V}`,lowercase:`${S}`,uppercase:`${z}`,symbol:`${I}`}[n]||"").split("");i.length>0&&(c.intersection(e,i).length>0?e=e.filter(g=>!i.includes(g)):e=[...e,...i]),r.value.base=[...new Set(e)].join("")},v=k(()=>{let n=`${r.value.base}`.split("");return{digital:c.intersection(n,V.split("")).length>0,lowercase:c.intersection(n,S.split("")).length>0,uppercase:c.intersection(n,z.split("")).length>0,symbol:c.intersection(n,I.split("")).length>0}});return(n,e)=>{const i=s("SerializeOutput"),g=s("HeightResize"),m=s("Icon"),d=s("Button"),h=s("Input"),_=s("InputNumber"),p=s("Align"),U=s("Card"),j=s("Textarea"),w=s("Bool"),M=s("Modal");return T(),H(L,null,[l(p,{direction:"vertical"},{default:u(()=>[l(g,{reduce:5,append:[".ctool-page-option"]},{default:u(({height:o})=>[l(i,{modelValue:a(t).current.outputOption,"onUpdate:modelValue":e[0]||(e[0]=x=>a(t).current.outputOption=x),allow:["json","xml","yaml","toml","properties","php_array","text"],height:o,content:B.value},null,8,["modelValue","height","content"])]),_:1},8,["append"]),l(U,{class:"ctool-page-option"},{default:u(()=>[l(p,{horizontal:"center"},{default:u(()=>[l(h,{modelValue:a(t).current.base,"onUpdate:modelValue":e[2]||(e[2]=o=>a(t).current.base=o),width:300},{append:u(()=>[l(d,{onClick:e[1]||(e[1]=o=>{a(r).base=a(t).current.base,a(r).show=!0})},{default:u(()=>[l(m,{hover:"",name:"setting",tooltip:n.$t("main_ui_setting"),size:12},null,8,["tooltip"])]),_:1})]),_:1},8,["modelValue"]),l(_,{modelValue:a(t).current.length,"onUpdate:modelValue":e[3]||(e[3]=o=>a(t).current.length=o),width:100,label:n.$t("randomString_length")},null,8,["modelValue","label"]),l(_,{modelValue:a(t).current.amount,"onUpdate:modelValue":e[4]||(e[4]=o=>a(t).current.amount=o),width:100,label:n.$t("randomString_amount")},null,8,["modelValue","label"]),l(d,{onClick:C},{default:u(()=>[l(m,{name:"refresh"})]),_:1})]),_:1})]),_:1})]),_:1}),l(M,{title:`${n.$t("main_ui_setting")} ${n.$t("randomString_chars")}`,modelValue:a(r).show,"onUpdate:modelValue":e[11]||(e[11]=o=>a(r).show=o),"footer-type":"long",onOk:e[12]||(e[12]=o=>{a(t).current.base=a(r).base,a(r).show=!1})},{default:u(()=>[l(p,{direction:"vertical"},{default:u(()=>[l(j,{modelValue:a(r).base,"onUpdate:modelValue":e[5]||(e[5]=o=>a(r).base=o),height:300},null,8,["modelValue"]),l(p,{horizontal:"center"},{default:u(()=>[l(w,{size:f,border:"",label:n.$t("randomString_digital"),"model-value":v.value.digital,onChange:e[6]||(e[6]=o=>b("digital"))},null,8,["label","model-value"]),l(w,{size:f,border:"",label:n.$t("randomString_lowercase"),"model-value":v.value.lowercase,onChange:e[7]||(e[7]=o=>b("lowercase"))},null,8,["label","model-value"]),l(w,{size:f,border:"",label:n.$t("randomString_uppercase"),"model-value":v.value.uppercase,onChange:e[8]||(e[8]=o=>b("uppercase"))},null,8,["label","model-value"]),l(w,{size:f,border:"",label:n.$t("randomString_symbol"),"model-value":v.value.symbol,onChange:e[9]||(e[9]=o=>b("symbol"))},null,8,["label","model-value"]),l(d,{size:f,text:n.$t("main_ui_reset"),onClick:e[10]||(e[10]=o=>b("reset"))},null,8,["text"])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])],64)}}});export{Q as default};
